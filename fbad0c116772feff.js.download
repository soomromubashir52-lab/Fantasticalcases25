;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="00ca72cc-659a-c750-6d46-9f4b0664c492")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,805579,332055,270082,e=>{"use strict";var t=e.i(973245);let r=t.gql`
    fragment OrgFlagsOrg on Org {
  id
  flags {
    id
    type
    value
  }
}
    `;e.s(["OrgFlagsOrgFragmentDoc",0,r],332055);var i=e.i(304277);e.i(566901);var s=e.i(951262);let n={},o=t.gql`
    fragment CurrentUserOrg on Org {
  id
  slug
  currentUserRole
  dealContext {
    dealType
    salesContactEmail
  }
  ...OrgFlagsOrg
}
    ${r}`,a=t.gql`
    query CurrentUserOrgContext {
  getUserOrgContext2 {
    ... on Org {
      ...CurrentUserOrg
    }
  }
}
    ${o}`;function l(e){let t={...n,...e};return i.useQuery(a,t)}let u=t.gql`
    query CurrentUserOrgContextGetOrg($orgSlug: String!) {
  currentUser {
    id
    org(orgSlug: $orgSlug) {
      ... on Org {
        id
        ...CurrentUserOrg
      }
      ... on Error {
        message
      }
    }
  }
}
    ${o}`;function c(e){let t={...n,...e};return i.useQuery(u,t)}let h=t.gql`
    mutation CurrentUserOrgContextUpdateOrgContext($input: UpdateOrgContextInput!) {
  updateOrgContext(input: $input) {
    ... on Org {
      ...CurrentUserOrg
    }
    ... on Error {
      __typename
      message
    }
  }
}
    ${o}`;function d(e){let t={...n,...e};return s.useMutation(h,t)}e.s(["CurrentUserOrgContextDocument",0,a,"useCurrentUserOrgContextGetOrgQuery",()=>c,"useCurrentUserOrgContextQuery",()=>l,"useCurrentUserOrgContextUpdateOrgContextMutation",()=>d],805579);let p={"flag-sponsorship-bulk-send":"number","flag-org-depl-rules":"boolean","flag-require-git-remote":"boolean","flag-enterprise-git-target-restriction":"boolean","flag-agent-billing-v2-teams":"boolean","flag-org-stack-templates":"boolean","flag-tom-riddle":"boolean","flag-deployments-switch-to-azure":"boolean","flag-experimental-connectors":"string","flag-org-require-security-scan-in-deployment":"boolean","flag-enable-deployment-private-passwords":"boolean","flag-restore-org-subscription":"boolean","flag-exponential-mobility":"boolean","flag-more-data":"boolean","flag-org-custom-mcp-servers":"boolean","flag-org-budgets":"boolean","flag-security-center":"boolean","flag-agent-inbox":"boolean","flag-azure-org-can-use-object-store":"boolean"};function g(e){if(!e||"object"!=typeof e)return!1;let{id:t,type:r,value:i}=e;if(!(t in p))return!1;let s=p[t];return r===s||"number"===s&&"string"===r&&!isNaN(Number(i))}function f(e){return(e.flags||[]).filter(g).reduce((e,{id:t,value:r})=>({...e,[t]:"number"===p[t]?Number(r):r}),{})}e.s(["orgFlags",()=>f],270082)},578947,(e,t,r)=>{"use strict";function i(e){return e.unshift("[Statsig]"),e}Object.defineProperty(r,"__esModule",{value:!0}),r.Log=r.LogLevel=void 0,r.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class s{static info(...e){s.level>=r.LogLevel.Info&&console.info("  INFO ",...i(e))}static debug(...e){s.level>=r.LogLevel.Debug&&console.debug(" DEBUG ",...i(e))}static warn(...e){s.level>=r.LogLevel.Warn&&console.warn("  WARN ",...i(e))}static error(...e){s.level>=r.LogLevel.Error&&console.error(" ERROR ",...i(e))}}r.Log=s,s.level=r.LogLevel.Warn},487188,(e,t,r)=>{"use strict";var i,s,n;Object.defineProperty(r,"__esModule",{value:!0}),r._getInstance=r._getStatsigGlobalFlag=r._getStatsigGlobal=void 0;let o=e.r(578947);r._getStatsigGlobal=()=>{try{return"u">typeof __STATSIG__?__STATSIG__:h}catch(e){return h}},r._getStatsigGlobalFlag=e=>(0,r._getStatsigGlobal)()[e],r._getInstance=e=>{let t=(0,r._getStatsigGlobal)();return e?t.instances&&t.instances[e]:(t.instances&&Object.keys(t.instances).length>1&&o.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),t.firstInstance)};let a="__STATSIG__",l="u">typeof window?window:{},u=e.g,c="u">typeof globalThis?globalThis:{},h=null!=(n=null!=(s=null!=(i=l[a])?i:u[a])?s:c[a])?n:{instance:r._getInstance};l[a]=h,u[a]=h,c[a]=h},625520,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Diagnostics=void 0;let i=new Map,s="start";function n(e,t,r,i){return Object.assign({key:r,action:t,step:i,timestamp:Date.now()},e)}function o(e,t){var r;let s=null!=(r=i.get(e))?r:[];s.push(t),i.set(e,s)}function a(e,t){if(t in e)return e[t]}r.Diagnostics={_getMarkers:e=>i.get(e),_markInitOverallStart:e=>{o(e,n({},s,"overall"))},_markInitOverallEnd:(e,t,r)=>{o(e,n({success:t,error:t?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:r},"end","overall"))},_markInitNetworkReqStart:(e,t)=>{o(e,n(t,s,"initialize","network_request"))},_markInitNetworkReqEnd:(e,t)=>{o(e,n(t,"end","initialize","network_request"))},_markInitProcessStart:e=>{o(e,n({},s,"initialize","process"))},_markInitProcessEnd:(e,t)=>{o(e,n(t,"end","initialize","process"))},_clearMarkers:e=>{i.delete(e)},_formatError(e){if(e&&"object"==typeof e)return{code:a(e,"code"),name:a(e,"name"),message:a(e,"message")}},_getDiagnosticsData(e,t,i,s){var n;return{success:(null==e?void 0:e.ok)===!0,statusCode:null==e?void 0:e.status,sdkRegion:null==(n=null==e?void 0:e.headers)?void 0:n.get("x-statsig-region"),isDelta:!0===i.includes('"is_delta":true')||void 0,attempt:t,error:r.Diagnostics._formatError(s)}},_enqueueDiagnosticsEvent(e,t,i,s){let n=r.Diagnostics._getMarkers(i);if(null==n||n.length<=0)return -1;let o=n[n.length-1].timestamp-n[0].timestamp;r.Diagnostics._clearMarkers(i);let a={eventName:"statsig::diagnostics",user:e,value:null,metadata:{context:"initialize",markers:n.slice(),statsigOptions:s},time:Date.now()};return t.enqueue(a),o}}},952292,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._isTypeMatch=r._typeOf=void 0,r._typeOf=function(e){return Array.isArray(e)?"array":typeof e},r._isTypeMatch=function(e,t){let r=e=>Array.isArray(e)?"array":null===e?"null":typeof e;return r(e)===r(t)}},178029,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._getSortedObject=r._DJB2Object=r._DJB2=void 0;let i=e.r(952292);r._DJB2=e=>{let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return String(t>>>0)},r._DJB2Object=(e,t)=>(0,r._DJB2)(JSON.stringify((0,r._getSortedObject)(e,t))),r._getSortedObject=(e,t)=>{if(null==e)return null;let s=Object.keys(e).sort(),n={};return s.forEach(s=>{let o=e[s];if(0===t||"object"!==(0,i._typeOf)(o)){n[s]=o;return}n[s]=(0,r._getSortedObject)(o,null!=t?t-1:t)}),n}},457635,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._getStorageKey=r._getUserStorageKey=void 0;let i=e.r(178029);function s(e,t,r){var s;if(r)return r(e,t);let n=t&&t.customIDs?t.customIDs:{},o=[`uid:${null!=(s=null==t?void 0:t.userID)?s:""}`,`cids:${Object.keys(n).sort((e,t)=>e.localeCompare(t)).map(e=>`${e}-${n[e]}`).join(",")}`,`k:${e}`];return(0,i._DJB2)(o.join("|"))}r._getUserStorageKey=s,r._getStorageKey=function(e,t,r){return t?s(e,t,r):(0,i._DJB2)(`k:${e}`)}},591230,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NetworkParam=r.NetworkDefault=r.Endpoint=void 0,r.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},r.NetworkDefault={[r.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[r.Endpoint._initialize]:"https://featureassets.org/v1",[r.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},r.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}},269618,(e,t,r)=>{"use strict";var i=e.i(221042);Object.defineProperty(r,"__esModule",{value:!0}),r._getUnloadEvent=r._getCurrentPageUrlSafe=r._addDocumentEventListenerSafe=r._addWindowEventListenerSafe=r._isServerEnv=r._getDocumentSafe=r._getWindowSafe=void 0,r._getWindowSafe=()=>"u">typeof window?window:null,r._getDocumentSafe=()=>{var e;let t=(0,r._getWindowSafe)();return null!=(e=null==t?void 0:t.document)?e:null},r._isServerEnv=()=>{if(null!==(0,r._getDocumentSafe)())return!1;let e=void 0!==i.default&&null!=i.default.versions&&null!=i.default.versions.node;return"string"==typeof EdgeRuntime||e},r._addWindowEventListenerSafe=(e,t)=>{let i=(0,r._getWindowSafe)();"function"==typeof(null==i?void 0:i.addEventListener)&&i.addEventListener(e,t)},r._addDocumentEventListenerSafe=(e,t)=>{let i=(0,r._getDocumentSafe)();"function"==typeof(null==i?void 0:i.addEventListener)&&i.addEventListener(e,t)},r._getCurrentPageUrlSafe=()=>{var e;try{return null==(e=(0,r._getWindowSafe)())?void 0:e.location.href.split(/[?#]/)[0]}catch(e){return}},r._getUnloadEvent=()=>{let e=(0,r._getWindowSafe)();return e&&"onpagehide"in e?"pagehide":"beforeunload"}},305848,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._createLayerParameterExposure=r._createConfigExposure=r._mapExposures=r._createGateExposure=r._isExposureEvent=void 0;let i="statsig::config_exposure",s="statsig::gate_exposure",n="statsig::layer_exposure",o=(e,t,r,i,s)=>(r.bootstrapMetadata&&(i.bootstrapMetadata=r.bootstrapMetadata),{eventName:e,user:t,value:null,metadata:l(r,i),secondaryExposures:s,time:Date.now()});function a(e,t){return e.map(e=>"string"==typeof e?(null!=t?t:{})[e]:e).filter(e=>null!=e)}r._isExposureEvent=({eventName:e})=>e===s||e===i||e===n,r._createGateExposure=(e,t,r)=>{var i,n,l;let u={gate:t.name,gateValue:String(t.value),ruleID:t.ruleID};return(null==(i=t.__evaluation)?void 0:i.version)!=null&&(u.configVersion=t.__evaluation.version),o(s,e,t.details,u,a(null!=(l=null==(n=t.__evaluation)?void 0:n.secondary_exposures)?l:[],r))},r._mapExposures=a,r._createConfigExposure=(e,t,r)=>{var s,n,l,u;let c={config:t.name,ruleID:t.ruleID};return(null==(s=t.__evaluation)?void 0:s.version)!=null&&(c.configVersion=t.__evaluation.version),(null==(n=t.__evaluation)?void 0:n.passed)!=null&&(c.rulePassed=String(t.__evaluation.passed)),o(i,e,t.details,c,a(null!=(u=null==(l=t.__evaluation)?void 0:l.secondary_exposures)?u:[],r))},r._createLayerParameterExposure=(e,t,r,i)=>{var s,l,u,c,h,d,p;let g=t.__evaluation,f=(null==(s=null==g?void 0:g.explicit_parameters)?void 0:s.includes(r))===!0,m="",y=null!=(l=null==g?void 0:g.undelegated_secondary_exposures)?l:[];f&&(m=null!=(u=g.allocated_experiment_name)?u:"",y=null!=(c=g.secondary_exposures)?c:[]);let _=null==(h=t.__evaluation)?void 0:h.parameter_rule_ids,v={config:t.name,parameterName:r,ruleID:null!=(d=null==_?void 0:_[r])?d:t.ruleID,allocatedExperiment:m,isExplicitParameter:String(f)};return(null==(p=t.__evaluation)?void 0:p.version)!=null&&(v.configVersion=t.__evaluation.version),o(n,e,t.details,v,a(y,i))};let l=(e,t)=>(t.reason=e.reason,e.lcut&&(t.lcut=String(e.lcut)),e.receivedAt&&(t.receivedAt=String(e.receivedAt)),t)},284105,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LoggingEnabledOption=r.LogEventCompressionMode=void 0,r.LogEventCompressionMode={Disabled:"d",Enabled:"e",Forced:"f"},r.LoggingEnabledOption={disabled:"disabled",browserOnly:"browser-only",always:"always"}},969388,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._setObjectInStorage=r._getObjectFromStorage=r.Storage=void 0;let i=e.r(578947),s=e.r(269618),n={},o={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:e=>n[e]?n[e]:null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]},getAllKeys:()=>Object.keys(n)},a=null;try{let e=(0,s._getWindowSafe)();e&&e.localStorage&&"function"==typeof e.localStorage.getItem&&(a={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:t=>e.localStorage.getItem(t),setItem:(t,r)=>e.localStorage.setItem(t,r),removeItem:t=>e.localStorage.removeItem(t),getAllKeys:()=>Object.keys(e.localStorage)})}catch(e){i.Log.warn("Failed to setup localStorageProvider.")}let l=null!=a?a:o,u=l;function c(e){try{return e()}catch(e){if(e instanceof Error&&"SecurityError"===e.name)return r.Storage._setProvider(o),null;if(e instanceof Error&&"QuotaExceededError"===e.name){let t=r.Storage.getAllKeys().filter(e=>e.startsWith("statsig."));e.message=`${e.message}. Statsig Keys: ${t.length}`}throw e}}r.Storage={isReady:()=>u.isReady(),isReadyResolver:()=>u.isReadyResolver(),getProviderName:()=>u.getProviderName(),getItem:e=>c(()=>u.getItem(e)),setItem:(e,t)=>c(()=>u.setItem(e,t)),removeItem:e=>u.removeItem(e),getAllKeys:()=>u.getAllKeys(),_setProvider:e=>{l=e,u=e},_setDisabled:e=>{u=e?o:l}},r._getObjectFromStorage=function(e){let t=r.Storage.getItem(e);return JSON.parse(null!=t?t:"null")},r._setObjectInStorage=function(e,t){r.Storage.setItem(e,JSON.stringify(t))}},18513,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UrlConfiguration=void 0;let i=e.r(178029),s=e.r(591230),n={[s.Endpoint._initialize]:"i",[s.Endpoint._rgstr]:"e",[s.Endpoint._download_config_specs]:"d"};r.UrlConfiguration=class{constructor(e,t,r,i){this.customUrl=null,this.fallbackUrls=null,this.endpoint=e,this.endpointDnsKey=n[e],t&&(this.customUrl=t),!t&&r&&(this.customUrl=r.endsWith("/")?`${r}${e}`:`${r}/${e}`),i&&(this.fallbackUrls=i);const o=s.NetworkDefault[e];this.defaultUrl=`${o}/${e}`}getUrl(){var e;return null!=(e=this.customUrl)?e:this.defaultUrl}getChecksum(){var e;let t=(null!=(e=this.fallbackUrls)?e:[]).sort().join(",");return(0,i._DJB2)(this.customUrl+t)}}},714964,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._notifyVisibilityChanged=r._subscribeToVisiblityChanged=r._isUnloading=r._isCurrentlyVisible=void 0;let i=e.r(269618),s="foreground",n="background",o=[],a=s,l=!1;r._isCurrentlyVisible=()=>a===s,r._isUnloading=()=>l,r._subscribeToVisiblityChanged=e=>{o.unshift(e)},r._notifyVisibilityChanged=e=>{e!==a&&(a=e,o.forEach(t=>t(e)))},(0,i._addWindowEventListenerSafe)("focus",()=>{l=!1,(0,r._notifyVisibilityChanged)(s)}),(0,i._addWindowEventListenerSafe)("blur",()=>(0,r._notifyVisibilityChanged)(n)),(0,i._addDocumentEventListenerSafe)("visibilitychange",()=>{(0,r._notifyVisibilityChanged)("visible"===document.visibilityState?s:n)}),(0,i._addWindowEventListenerSafe)((0,i._getUnloadEvent)(),()=>{l=!0,(0,r._notifyVisibilityChanged)(n)})},239656,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.EventLogger=void 0;let s=e.r(457635),n=e.r(178029),o=e.r(578947),a=e.r(591230),l=e.r(269618),u=e.r(305848),c=e.r(284105),h=e.r(969388),d=e.r(18513),p=e.r(714964),g={},f="startup",m="gained_focus";class y{static _safeFlushAndForget(e){var t;null==(t=g[e])||t.flush().catch(()=>{})}static _safeRetryFailedLogs(e){var t;null==(t=g[e])||t._retryFailedLogs(m)}constructor(e,t,r,i){var s,n;this._sdkKey=e,this._emitter=t,this._network=r,this._options=i,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._loggingEnabled=null!=(s=null==i?void 0:i.loggingEnabled)?s:(null==i?void 0:i.disableLogging)===!0?c.LoggingEnabledOption.disabled:c.LoggingEnabledOption.browserOnly,(null==i?void 0:i.loggingEnabled)&&void 0!==i.disableLogging&&o.Log.warn("Detected both loggingEnabled and disableLogging options. loggingEnabled takes precedence - please remove disableLogging."),this._maxQueueSize=null!=(n=null==i?void 0:i.loggingBufferMaxSize)?n:100;const l=null==i?void 0:i.networkConfig;this._logEventUrlConfig=new d.UrlConfiguration(a.Endpoint._rgstr,null==l?void 0:l.logEventUrl,null==l?void 0:l.api,null==l?void 0:l.logEventFallbackUrls)}setLogEventCompressionMode(e){this._network.setLogEventCompressionMode(e)}setLoggingEnabled(e){if("disabled"===this._loggingEnabled&&"disabled"!==e){let e=this._getStorageKey(),t=(0,h._getObjectFromStorage)(e);t&&this._queue.push(...t),h.Storage.removeItem(e)}this._loggingEnabled=e}enqueue(e){this._shouldLogEvent(e)&&(this._normalizeAndAppendEvent(e),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&y._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(e){var t;let r=null!=(t=this._nonExposedChecks[e])?t:0;this._nonExposedChecks[e]=r+1}reset(){this.flush().catch(()=>{}),this._lastExposureTimeMap={}}start(){var e;let t=(0,l._isServerEnv)();t&&(null==(e=this._options)?void 0:e.loggingEnabled)!=="always"||(g[this._sdkKey]=this,t||(0,p._subscribeToVisiblityChanged)(e=>{"background"===e?y._safeFlushAndForget(this._sdkKey):"foreground"===e&&y._safeRetryFailedLogs(this._sdkKey)}),this._retryFailedLogs(f),this._startBackgroundFlushInterval())}stop(){return i(this,void 0,void 0,function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete g[this._sdkKey],yield this.flush()})}flush(){return i(this,void 0,void 0,function*(){if(this._appendAndResetNonExposedChecks(),0===this._queue.length)return;let e=this._queue;this._queue=[],yield this._sendEvents(e)})}_quickFlushIfNeeded(){this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,Date.now()-this._creationTime>200||setTimeout(()=>y._safeFlushAndForget(this._sdkKey),200))}_shouldLogEvent(e){var t;if((null==(t=this._options)?void 0:t.loggingEnabled)!=="always"&&(0,l._isServerEnv)())return!1;if(!(0,u._isExposureEvent)(e))return!0;let r=e.user?e.user:{statsigEnvironment:void 0},i=(0,s._getUserStorageKey)(this._sdkKey,r),n=e.metadata?e.metadata:{},o=[e.eventName,i,n.gate,n.config,n.ruleID,n.allocatedExperiment,n.parameterName,String(n.isExplicitParameter),n.reason].join("|"),a=this._lastExposureTimeMap[o],c=Date.now();return(!a||!(c-a<6e5))&&(Object.keys(this._lastExposureTimeMap).length>1e3&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[o]=c,!0)}_sendEvents(e){return i(this,void 0,void 0,function*(){var t,r;if("disabled"===this._loggingEnabled)return this._saveFailedLogsToStorage(e),!1;try{let i=(0,p._isUnloading)()&&this._network.isBeaconSupported()&&(null==(r=null==(t=this._options)?void 0:t.networkConfig)?void 0:r.networkOverrideFunc)==null;if(this._emitter({name:"pre_logs_flushed",events:e}),(i?this._sendEventsViaBeacon(e):yield this._sendEventsViaPost(e)).success)return this._emitter({name:"logs_flushed",events:e}),!0;return o.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(e),!1}catch(e){return o.Log.warn("Failed to flush events."),!1}})}_sendEventsViaPost(e){return i(this,void 0,void 0,function*(){var t;let r=yield this._network.post(this._getRequestData(e)),i=null!=(t=null==r?void 0:r.code)?t:-1;return{success:i>=200&&i<300}})}_sendEventsViaBeacon(e){return{success:this._network.beacon(this._getRequestData(e))}}_getRequestData(e){return{sdkKey:this._sdkKey,data:{events:e},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[a.NetworkParam.EventCount]:String(e.length)},credentials:"same-origin"}}_saveFailedLogsToStorage(e){for(;e.length>500;)e.shift();let t=this._getStorageKey();try{let r=this._getFailedLogsFromStorage(t);(0,h._setObjectInStorage)(t,[...r,...e])}catch(e){o.Log.warn("Unable to save failed logs to storage")}}_getFailedLogsFromStorage(e){let t=[];try{let r=(0,h._getObjectFromStorage)(e);return Array.isArray(r)&&(t=r),t}catch(e){return[]}}_retryFailedLogs(e){let t=this._getStorageKey();i(this,void 0,void 0,function*(){h.Storage.isReady()||(yield h.Storage.isReadyResolver());let r=(0,h._getObjectFromStorage)(t);!r||(e===f&&h.Storage.removeItem(t),(yield this._sendEvents(r))&&e===m&&h.Storage.removeItem(t))}).catch(()=>{o.Log.warn("Failed to flush stored logs")})}_getStorageKey(){return`statsig.failed_logs.${(0,n._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(e){e.user&&(e.user=Object.assign({},e.user),delete e.user.privateAttributes);let t={},r=this._getCurrentPageUrl();r&&(t.statsigMetadata={currentPage:r});let i=Object.assign(Object.assign({},e),t);o.Log.debug("Enqueued Event:",i),this._queue.push(i)}_appendAndResetNonExposedChecks(){0!==Object.keys(this._nonExposedChecks).length&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var e;if((null==(e=this._options)?void 0:e.includeCurrentPageUrlWithEvents)!==!1)return(0,l._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var e,t;let r=setInterval(()=>{let e=g[this._sdkKey];e&&e._flushIntervalId===r?y._safeFlushAndForget(this._sdkKey):clearInterval(r)},null!=(t=null==(e=this._options)?void 0:e.loggingIntervalMs)?t:1e4);this._flushIntervalId=r}}r.EventLogger=y},43522,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StatsigMetadataProvider=r.SDK_VERSION=void 0,r.SDK_VERSION="3.26.0";let i={sdkVersion:r.SDK_VERSION,sdkType:"js-mono"};r.StatsigMetadataProvider={get:()=>i,add:e=>{i=Object.assign(Object.assign({},i),e)}}},638583,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},8755,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getUUID=void 0,r.getUUID=function(){if("u">typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=new Date().getTime(),t="u">typeof performance&&performance.now&&1e3*performance.now()||0,r="89ab"[Math.floor(4*Math.random())];return`xxxxxxxx-xxxx-4xxx-${r}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,r=>{let i=16*Math.random();return e>0?(i=(e+i)%16|0,e=Math.floor(e/16)):(i=(t+i)%16|0,t=Math.floor(t/16)),("x"===r?i:7&i|8).toString(16)})}},774543,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getCookieName=r.StableID=void 0;let i=e.r(457635),s=e.r(578947),n=e.r(269618),o=e.r(969388),a=e.r(8755),l={},u={},c={};function h(e){return`statsig.stable_id.${(0,i._getStorageKey)(e)}`}function d(e,t){let r=h(t);try{(0,o._setObjectInStorage)(r,e)}catch(e){s.Log.warn("Failed to save StableID to storage")}}function p(e,t){if(!u[t]||null==(0,n._getDocumentSafe)())return;let r=new Date;r.setFullYear(r.getFullYear()+1),document.cookie=`${g(t)}=${encodeURIComponent(e)}; expires=${r.toUTCString()}; path=/`}function g(e){return`statsig.stable_id.${(0,i._getStorageKey)(e)}`}r.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:e=>{let t;if(c[e])return null;if(null!=l[e])return l[e];let r=null;return null!=(r=function(e){if(!u[e]||null==(0,n._getDocumentSafe)())return null;for(let t of document.cookie.split(";")){let[r,i]=t.trim().split("=");if(r===g(e))return decodeURIComponent(i)}return null}(e))?(l[e]=r,d(r,e)):(null==(t=h(e),r=(0,o._getObjectFromStorage)(t))&&(r=(0,a.getUUID)()),d(r,e),p(r,e),l[e]=r),r},setOverride:(e,t)=>{l[t]=e,d(e,t),p(e,t)},_setCookiesEnabled:(e,t)=>{u[e]=t},_setDisabled:(e,t)=>{c[e]=t}},r.getCookieName=g},824709,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._getFullUserHash=r._normalizeUser=void 0;let i=e.r(178029),s=e.r(578947);r._normalizeUser=function(e,t,r){try{let i=JSON.parse(JSON.stringify(e));return null!=t&&null!=t.environment?i.statsigEnvironment=t.environment:null!=r&&(i.statsigEnvironment={tier:r}),i}catch(e){return s.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}},r._getFullUserHash=function(e){return e?(0,i._DJB2Object)(e):null}},189897,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._typedJsonParse=void 0;let i=e.r(578947);r._typedJsonParse=function(e,t,r){try{let r=JSON.parse(e);if(r&&"object"==typeof r&&t in r)return r}catch(e){}return i.Log.error(`Failed to parse ${r}`),null}},871025,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r._makeDataAdapterResult=r.DataAdapterCore=void 0;let s=e.r(578947),n=e.r(774543),o=e.r(824709),a=e.r(969388),l=e.r(189897);function u(e,t,r,i){return{source:e,data:t,receivedAt:Date.now(),stableID:r,fullUserHash:(0,o._getFullUserHash)(i)}}r.DataAdapterCore=class{constructor(e,t){this._adapterName=e,this._cacheSuffix=t,this._options=null,this._sdkKey=null,this._cacheLimit=10,this._lastModifiedStoreKey=`statsig.last_modified_time.${t}`,this._inMemoryCache=new c}attach(e,t,r){this._sdkKey=e,this._options=t}getDataSync(e){let t=e&&(0,o._normalizeUser)(e,this._options),r=this._getCacheKey(t),i=this._inMemoryCache.get(r,t);if(i&&this._getIsCacheValueValid(i))return i;let s=this._loadFromCache(r);return s&&this._getIsCacheValueValid(s)?(this._inMemoryCache.add(r,s,this._cacheLimit),this._inMemoryCache.get(r,t)):null}setData(e,t){let r=t&&(0,o._normalizeUser)(t,this._options),i=this._getCacheKey(r);this._inMemoryCache.add(i,u("Bootstrap",e,null,r),this._cacheLimit)}_getIsCacheValueValid(e){return null==e.stableID||e.stableID===n.StableID.get(this._getSdkKey())}_getDataAsyncImpl(e,t,r){return i(this,void 0,void 0,function*(){a.Storage.isReady()||(yield a.Storage.isReadyResolver());let i=null!=e?e:this.getDataSync(t),n=[this._fetchAndPrepFromNetwork(i,t,r)];return(null==r?void 0:r.timeoutMs)&&n.push(new Promise(e=>setTimeout(e,r.timeoutMs)).then(()=>(s.Log.debug("Fetching latest value timed out"),null))),yield Promise.race(n)})}_prefetchDataImpl(e,t){return i(this,void 0,void 0,function*(){let r=e&&(0,o._normalizeUser)(e,this._options),i=this._getCacheKey(r),s=yield this._getDataAsyncImpl(null,r,t);s&&this._inMemoryCache.add(i,Object.assign(Object.assign({},s),{source:"Prefetch"}),this._cacheLimit)})}_fetchAndPrepFromNetwork(e,t,r){return i(this,void 0,void 0,function*(){var i;let o=null!=(i=null==e?void 0:e.data)?i:null,a=null!=e&&this._isCachedResultValidFor204(e,t),c=yield this._fetchFromNetwork(o,t,r,a);if(!c)return s.Log.debug("No response returned for latest value"),null;let h=(0,l._typedJsonParse)(c,"has_updates","Response"),d=this._getSdkKey(),p=n.StableID.get(d),g=null;if((null==h?void 0:h.has_updates)===!0)g=u("Network",c,p,t);else{if(!o||(null==h?void 0:h.has_updates)!==!1)return null;g=u("NetworkNotModified",o,p,t)}let f=this._getCacheKey(t);return this._inMemoryCache.add(f,g,this._cacheLimit),this._writeToCache(f,g),g})}_getSdkKey(){return null!=this._sdkKey?this._sdkKey:(s.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(e){var t;let r=null==(t=a.Storage.getItem)?void 0:t.call(a.Storage,e);if(null==r)return null;let i=(0,l._typedJsonParse)(r,"source","Cached Result");return i?Object.assign(Object.assign({},i),{source:"Cache"}):null}_writeToCache(e,t){let r=JSON.stringify(t);for(let t=0;t<8;t++)try{a.Storage.setItem(e,r);break}catch(t){if(!(t instanceof Error)||"QuotaExceededError"!==t.name||this._cacheLimit<=1)throw t;this._cacheLimit=Math.ceil(this._cacheLimit/2),this._runLocalStorageCacheEviction(e,this._cacheLimit-1)}this._runLocalStorageCacheEviction(e)}_runLocalStorageCacheEviction(e,t=this._cacheLimit){var r;let i=null!=(r=(0,a._getObjectFromStorage)(this._lastModifiedStoreKey))?r:{};for(let r of(i[e]=Date.now(),h(i,t)))delete i[r],a.Storage.removeItem(r);(0,a._setObjectInStorage)(this._lastModifiedStoreKey,i)}},r._makeDataAdapterResult=u;class c{constructor(){this._data={}}get(e,t){var r;let i=this._data[e],n=null==i?void 0:i.stableID,o=null==(r=null==t?void 0:t.customIDs)?void 0:r.stableID;return o&&n&&o!==n?(s.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):i}add(e,t,r){for(let e of h(this._data,r-1))delete this._data[e];this._data[e]=t}merge(e){this._data=Object.assign(Object.assign({},this._data),e)}}function h(e,t){let r=Object.keys(e);return r.length<=t?[]:0===t?r:r.sort((t,r)=>{let i=e[t],s=e[r];return"object"==typeof i&&"object"==typeof s?i.receivedAt-s.receivedAt:i-s}).slice(0,r.length-t)}},127108,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},188466,(e,t,r)=>{"use strict";let i;Object.defineProperty(r,"__esModule",{value:!0}),r.SDKType=void 0;let s={};r.SDKType={_get:e=>{var t;return(null!=(t=s[e])?t:"js-mono")+(null!=i?i:"")},_setClientType(e,t){s[e]=t},_setBindingType(e){i&&"-react"!==i||(i="-"+e)}}},247724,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorBoundary=r.EXCEPTION_ENDPOINT=void 0;let s=e.r(578947),n=e.r(188466),o=e.r(43522);r.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";let a="[Statsig] UnknownError";function l(e){return e instanceof Error?e:"string"==typeof e?Error(e):Error("An unknown error occurred.")}r.ErrorBoundary=class{constructor(e,t,r,i){this._sdkKey=e,this._options=t,this._emitter=r,this._lastSeenError=i,this._seen=new Set}wrap(e,t){try{(function(e){let t=new Set,r=Object.getPrototypeOf(e);for(;r&&r!==Object.prototype;)Object.getOwnPropertyNames(r).filter(e=>"function"==typeof(null==r?void 0:r[e])).forEach(e=>t.add(e)),r=Object.getPrototypeOf(r);return Array.from(t)})(e).forEach(r=>{let i=e[r];"$EB"in i||(e[r]=(...s)=>this._capture(t?`${t}:${r}`:r,()=>i.apply(e,s)),e[r].$EB=!0)})}catch(e){this._onError("eb:wrap",e)}}logError(e,t){this._onError(e,t)}getLastSeenErrorAndReset(){let e=this._lastSeenError;return this._lastSeenError=void 0,null!=e?e:null}attachErrorIfNoneExists(e){this._lastSeenError||(this._lastSeenError=l(e))}_capture(e,t){try{let r=t();if(r&&r instanceof Promise)return r.catch(t=>this._onError(e,t));return r}catch(t){return this._onError(e,t),null}}_onError(e,t){try{s.Log.warn(`Caught error in ${e}`,{error:t}),i(this,void 0,void 0,function*(){var i,s,u,c,h,d,p;let g=t||Error(a),f=g instanceof Error,m=f?g.name:"No Name",y=l(g);if(this._lastSeenError=y,this._seen.has(m))return;if(this._seen.add(m),null==(s=null==(i=this._options)?void 0:i.networkConfig)?void 0:s.preventAllNetworkTraffic){null==(u=this._emitter)||u.call(this,{name:"error",error:t,tag:e});return}let _=n.SDKType._get(this._sdkKey),v=o.StatsigMetadataProvider.get(),b=f?g.stack:function(e){try{return JSON.stringify(e)}catch(e){return a}}(g),S=Object.assign({tag:e,exception:m,info:b,statsigOptions:function(e){if(!e)return{};let t={};return Object.keys(e).forEach(r=>{let i=e[r];switch(typeof i){case"number":case"bigint":case"boolean":t[String(r)]=i;break;case"string":i.length<50?t[String(r)]=i:t[String(r)]="set";break;case"object":"environment"===r?t.environment=i:"networkConfig"===r?t.networkConfig=i:t[String(r)]=null!=i?"set":"unset"}}),t}(this._options)},Object.assign(Object.assign({},v),{sdkType:_})),w=null!=(d=null==(h=null==(c=this._options)?void 0:c.networkConfig)?void 0:h.networkOverrideFunc)?d:fetch;yield w(r.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(_),"STATSIG-SDK-VERSION":String(v.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(S)}),null==(p=this._emitter)||p.call(this,{name:"error",error:t,tag:e})}).then(()=>{}).catch(()=>{})}catch(e){}}}},156441,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},717070,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},277214,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},452116,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createMemoKey=r.MemoPrefix=void 0,r.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_configList:"cl",_layer:"l",_paramStore:"p"};let i=new Set([]),s=new Set(["userPersistedValues"]);r.createMemoKey=function(e,t,r){let n=`${e}|${t}`;if(!r)return n;for(let e of Object.keys(r)){if(s.has(e))return;i.has(e)?n+=`|${e}=true`:n+=`|${e}=${r[e]}`}return n}},593856,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r._fetchTxtRecords=void 0;let s=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),n=["i","e","d"];r._fetchTxtRecords=function(e){return i(this,void 0,void 0,function*(){let t=yield e("https://cloudflare-dns.com/dns-query",{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:s});if(!t.ok){let e=Error("Failed to fetch TXT records from DNS");throw e.name="DnsTxtFetchError",e}return function(e){let t=e.findIndex((t,r)=>r<200&&"="===String.fromCharCode(t)&&n.includes(String.fromCharCode(e[r-1])));if(-1===t){let e=Error("Failed to parse TXT records from DNS");throw e.name="DnsTxtParseError",e}let r="";for(let i=t-1;i<e.length;i++)r+=String.fromCharCode(e[i]);return r.split(",")}(new Uint8Array((yield t.arrayBuffer())))})}},44176,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r._isDomainFailure=r.NetworkFallbackResolver=void 0;let s=e.r(593856),n=e.r(178029),o=e.r(578947),a=e.r(969388);function l(e,t){var r;let i=null!=(r=null==e?void 0:e.toLowerCase())?r:"";return t||i.includes("uncaught exception")||i.includes("failed to fetch")||i.includes("networkerror when attempting to fetch resource")}function u(e){return`statsig.network_fallback.${(0,n._DJB2)(e)}`}function c(e,t){let r=u(e);t&&0!==Object.keys(t).length?a.Storage.setItem(r,JSON.stringify(t)):a.Storage.removeItem(r)}r.NetworkFallbackResolver=class{constructor(e){var t;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=null==(t=e.networkConfig)?void 0:t.networkOverrideFunc}setErrorBoundary(e){this._errorBoundary=e}tryBumpExpiryTime(e,t){var r;let i=null==(r=this._fallbackInfo)?void 0:r[t.endpoint];i&&(i.expiryTime=Date.now()+6048e5,c(e,Object.assign(Object.assign({},this._fallbackInfo),{[t.endpoint]:i})))}getActiveFallbackUrl(e,t){var r,i;if(null!=t.customUrl&&null!=t.fallbackUrls)return null;let s=this._fallbackInfo;null==s&&(s=null!=(r=function(e){let t=u(e),r=a.Storage.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return o.Log.error("Failed to parse FallbackInfo"),null}}(e))?r:{},this._fallbackInfo=s);let n=s[t.endpoint];return!n||Date.now()>(null!=(i=n.expiryTime)?i:0)||t.getChecksum()!==n.urlConfigChecksum?(delete s[t.endpoint],this._fallbackInfo=s,c(e,this._fallbackInfo),null):n.url?n.url:null}tryFetchUpdatedFallbackInfo(e,t,r,s){return i(this,void 0,void 0,function*(){var i,n;try{if(!l(r,s))return!1;let n=null==t.customUrl&&null==t.fallbackUrls?yield this._tryFetchFallbackUrlsFromNetwork(t):t.fallbackUrls,o=this._pickNewFallbackUrl(null==(i=this._fallbackInfo)?void 0:i[t.endpoint],n);if(!o)return!1;return this._updateFallbackInfoWithNewUrl(e,t,o),!0}catch(e){return null==(n=this._errorBoundary)||n.logError("tryFetchUpdatedFallbackInfo",e),!1}})}_updateFallbackInfoWithNewUrl(e,t,r){var i,s,n;let o={urlConfigChecksum:t.getChecksum(),url:r,expiryTime:Date.now()+6048e5,previous:[]},a=t.endpoint,l=null==(i=this._fallbackInfo)?void 0:i[a];l&&o.previous.push(...l.previous),o.previous.length>10&&(o.previous=[]);let u=null==(n=null==(s=this._fallbackInfo)?void 0:s[a])?void 0:n.url;null!=u&&o.previous.push(u),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[a]:o}),c(e,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(e){return i(this,void 0,void 0,function*(){var t;let r=this._dnsQueryCooldowns[e.endpoint];if(r&&Date.now()<r)return null;this._dnsQueryCooldowns[e.endpoint]=Date.now()+144e5;let i=[],n=yield(0,s._fetchTxtRecords)(null!=(t=this._networkOverrideFunc)?t:fetch),o=function(e){try{return new URL(e).pathname}catch(e){return null}}(e.defaultUrl);for(let t of n){if(!t.startsWith(e.endpointDnsKey+"="))continue;let r=t.split("=");if(r.length>1){let e=r[1];e.endsWith("/")&&(e=e.slice(0,-1)),i.push(`https://${e}${o}`)}}return i})}_pickNewFallbackUrl(e,t){var r;if(null==t)return null;let i=new Set(null!=(r=null==e?void 0:e.previous)?r:[]),s=null==e?void 0:e.url,n=null;for(let e of t){let t=e.endsWith("/")?e.slice(0,-1):e;if(!i.has(e)&&t!==s){n=t;break}}return n}},r._isDomainFailure=l},805392,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SDKFlags=void 0;let i={};r.SDKFlags={setFlags:(e,t)=>{i[e]=t},get:(e,t)=>{var r,s;return null!=(s=null==(r=i[e])?void 0:r[t])&&s}}},981264,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StatsigSession=r.SessionID=void 0;let i=e.r(487188),s=e.r(457635),n=e.r(578947),o=e.r(969388),a=e.r(8755),l={};function u(e,t){return setTimeout(()=>{var t;let r=null==(t=(0,i._getStatsigGlobal)())?void 0:t.instance(e);r&&r.$emt({name:"session_expired"})},t)}function c(e){return`statsig.session_id.${(0,s._getStorageKey)(e)}`}r.SessionID={get:e=>r.StatsigSession.get(e).data.sessionID},r.StatsigSession={get:e=>{var t;let r,i,s;return null==l[e]&&(l[e]=(i=(r=c(t=e),(0,o._getObjectFromStorage)(r)),s=Date.now(),i||(i={sessionID:(0,a.getUUID)(),startTime:s,lastUpdate:s}),{data:i,sdkKey:t})),function(e){let t=Date.now(),r=e.data,i=e.sdkKey;if(function({lastUpdate:e}){return Date.now()-e>18e5}(r)||function({startTime:e}){return Date.now()-e>144e5}(r)){r.sessionID=(0,a.getUUID)(),r.startTime=t;let e=null==__STATSIG__?void 0:__STATSIG__.instance(i);e&&e.$emt({name:"session_expired"})}r.lastUpdate=t,function(e,t){let r=c(t);try{(0,o._setObjectInStorage)(r,e)}catch(e){n.Log.warn("Failed to save SessionID")}}(r,e.sdkKey),clearTimeout(e.idleTimeoutID),clearTimeout(e.ageTimeoutID);let s=t-r.startTime;return e.idleTimeoutID=u(i,18e5),e.ageTimeoutID=u(i,144e5-s),e}(l[e])},overrideInitialSessionID:(e,t)=>{var r,i;let s;l[t]=(r=e,i=t,{data:{sessionID:r,startTime:s=Date.now(),lastUpdate:s},sdkKey:i})}}},706271,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorTag=void 0,r.ErrorTag={NetworkError:"NetworkError"}},271745,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.NetworkCore=void 0,e.r(487188);let s=e.r(487188),n=e.r(625520),o=e.r(578947),a=e.r(591230),l=e.r(44176),u=e.r(805392),c=e.r(188466),h=e.r(269618),d=e.r(981264),p=e.r(774543),g=e.r(706271),f=e.r(43522),m=e.r(284105),y=e.r(714964),_=new Set([408,500,502,503,504,522,524,599]);r.NetworkCore=class{constructor(e,t){this._emitter=t,this._errorBoundary=null,this._timeout=1e4,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,e&&(this._options=e),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new l.NetworkFallbackResolver(this._options),this.setLogEventCompressionMode(this._getLogEventCompressionMode(e))}setLogEventCompressionMode(e){this._options.logEventCompressionMode=e}setErrorBoundary(e){this._errorBoundary=e,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(e)}isBeaconSupported(){return"u">typeof navigator&&"function"==typeof navigator.sendBeacon}getLastUsedInitUrlAndReset(){let e=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,e}beacon(e){if(!v(e))return!1;let t=this._getInternalRequestArgs("POST",e),r=this._getPopulatedURL(t),i=navigator;return i.sendBeacon.bind(i)(r,t.body)}post(e){return i(this,void 0,void 0,function*(){let t=this._getInternalRequestArgs("POST",e);return this._tryEncodeBody(t),yield this._tryToCompressBody(t),this._sendRequest(t)})}get(e){let t=this._getInternalRequestArgs("GET",e);return this._sendRequest(t)}_sendRequest(e){return i(this,void 0,void 0,function*(){var t,r,s,l,u,c,h,d,p;if(!v(e)||this._netConfig.preventAllNetworkTraffic)return null;let{method:f,body:m,retries:b,attempt:w}=e,C=e.urlConfig.endpoint;if(this._isRateLimited(C))return o.Log.warn(`Request to ${C} was blocked because you are making requests too frequently.`),null;let E=null!=w?w:1,I=!1,k=this._getPopulatedURL(e),O=null,x=(0,y._isUnloading)();try{let r,i={method:f,body:m,headers:Object.assign({},e.headers),priority:e.priority,keepalive:x};u=e,c=E,u.urlConfig.endpoint===a.Endpoint._initialize&&n.Diagnostics._markInitNetworkReqStart(u.sdkKey,{attempt:c});let s=this._leakyBucket[C];s&&(s.lastRequestTime=Date.now(),this._leakyBucket[C]=s);let o=null!=(t=this._netConfig.networkOverrideFunc)?t:fetch;if(!(O=yield Promise.race([o(k,i).finally(()=>clearTimeout(r)),new Promise((e,t)=>{r=setTimeout(()=>{I=!0,t(Error(`Timeout of ${this._timeout}ms expired.`))},this._timeout)})])).ok){let e=yield O.text().catch(()=>"No Text"),t=Error(`NetworkError: ${k} ${e}`);throw t.name="NetworkError",t}let l=yield O.text();return S(e,O,E,l),this._fallbackResolver.tryBumpExpiryTime(e.sdkKey,e.urlConfig),{body:l,code:O.status}}catch(a){let t="string"==typeof(h=a)?h:h instanceof Error?`${h.name}: ${h.message}`:"Unknown Error",n=(d=null!=t?t:"",p=I,d.includes("Timeout")||p);if(S(e,O,E,"",a),(yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(e.sdkKey,e.urlConfig,t,n))&&(e.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(e.sdkKey,e.urlConfig)),!b||E>b||!_.has(null!=(r=null==O?void 0:O.status)?r:500)){null==(s=this._emitter)||s.call(this,{name:"error",error:a,tag:g.ErrorTag.NetworkError,requestArgs:e});let r=`A networking error occurred during ${f} request to ${k}.`;return o.Log.error(r,t,a),null==(l=this._errorBoundary)||l.attachErrorIfNoneExists(r),null}return yield function(e){return i(this,void 0,void 0,function*(){yield new Promise(t=>setTimeout(t,Math.min(e*e*500,3e4)))})}(E),this._sendRequest(Object.assign(Object.assign({},e),{retries:b,attempt:E+1}))}})}_getLogEventCompressionMode(e){let t=null==e?void 0:e.logEventCompressionMode;return t||(null==e?void 0:e.disableCompression)!==!0||(t=m.LogEventCompressionMode.Disabled),t||(t=m.LogEventCompressionMode.Enabled),t}_isRateLimited(e){var t;let r=Date.now(),i=null!=(t=this._leakyBucket[e])?t:{count:0,lastRequestTime:r},s=Math.floor((r-i.lastRequestTime)*.05);return i.count=Math.max(0,i.count-s),i.count>=50||(i.count+=1,i.lastRequestTime=r,this._leakyBucket[e]=i,!1)}_getPopulatedURL(e){var t;let r=null!=(t=e.fallbackUrl)?t:e.urlConfig.getUrl();(e.urlConfig.endpoint===a.Endpoint._initialize||e.urlConfig.endpoint===a.Endpoint._download_config_specs)&&(this._lastUsedInitUrl=r);let i=Object.assign({[a.NetworkParam.SdkKey]:e.sdkKey,[a.NetworkParam.SdkType]:c.SDKType._get(e.sdkKey),[a.NetworkParam.SdkVersion]:f.SDK_VERSION,[a.NetworkParam.Time]:String(Date.now()),[a.NetworkParam.SessionID]:d.SessionID.get(e.sdkKey)},e.params),s=Object.keys(i).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(i[e])}`).join("&");return`${r}${s?`?${s}`:""}`}_tryEncodeBody(e){var t;let r=(0,h._getWindowSafe)(),i=e.body;if(e.isStatsigEncodable&&!this._options.disableStatsigEncoding&&"string"==typeof i&&null==(0,s._getStatsigGlobalFlag)("no-encode")&&(null==r?void 0:r.btoa))try{e.body=r.btoa(i).split("").reverse().join(""),e.params=Object.assign(Object.assign({},null!=(t=e.params)?t:{}),{[a.NetworkParam.StatsigEncoded]:"1"})}catch(t){o.Log.warn(`Request encoding failed for ${e.urlConfig.getUrl()}`,t)}}_tryToCompressBody(e){return i(this,void 0,void 0,function*(){var t;let r=e.body;if("string"==typeof r&&function(e,t){if(!e.isCompressable||null!=(0,s._getStatsigGlobalFlag)("no-compress")||"u"<typeof CompressionStream||"u"<typeof TextEncoder)return!1;let r=null!=e.urlConfig.customUrl||null!=e.urlConfig.fallbackUrls,i=!0===u.SDKFlags.get(e.sdkKey,"enable_log_event_compression");switch(t.logEventCompressionMode){case m.LogEventCompressionMode.Disabled:return!1;case m.LogEventCompressionMode.Enabled:if(r&&!i)return!1;return!0;case m.LogEventCompressionMode.Forced:return!0;default:return!1}}(e,this._options))try{let i,s=new TextEncoder().encode(r),n=new CompressionStream("gzip"),l=n.writable.getWriter();l.write(s).catch(o.Log.error),l.close().catch(o.Log.error);let u=n.readable.getReader(),c=[];for(;!(i=yield u.read()).done;)c.push(i.value);let h=c.reduce((e,t)=>e+t.length,0),d=new Uint8Array(h),p=0;for(let e of c)d.set(e,p),p+=e.length;e.body=d,e.params=Object.assign(Object.assign({},null!=(t=e.params)?t:{}),{[a.NetworkParam.IsGzipped]:"1"})}catch(t){o.Log.warn(`Request compression failed for ${e.urlConfig.getUrl()}`,t)}})}_getInternalRequestArgs(e,t){let r=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig),i=Object.assign(Object.assign({},t),{method:e,fallbackUrl:r});return"data"in t&&b(i,t.data),i}};let v=e=>!!e.sdkKey||(o.Log.warn("Unable to make request without an SDK key"),!1),b=(e,t)=>{let{sdkKey:r,fallbackUrl:i}=e,s=p.StableID.get(r),n=d.SessionID.get(r),o=c.SDKType._get(r);e.body=JSON.stringify(Object.assign(Object.assign({},t),{statsigMetadata:Object.assign(Object.assign({},f.StatsigMetadataProvider.get()),{stableID:s,sessionID:n,sdkType:o,fallbackUrl:i})}))};function S(e,t,r,i,s){e.urlConfig.endpoint===a.Endpoint._initialize&&n.Diagnostics._markInitNetworkReqEnd(e.sdkKey,n.Diagnostics._getDiagnosticsData(t,r,i,s))}},382012,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},876035,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},520407,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._fastApproxSizeOf=void 0,r._fastApproxSizeOf=(e,t)=>{let i=0,s=Object.keys(e);for(let n=0;n<s.length;n++){let o=s[n],a=e[o];if(i+=o.length,"object"==typeof a&&null!==a?i+=(0,r._fastApproxSizeOf)(a,t)+2:i+=String(a).length+1,i>=t)break}return i}},366697,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.StatsigClientBase=void 0,e.r(487188);let s=e.r(487188),n=e.r(247724),o=e.r(239656),a=e.r(578947),l=e.r(452116),u=e.r(269618),c=e.r(981264),h=e.r(774543),d=e.r(284105),p=e.r(969388);r.StatsigClientBase=class{constructor(e,t,r,i){var l,d,g,f;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};const m=this.$emt.bind(this);(null==i?void 0:i.logLevel)!=null&&(a.Log.level=i.logLevel),(null==i?void 0:i.disableStorage)&&p.Storage._setDisabled(!0),(null==i?void 0:i.initialSessionID)&&c.StatsigSession.overrideInitialSessionID(i.initialSessionID,e),(null==i?void 0:i.storageProvider)&&p.Storage._setProvider(i.storageProvider),(null==i?void 0:i.enableCookies)&&h.StableID._setCookiesEnabled(e,i.enableCookies),(null==i?void 0:i.disableStableID)&&h.StableID._setDisabled(e,!0),this._sdkKey=e,this._options=null!=i?i:{},this._memoCache={},this.overrideAdapter=null!=(l=null==i?void 0:i.overrideAdapter)?l:null,this._logger=new o.EventLogger(e,m,r,i),this._errorBoundary=new n.ErrorBoundary(e,i,m),this._errorBoundary.wrap(this),this._errorBoundary.wrap(t),this._errorBoundary.wrap(this._logger),r.setErrorBoundary(this._errorBoundary),this.dataAdapter=t,this.dataAdapter.attach(e,i,r),this.storageProvider=p.Storage,null==(f=null==(g=null==(d=this.overrideAdapter)?void 0:d.loadFromStorage)?void 0:g.call(d))||f.catch(e=>this._errorBoundary.logError("OA::loadFromStorage",e)),this._primeReadyRipcord(),function(e,t){var r;if((0,u._isServerEnv)())return;let i=(0,s._getStatsigGlobal)(),n=null!=(r=i.instances)?r:{};null!=n[e]&&a.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys."),n[e]=t,i.firstInstance||(i.firstInstance=t),i.instances=n,__STATSIG__=i}(e,this)}updateRuntimeOptions(e){e.loggingEnabled?(this._options.loggingEnabled=e.loggingEnabled,this._logger.setLoggingEnabled(e.loggingEnabled)):null!=e.disableLogging&&(this._options.disableLogging=e.disableLogging,this._logger.setLoggingEnabled(e.disableLogging?"disabled":"browser-only")),null!=e.disableStorage&&(this._options.disableStorage=e.disableStorage,p.Storage._setDisabled(e.disableStorage)),null!=e.enableCookies&&(this._options.enableCookies=e.enableCookies,h.StableID._setCookiesEnabled(this._sdkKey,e.enableCookies)),e.logEventCompressionMode?this._logger.setLogEventCompressionMode(e.logEventCompressionMode):e.disableCompression&&this._logger.setLogEventCompressionMode(d.LogEventCompressionMode.Disabled)}flush(){return this._logger.flush()}shutdown(){return i(this,void 0,void 0,function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()})}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){if(this._listeners[e]){let r=this._listeners[e].indexOf(t);-1!==r&&this._listeners[e].splice(r,1)}}$on(e,t){t.__isInternal=!0,this.on(e,t)}$emt(e){var t;let r=t=>{try{t(e)}catch(r){if(!0===t.__isInternal)return void this._errorBoundary.logError(`__emit:${e.name}`,r);a.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",e)}};this._listeners[e.name]&&this._listeners[e.name].forEach(e=>r(e)),null==(t=this._listeners["*"])||t.forEach(r)}_setStatus(e,t){this.loadingStatus=e,this._memoCache={},this.$emt({name:"values_updated",status:e,values:t})}_enqueueExposure(e,t,r){(null==r?void 0:r.disableExposureLog)===!0?this._logger.incrementNonExposureCount(e):this._logger.enqueue(t)}_memoize(e,t){return(r,i)=>{if(this._options.disableEvaluationMemoization)return t(r,i);let s=(0,l.createMemoKey)(e,r,i);return s?(s in this._memoCache||(Object.keys(this._memoCache).length>=3e3&&(this._memoCache={}),this._memoCache[s]=t(r,i)),this._memoCache[s]):t(r,i)}}}},138237,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DataAdapterCachePrefix=void 0,r.DataAdapterCachePrefix="statsig.cached"},535402,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},465781,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._makeTypedGet=r._mergeOverride=r._makeLayer=r._makeExperiment=r._makeDynamicConfig=r._makeFeatureGate=void 0;let i=e.r(578947),s=e.r(952292);function n(e,t,r,i){var s;return{name:e,details:t,ruleID:null!=(s=null==r?void 0:r.rule_id)?s:"",__evaluation:r,value:i}}function o(e,t,r){var i;let s=null!=(i=null==r?void 0:r.value)?i:{};return Object.assign(Object.assign({},n(e,t,r,s)),{get:a(e,null==r?void 0:r.value)})}function a(e,t,r){return(n,o)=>{var a;let l=null!=(a=null==t?void 0:t[n])?a:null;return null==l?null!=o?o:null:null==o||(0,s._isTypeMatch)(l,o)?(null==r||r(n),l):(i.Log.warn(`Parameter type mismatch. '${e}.${n}' was found to be type '${typeof l}' but fallback/return type is '${typeof o}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),null!=o?o:null)}}r._makeFeatureGate=function(e,t,r){var i;return Object.assign(Object.assign({},n(e,t,r,(null==r?void 0:r.value)===!0)),{idType:null!=(i=null==r?void 0:r.id_type)?i:null})},r._makeDynamicConfig=o,r._makeExperiment=function(e,t,r){var i;return Object.assign(Object.assign({},o(e,t,r)),{groupName:null!=(i=null==r?void 0:r.group_name)?i:null})},r._makeLayer=function(e,t,r,i){var s,o;return Object.assign(Object.assign({},n(e,t,r,void 0)),{get:a(e,null==r?void 0:r.value,i),groupName:null!=(s=null==r?void 0:r.group_name)?s:null,__value:null!=(o=null==r?void 0:r.value)?o:{}})},r._mergeOverride=function(e,t,r,i){return Object.assign(Object.assign(Object.assign({},e),t),{get:a(e.name,r,i)})},r._makeTypedGet=a},544485,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},138762,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UPDATE_DETAIL_ERROR_MESSAGES=r.createUpdateDetails=void 0,r.createUpdateDetails=(e,t,r,i,s,n)=>({duration:r,source:t,success:e,error:i,sourceUrl:s,warnings:n}),r.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}},276338,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,s)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),s=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.Storage=r.Log=r.EventLogger=r.Diagnostics=void 0,e.r(487188);let n=e.r(487188),o=e.r(625520);Object.defineProperty(r,"Diagnostics",{enumerable:!0,get:function(){return o.Diagnostics}});let a=e.r(239656);Object.defineProperty(r,"EventLogger",{enumerable:!0,get:function(){return a.EventLogger}});let l=e.r(578947);Object.defineProperty(r,"Log",{enumerable:!0,get:function(){return l.Log}});let u=e.r(43522),c=e.r(969388);Object.defineProperty(r,"Storage",{enumerable:!0,get:function(){return c.Storage}}),s(e.r(487188),r),s(e.r(457635),r),s(e.r(638583),r),s(e.r(871025),r),s(e.r(625520),r),s(e.r(127108),r),s(e.r(247724),r),s(e.r(156441),r),s(e.r(717070),r),s(e.r(178029),r),s(e.r(277214),r),s(e.r(578947),r),s(e.r(452116),r),s(e.r(591230),r),s(e.r(271745),r),s(e.r(382012),r),s(e.r(876035),r),s(e.r(269618),r),s(e.r(188466),r),s(e.r(981264),r),s(e.r(520407),r),s(e.r(774543),r),s(e.r(366697),r),s(e.r(706271),r),s(e.r(138237),r),s(e.r(305848),r),s(e.r(43522),r),s(e.r(284105),r),s(e.r(535402),r),s(e.r(465781),r),s(e.r(544485),r),s(e.r(824709),r),s(e.r(969388),r),s(e.r(189897),r),s(e.r(952292),r),s(e.r(18513),r),s(e.r(8755),r),s(e.r(714964),r),s(e.r(138762),r),s(e.r(805392),r),Object.assign((0,n._getStatsigGlobal)(),{Log:l.Log,SDK_VERSION:u.SDK_VERSION})},157501,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(276338);r.default=class{constructor(e){this._sdkKey=e,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,i._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(e,t){var r,s;if(!e)return!1;let n=(0,i._typedJsonParse)(e.data,"has_updates","EvaluationResponse");return null!=n&&(this._source=e.source,(null==n?void 0:n.has_updates)!==!0||(null!=(r=n.time)?r:0)<this._lcut||(this._rawValues=e.data,this._lcut=n.time,this._receivedAt=e.receivedAt,this._values=n,this._bootstrapMetadata=this._extractBootstrapMetadata(e.source,n),e.source&&n.user&&this._setWarningState(t,n),i.SDKFlags.setFlags(this._sdkKey,null!=(s=n.sdk_flags)?s:{}),!0))}getWarnings(){if(0!==this._warnings.size)return Array.from(this._warnings)}getGate(e){var t;return this._getDetailedStoreResult(null==(t=this._values)?void 0:t.feature_gates,e)}getConfig(e){var t;return this._getDetailedStoreResult(null==(t=this._values)?void 0:t.dynamic_configs,e)}getConfigList(){var e;return(null==(e=this._values)?void 0:e.dynamic_configs)?Object.values(this._values.dynamic_configs).map(e=>e.name):[]}getLayer(e){var t;return this._getDetailedStoreResult(null==(t=this._values)?void 0:t.layer_configs,e)}getParamStore(e){var t;return this._getDetailedStoreResult(null==(t=this._values)?void 0:t.param_stores,e)}getSource(){return this._source}getExposureMapping(){var e;return null==(e=this._values)?void 0:e.exposures}_extractBootstrapMetadata(e,t){if("Bootstrap"!==e)return null;let r={};return t.user&&(r.user=t.user),t.sdkInfo&&(r.generatorSDKInfo=t.sdkInfo),r.lcut=t.time,r}_getDetailedStoreResult(e,t){let r=null;return e&&(r=e[t]?e[t]:e[(0,i._DJB2)(t)]),{result:r,details:this._getDetails(null==r)}}_setWarningState(e,t){var r,s;let n=i.StableID.get(this._sdkKey);if((null==(r=e.customIDs)?void 0:r.stableID)!==n&&((null==(s=e.customIDs)?void 0:s.stableID)||n))return void this._warnings.add("StableIDMismatch");if("user"in t){let r=t.user,s=Object.assign(Object.assign({},e),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,i._getFullUserHash)(s)!==(0,i._getFullUserHash)(r)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if("Uninitialized"===this._source||"NoValues"===this._source)return{reason:this._source};let e={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(e.warnings=Array.from(this._warnings)),e}_getDetails(e){var t,r;let i=this.getCurrentSourceDetails(),s=i.reason,n=null!=(t=i.warnings)?t:[];"Bootstrap"===this._source&&n.length>0&&(s+=n[0]),"Uninitialized"!==s&&"NoValues"!==s&&(s=`${s}:${e?"Unrecognized":"Recognized"}`);let o="Bootstrap"===this._source&&null!=(r=this._bootstrapMetadata)?r:void 0;return o&&(i.bootstrapMetadata=o),Object.assign(Object.assign({},i),{reason:s})}}},690502,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._resolveDeltasResponse=void 0;let i=e.r(276338);function s(e,t){null==e||e.forEach(e=>{delete t[e]})}r._resolveDeltasResponse=function(e,t){var r,n,o;let a=(0,i._typedJsonParse)(t,"checksum","DeltasEvaluationResponse");if(!a)return{hadBadDeltaChecksum:!0};let l=(s((o=(r=e,n=a,Object.assign(Object.assign(Object.assign({},r),n),{feature_gates:Object.assign(Object.assign({},r.feature_gates),n.feature_gates),layer_configs:Object.assign(Object.assign({},r.layer_configs),n.layer_configs),dynamic_configs:Object.assign(Object.assign({},r.dynamic_configs),n.dynamic_configs)}))).deleted_gates,o.feature_gates),delete o.deleted_gates,s(o.deleted_configs,o.dynamic_configs),delete o.deleted_configs,s(o.deleted_layers,o.layer_configs),delete o.deleted_layers,o),u=(0,i._DJB2Object)({feature_gates:l.feature_gates,dynamic_configs:l.dynamic_configs,layer_configs:l.layer_configs},2);return u!==a.checksumV2?{hadBadDeltaChecksum:!0,badChecksum:u,badMergedConfigs:l,badFullResponse:a.deltas_full_response}:JSON.stringify(l)}},166212,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0});let s=e.r(276338),n=e.r(690502);class o extends s.NetworkCore{constructor(e,t){super(e,t);const r=null==e?void 0:e.networkConfig;this._option=e,this._initializeUrlConfig=new s.UrlConfiguration(s.Endpoint._initialize,null==r?void 0:r.initializeUrl,null==r?void 0:r.api,null==r?void 0:r.initializeFallbackUrls)}fetchEvaluations(e,t,r,n,o){return i(this,void 0,void 0,function*(){var i,a,l,u,c,h;let d=t?(0,s._typedJsonParse)(t,"has_updates","InitializeResponse"):null,p={user:n,hash:null!=(l=null==(a=null==(i=this._option)?void 0:i.networkConfig)?void 0:a.initializeHashAlgorithm)?l:"djb2",deltasResponseRequested:!1,full_checksum:null};if(null==d?void 0:d.has_updates){let e=(null==d?void 0:d.hash_used)!==(null!=(h=null==(c=null==(u=this._option)?void 0:u.networkConfig)?void 0:c.initializeHashAlgorithm)?h:"djb2");p=Object.assign(Object.assign({},p),{sinceTime:o&&!e?d.time:0,previousDerivedFields:"derived_fields"in d&&o?d.derived_fields:{},deltasResponseRequested:!0,full_checksum:d.full_checksum,partialUserMatchSinceTime:e?0:d.time})}return this._fetchEvaluations(e,d,p,r)})}_fetchEvaluations(e,t,r,s){return i(this,void 0,void 0,function*(){var i,o;let a=yield this.post({sdkKey:e,urlConfig:this._initializeUrlConfig,data:r,retries:2,isStatsigEncodable:!0,priority:s});if((null==a?void 0:a.code)===204)return'{"has_updates": false}';if((null==a?void 0:a.code)!==200)return null!=(i=null==a?void 0:a.body)?i:null;if((null==t?void 0:t.has_updates)!==!0||(null==(o=a.body)?void 0:o.includes('"is_delta":true'))!==!0||!0!==r.deltasResponseRequested)return a.body;let l=(0,n._resolveDeltasResponse)(t,a.body);return"string"==typeof l?l:this._fetchEvaluations(e,t,Object.assign(Object.assign(Object.assign({},r),l),{deltasResponseRequested:!1}),s)})}}r.default=o},316907,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._makeParamStoreGetter=void 0;let i=e.r(276338),s={disableExposureLog:!0};function n(e){return null==e||!1===e.disableExposureLog}function o(e,t){return null!=t&&!(0,i._isTypeMatch)(e,t)}r._makeParamStoreGetter=function(e,t,r){return(a,l)=>{if(null==t)return l;let u=t[a];if(null==u||null!=l&&(0,i._typeOf)(l)!==u.param_type)return l;switch(u.ref_type){case"static":return u.value;case"gate":return e.getFeatureGate(u.gate_name,n(r)?void 0:s).value?u.pass_value:u.fail_value;case"dynamic_config":let c;return o(c=e.getDynamicConfig(u.config_name,n(r)?void 0:s).get(u.param_name),l)?l:c;case"experiment":let h;return o(h=e.getExperiment(u.experiment_name,n(r)?void 0:s).get(u.param_name),l)?l:h;case"layer":let d;return o(d=e.getLayer(u.layer_name,n(r)?void 0:s).get(u.param_name),l)?l:d;default:return l}}}},170175,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.StatsigEvaluationsDataAdapter=void 0;let s=e.r(276338),n=e.r(166212);class o extends s.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(e,t,r){super.attach(e,t,r),null!==r&&r instanceof n.default?this._network=r:this._network=new n.default(null!=t?t:{})}getDataAsync(e,t,r){return this._getDataAsyncImpl(e,(0,s._normalizeUser)(t,this._options),r)}prefetchData(e,t){return this._prefetchDataImpl(e,t)}setData(e){let t=(0,s._typedJsonParse)(e,"has_updates","data");t&&"user"in t?super.setData(e,t.user):s.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(e,t){super.setData(e,t)}_fetchFromNetwork(e,t,r,s){return i(this,void 0,void 0,function*(){var i;let n=yield null==(i=this._network)?void 0:i.fetchEvaluations(this._getSdkKey(),e,null==r?void 0:r.priority,t,s);return null!=n?n:null})}_getCacheKey(e){var t;let r=(0,s._getStorageKey)(this._getSdkKey(),e,null==(t=this._options)?void 0:t.customUserCacheKeyFunc);return`${s.DataAdapterCachePrefix}.${this._cacheSuffix}.${r}`}_isCachedResultValidFor204(e,t){return null!=e.fullUserHash&&e.fullUserHash===(0,s._getFullUserHash)(t)}}r.StatsigEvaluationsDataAdapter=o},642090,(e,t,r)=>{"use strict";var i=e.e&&e.e.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(e){n(e)}}function a(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0});let s=e.r(276338),n=e.r(157501),o=e.r(166212),a=e.r(316907),l=e.r(170175);class u extends s.StatsigClientBase{static instance(e){let t=(0,s._getStatsigGlobal)().instance(e);return t instanceof u?t:(s.Log.warn((0,s._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new u(null!=e?e:"",{}))}constructor(e,t,r=null){var i,a;s.SDKType._setClientType(e,"javascript-client");const u=new o.default(r,e=>{this.$emt(e)});for(const o of(super(e,null!=(i=null==r?void 0:r.dataAdapter)?i:new l.StatsigEvaluationsDataAdapter,u,r),this._possibleFirstTouchMetadata={},this.getFeatureGate=this._memoize(s.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(s.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(s.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getConfigList=this._memoize(s.MemoPrefix._configList,this._getConfigListImpl.bind(this)),this.getLayer=this._memoize(s.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(s.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new n.default(e),this._network=u,this._user=this._configureUser(t,r),this._sdkInstanceID=(0,s.getUUID)(),null!=(a=null==r?void 0:r.plugins)?a:[]))o.bind(this)}initializeSync(e){var t;return"Uninitialized"!==this.loadingStatus?(0,s.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...null!=(t=this._store.getWarnings())?t:[]]):(this._logger.start(),this.updateUserSync(this._user,e))}initializeAsync(e){return i(this,void 0,void 0,function*(){return this._initializePromise||(this._initializePromise=this._initializeAsyncImpl(e)),this._initializePromise})}updateUserSync(e,t){let r=performance.now();try{return this._updateUserSyncImpl(e,t,r)}catch(t){let e=t instanceof Error?t:Error(String(t));return this._createErrorUpdateDetails(e,r)}}_updateUserSyncImpl(e,t,r){var i;let n=[...null!=(i=this._store.getWarnings())?i:[]];this._resetForUser(e);let o=this.dataAdapter.getDataSync(this._user);null==o&&n.push("NoCachedValues"),this._store.setValues(o,this._user),this._finalizeUpdate(o);let a=null==t?void 0:t.disableBackgroundCacheRefresh;return!0===a||null==a&&(null==o?void 0:o.source)==="Bootstrap"||this._runPostUpdate(null!=o?o:null,this._user),(0,s.createUpdateDetails)(!0,this._store.getSource(),performance.now()-r,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),n)}updateUserAsync(e,t){return i(this,void 0,void 0,function*(){let r=performance.now();try{return yield this._updateUserAsyncImpl(e,t)}catch(t){let e=t instanceof Error?t:Error(String(t));return this._createErrorUpdateDetails(e,r)}})}_updateUserAsyncImpl(e,t){return i(this,void 0,void 0,function*(){this._resetForUser(e);let r=this._user;s.Diagnostics._markInitOverallStart(this._sdkKey);let i=this.dataAdapter.getDataSync(r);if(this._store.setValues(i,this._user),this._setStatus("Loading",i),i=yield this.dataAdapter.getDataAsync(i,r,t),r!==this._user)return(0,s.createUpdateDetails)(!1,this._store.getSource(),-1,Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let n=!1;null!=i&&(s.Diagnostics._markInitProcessStart(this._sdkKey),n=this._store.setValues(i,this._user),s.Diagnostics._markInitProcessEnd(this._sdkKey,{success:n})),this._finalizeUpdate(i),n||(this._errorBoundary.attachErrorIfNoneExists(s.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),s.Diagnostics._markInitOverallEnd(this._sdkKey,n,this._store.getCurrentSourceDetails());let o=s.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,s.createUpdateDetails)(n,this._store.getSource(),o,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:s.StatsigSession.get(this._sdkKey),stableID:s.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}checkGate(e,t){return this.getFeatureGate(e,t).value}logEvent(e,t,r){let i="string"==typeof e?{eventName:e,value:t,metadata:r}:e;this.$emt({name:"log_event_called",event:i}),this._logger.enqueue(Object.assign(Object.assign({},i),{user:this._user,time:Date.now()}))}updateUserWithAnalyticsOnlyMetadata(e){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:e}),this._options)}_primeReadyRipcord(){this.$on("error",()=>{"Loading"===this.loadingStatus&&this._finalizeUpdate(null)})}_initializeAsyncImpl(e){return i(this,void 0,void 0,function*(){return s.Storage.isReady()||(yield s.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,e)})}_createErrorUpdateDetails(e,t){var r;return(0,s.createUpdateDetails)(!1,this._store.getSource(),performance.now()-t,e,null,[...null!=(r=this._store.getWarnings())?r:[]])}_finalizeUpdate(e){this._store.finalize(),this._setStatus("Ready",e)}_runPostUpdate(e,t){this.dataAdapter.getDataAsync(e,t,{priority:"low"}).catch(e=>{s.Log.error("An error occurred after update.",e)})}_resetForUser(e){this._logger.reset(),this._store.reset(),this._user=this._configureUser(e,this._options)}_configureUser(e,t){var r,i,n;let o=(0,s._normalizeUser)(e,t),a=null==(r=o.customIDs)?void 0:r.stableID;if(a){let e=null==(n=(i=this.storageProvider).isReadyResolver)?void 0:n.call(i);e?e.then(()=>s.StableID.setOverride(a,this._sdkKey),()=>s.StableID.setOverride(a,this._sdkKey)):s.StableID.setOverride(a,this._sdkKey)}return Object.keys(this._possibleFirstTouchMetadata).length>0&&(o.analyticsOnlyMetadata=Object.assign(Object.assign({},o.analyticsOnlyMetadata),this._possibleFirstTouchMetadata)),o}_getFeatureGateImpl(e,t){var r,i;let{result:n,details:o}=this._store.getGate(e),a=(0,s._makeFeatureGate)(e,o,n),l=null==(i=null==(r=this.overrideAdapter)?void 0:r.getGateOverride)?void 0:i.call(r,a,this._user,t),u=null!=l?l:a;return this._enqueueExposure(e,(0,s._createGateExposure)(this._user,u,this._store.getExposureMapping()),t),this.$emt({name:"gate_evaluation",gate:u}),u}_getDynamicConfigImpl(e,t){var r,i;let{result:n,details:o}=this._store.getConfig(e),a=(0,s._makeDynamicConfig)(e,o,n),l=null==(i=null==(r=this.overrideAdapter)?void 0:r.getDynamicConfigOverride)?void 0:i.call(r,a,this._user,t),u=null!=l?l:a;return this._enqueueExposure(e,(0,s._createConfigExposure)(this._user,u,this._store.getExposureMapping()),t),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:u}),u}_getExperimentImpl(e,t){var r,i,n,o;let{result:a,details:l}=this._store.getConfig(e),u=(0,s._makeExperiment)(e,l,a);null!=u.__evaluation&&(u.__evaluation.secondary_exposures=(0,s._mapExposures)(null!=(i=null==(r=u.__evaluation)?void 0:r.secondary_exposures)?i:[],this._store.getExposureMapping()));let c=null==(o=null==(n=this.overrideAdapter)?void 0:n.getExperimentOverride)?void 0:o.call(n,u,this._user,t),h=null!=c?c:u;return this._enqueueExposure(e,(0,s._createConfigExposure)(this._user,h,this._store.getExposureMapping()),t),this.$emt({name:"experiment_evaluation",experiment:h}),h}_getConfigListImpl(){return this._store.getConfigList()}_getLayerImpl(e,t){var r,i,n;let{result:o,details:a}=this._store.getLayer(e),l=(0,s._makeLayer)(e,a,o),u=null==(i=null==(r=this.overrideAdapter)?void 0:r.getLayerOverride)?void 0:i.call(r,l,this._user,t);(null==t?void 0:t.disableExposureLog)&&this._logger.incrementNonExposureCount(e);let c=(0,s._mergeOverride)(l,u,null!=(n=null==u?void 0:u.__value)?n:l.__value,r=>{null!=t&&t.disableExposureLog||this._enqueueExposure(e,(0,s._createLayerParameterExposure)(this._user,c,r,this._store.getExposureMapping()),t)});return this.$emt({name:"layer_evaluation",layer:c}),c}_getParameterStoreImpl(e,t){var r,i;let{result:s,details:n}=this._store.getParamStore(e);this._logger.incrementNonExposureCount(e);let o={name:e,details:n,__configuration:s,get:(0,a._makeParamStoreGetter)(this,s,t)},l=null==(i=null==(r=this.overrideAdapter)?void 0:r.getParamStoreOverride)?void 0:i.call(r,o,t);return null!=l&&(o.__configuration=l.config,o.details=l.details,o.get=(0,a._makeParamStoreGetter)(this,l.config,t)),o}}r.default=u},942898,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,s)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),s=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.StatsigClient=void 0;let n=e.r(276338),o=e.r(642090);r.StatsigClient=o.default,s(e.r(276338),r),r.default=Object.assign((0,n._getStatsigGlobal)(),{StatsigClient:o.default})},876110,(e,t,r)=>{"use strict";let i,s,n,o,a,l,u,c,h,d,p,g,f,m,y,_,v,b,S,w,C,E;var I,k,O,x,M,R,D,A,T,P,L=e.i(434989),N=e.i(221042);Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});var j=Object.defineProperty,U=(e,t,r)=>{let i;return(i="symbol"!=typeof t?t+"":t)in e?j(e,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[i]=r},F=Object.defineProperty,B=(e,t,r)=>{let i;return(i="symbol"!=typeof t?t+"":t)in e?F(e,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[i]=r},z=((I=z||{})[I.Document=0]="Document",I[I.DocumentType=1]="DocumentType",I[I.Element=2]="Element",I[I.Text=3]="Text",I[I.CDATA=4]="CDATA",I[I.Comment=5]="Comment",I);let V={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},W={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},G={};function K(e){if(G[e])return G[e];let t=globalThis[e],r=t.prototype,i=e in V?V[e]:void 0,s=!!(i&&i.every(e=>{var t,i;return!!(null==(i=null==(t=Object.getOwnPropertyDescriptor(r,e))?void 0:t.get)?void 0:i.toString().includes("[native code]"))})),n=e in W?W[e]:void 0,o=!!(n&&n.every(e=>{var t;return"function"==typeof r[e]&&(null==(t=r[e])?void 0:t.toString().includes("[native code]"))}));if(s&&o)return G[e]=t.prototype,t.prototype;try{let i=document.createElement("iframe");document.body.appendChild(i);let s=i.contentWindow;if(!s)return t.prototype;let n=s[e].prototype;if(document.body.removeChild(i),!n)return r;return G[e]=n}catch{return r}}let $={};function Y(e,t,r){var i;let s=`${e}.${String(r)}`;if($[s])return $[s].call(t);let n=null==(i=Object.getOwnPropertyDescriptor(K(e),r))?void 0:i.get;return n?($[s]=n,n.call(t)):t[r]}let J=function(e){return Y("Node",e,"childNodes")},q=function(e){return Y("Node",e,"parentNode")},H=function(e){return Y("Node",e,"parentElement")},Z=function(e){return Y("Node",e,"textContent")},X=function(e){return e&&"shadowRoot"in e?Y("Element",e,"shadowRoot"):null};function Q(e){return e.nodeType===e.ELEMENT_NODE}function ee(e){var t;let r=e&&"host"in e&&"mode"in e&&((t=e)&&"host"in t?Y("ShadowRoot",t,"host"):null)||null;return!!(r&&"shadowRoot"in r&&X(r)===e)}function et(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function er(e){try{var t;let r=e.rules||e.cssRules;if(!r)return null;return(t=Array.from(r,t=>ei(t,e.href)).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t}catch(e){return null}}function ei(e,t){if("styleSheet"in e){let t;try{t=er(e.styleSheet)||function(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let r=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}(e)}catch(r){t=e.cssText}return e.styleSheet.href?eg(t,e.styleSheet.href):t}{let r=e.cssText;return("selectorText"in e&&e.selectorText.includes(":")&&(r=r.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")),t)?eg(r,t):r}}class es{constructor(){B(this,"idNodeMap",new Map),B(this,"nodeMetaMap",new WeakMap)}getId(e){var t;return e?(null==(t=this.getMeta(e))?void 0:t.id)??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){let r=this.getNode(e);if(r){let e=this.nodeMetaMap.get(r);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function en({element:e,maskInputOptions:t,tagName:r,type:i,value:s,maskInputFn:n}){let o=s||"",a=i&&eo(i);return(t[r.toLowerCase()]||a&&t[a])&&(o=n?n(o,e):"*".repeat(o.length)),o}function eo(e){return e.toLowerCase()}let ea="__rrweb_original__";function el(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?eo(t):null}function eu(e,t){let r;try{r=new URL(e,t??window.location.href)}catch(e){return null}let i=r.pathname.match(/\.([0-9a-z]+)(?:$)/i);return(null==i?void 0:i[1])??null}let ec=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,eh=/^(?:[a-z+]+:)?\/\//i,ed=/^www\..*/i,ep=/^(data:)([^,]*),(.*)/i;function eg(e,t){return(e||"").replace(ec,(e,r,i,s,n,o)=>{let a=i||n||o,l=r||s||"";if(!a)return e;if(eh.test(a)||ed.test(a)||ep.test(a))return`url(${l}${a}${l})`;if("/"===a[0])return`url(${l}${(t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0]).split("?")[0]+a}${l})`;let u=t.split("/"),c=a.split("/");for(let e of(u.pop(),c))if("."===e)continue;else".."===e?u.pop():u.push(e);return`url(${l}${u.join("/")}${l})`})}let ef=1,em=RegExp("[^a-z0-9-_:]");function ey(){return ef++}let e_=/^[^ \t\n\r\u000c]+/,ev=/^[, \t\n\r\u000c]+/,eb=new WeakMap;function eS(e,t){return t&&""!==t.trim()?ew(e,t):t}function ew(e,t){let r=eb.get(e);if(r||(r=e.createElement("a"),eb.set(e,r)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return r.setAttribute("href",t),r.href}function eC(e,t,r,i){if(!i)return i;if("src"===r||"href"===r&&("use"!==t||"#"!==i[0])||"xlink:href"===r&&"#"!==i[0])return eS(e,i);if("background"===r&&("table"===t||"td"===t||"th"===t))return eS(e,i);if("srcset"===r)return function(e,t){if(""===t.trim())return t;let r=0;function i(e){let i,s=e.exec(t.substring(r));return s?(i=s[0],r+=i.length,i):""}let s=[];for(;i(ev),!(r>=t.length);){let n=i(e_);if(","===n.slice(-1))n=eS(e,n.substring(0,n.length-1)),s.push(n);else{let i="";n=eS(e,n);let o=!1;for(;;){let e=t.charAt(r);if(""===e){s.push((n+i).trim());break}if(o)")"===e&&(o=!1);else if(","===e){r+=1,s.push((n+i).trim());break}else"("===e&&(o=!0);i+=e,r+=1}}}return s.join(", ")}(e,i);if("style"===r)return eg(i,ew(e));else if("object"===t&&"data"===r)return eS(e,i);return i}function eE(e,t,r){return("video"===e||"audio"===e)&&"autoplay"===t}function eI(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!r&&eI(q(e),t,r);for(let r=e.classList.length;r--;){let i=e.classList[r];if(t.test(i))return!0}return!!r&&eI(q(e),t,r)}function ek(e,t,r,i){let s;if(Q(e)){if(!J(s=e).length)return!1}else{if(null===H(e))return!1;s=H(e)}try{if("string"==typeof t){if(i){if(s.closest(`.${t}`))return!0}else if(s.classList.contains(t))return!0}else if(eI(s,t,i))return!0;if(r){if(i){if(s.closest(r))return!0}else if(s.matches(r))return!0}}catch(e){}return!1}function eO(e){return null==e?"":e.toLowerCase()}function ex(e,t){let r,{doc:n,mirror:o,blockClass:a,blockSelector:l,maskTextClass:u,maskTextSelector:c,skipChild:h=!1,inlineStylesheet:d=!0,maskInputOptions:p={},maskTextFn:g,maskInputFn:f,slimDOMOptions:m,dataURLOptions:y={},inlineImages:_=!1,recordCanvas:v=!1,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:w=5e3,onStylesheetLoad:C,stylesheetLoadTimeout:E=5e3,keepIframeSrcFn:I=()=>!1,newlyAddedElement:k=!1}=t,{needsMask:O}=t,{preserveWhiteSpace:x=!0}=t;O||(O=ek(e,u,c,void 0===O));let M=function(e,t){let{doc:r,mirror:n,blockClass:o,blockSelector:a,needsMask:l,inlineStylesheet:u,maskInputOptions:c={},maskTextFn:h,maskInputFn:d,dataURLOptions:p={},inlineImages:g,recordCanvas:f,keepIframeSrcFn:m,newlyAddedElement:y=!1}=t,_=function(e,t){if(!t.hasNode(e))return;let r=t.getId(e);return 1===r?void 0:r}(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:if("CSS1Compat"!==e.compatMode)return{type:z.Document,childNodes:[],compatMode:e.compatMode};return{type:z.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:z.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:_};case e.ELEMENT_NODE:return function(e,t){let r,{doc:n,blockClass:o,blockSelector:a,inlineStylesheet:l,maskInputOptions:u={},maskInputFn:c,dataURLOptions:h={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:g,newlyAddedElement:f=!1,rootId:m}=t,y=function(e,t,r){try{if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let r=e.classList.length;r--;){let i=e.classList[r];if(t.test(i))return!0}if(r)return e.matches(r)}catch(e){}return!1}(e,o,a),_=function(e){if(e instanceof HTMLFormElement)return"form";let t=eo(e.tagName);return em.test(t)?"div":t}(e),v={},b=e.attributes.length;for(let t=0;t<b;t++){let r=e.attributes[t];eE(_,r.name,r.value)||(v[r.name]=eC(n,_,eo(r.name),r.value))}if("link"===_&&l){let t=Array.from(n.styleSheets).find(t=>t.href===e.href),r=null;t&&(r=er(t)),r&&(delete v.rel,delete v.href,v._cssText=r)}if("style"===_&&e.sheet&&!(e.innerText||Z(e)||"").trim().length){let t=er(e.sheet);t&&(v._cssText=t)}if("input"===_||"textarea"===_||"select"===_){let t=e.value,r=e.checked;"radio"!==v.type&&"checkbox"!==v.type&&"submit"!==v.type&&"button"!==v.type&&t?v.value=en({element:e,type:el(e),tagName:_,value:t,maskInputOptions:u,maskInputFn:c}):r&&(v.checked=r)}if("option"===_&&(e.selected&&!u.select?v.selected=!0:delete v.selected),"dialog"===_&&e.open&&(v.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal"),"canvas"===_&&p){if("2d"===e.__context)!function(e){let t=e.getContext("2d");if(!t)return!0;for(let r=0;r<e.width;r+=50)for(let i=0;i<e.height;i+=50){let s=t.getImageData;if(new Uint32Array((ea in s?s[ea]:s).call(t,r,i,Math.min(50,e.width-r),Math.min(50,e.height-i)).data.buffer).some(e=>0!==e))return!1}return!0}(e)&&(v.rr_dataURL=e.toDataURL(h.type,h.quality));else if(!("__context"in e)){let t=e.toDataURL(h.type,h.quality),r=n.createElement("canvas");r.width=e.width,r.height=e.height,t!==r.toDataURL(h.type,h.quality)&&(v.rr_dataURL=t)}}if("img"===_&&d){i||(s=(i=n.createElement("canvas")).getContext("2d"));let t=e.currentSrc||e.getAttribute("src")||"<unknown-src>",r=e.crossOrigin,o=()=>{e.removeEventListener("load",o);try{i.width=e.naturalWidth,i.height=e.naturalHeight,s.drawImage(e,0,0),v.rr_dataURL=i.toDataURL(h.type,h.quality)}catch(r){if("anonymous"!==e.crossOrigin){e.crossOrigin="anonymous",e.complete&&0!==e.naturalWidth?o():e.addEventListener("load",o);return}console.warn(`Cannot inline img src=${t}! Error: ${r}`)}"anonymous"===e.crossOrigin&&(r?v.crossOrigin=r:e.removeAttribute("crossorigin"))};e.complete&&0!==e.naturalWidth?o():e.addEventListener("load",o)}if("audio"===_||"video"===_){let t=v;t.rr_mediaState=e.paused?"paused":"played",t.rr_mediaCurrentTime=e.currentTime,t.rr_mediaPlaybackRate=e.playbackRate,t.rr_mediaMuted=e.muted,t.rr_mediaLoop=e.loop,t.rr_mediaVolume=e.volume}if(!f&&(e.scrollLeft&&(v.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(v.rr_scrollTop=e.scrollTop)),y){let{width:t,height:r}=e.getBoundingClientRect();v={class:v.class,rr_width:`${t}px`,rr_height:`${r}px`}}"iframe"!==_||g(v.src)||(e.contentDocument||(v.rr_src=v.src),delete v.src);try{customElements.get(_)&&(r=!0)}catch(e){}return{type:z.Element,tagName:_,attributes:v,childNodes:[],isSVG:!!("svg"===e.tagName||e.ownerSVGElement)||void 0,needBlock:y,rootId:m,isCustom:r}}(e,{doc:r,blockClass:o,blockSelector:a,inlineStylesheet:u,maskInputOptions:c,maskInputFn:d,dataURLOptions:p,inlineImages:g,recordCanvas:f,keepIframeSrcFn:m,newlyAddedElement:y,rootId:_});case e.TEXT_NODE:return function(e,t){var r;let{needsMask:i,maskTextFn:s,rootId:n}=t,o=q(e),a=o&&o.tagName,l=Z(e),u="STYLE"===a||void 0,c="SCRIPT"===a||void 0;if(u&&l){try{e.nextSibling||e.previousSibling||(null==(r=o.sheet)?void 0:r.cssRules)&&(l=er(o.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}l=eg(l,ew(t.doc))}return c&&(l="SCRIPT_PLACEHOLDER"),!u&&!c&&l&&i&&(l=s?s(l,H(e)):l.replace(/[\S]/g,"*")),{type:z.Text,textContent:l||"",isStyle:u,rootId:n}}(e,{doc:r,needsMask:l,maskTextFn:h,rootId:_});case e.CDATA_SECTION_NODE:return{type:z.CDATA,textContent:"",rootId:_};case e.COMMENT_NODE:return{type:z.Comment,textContent:Z(e)||"",rootId:_};default:return!1}}(e,{doc:n,mirror:o,blockClass:a,blockSelector:l,needsMask:O,inlineStylesheet:d,maskInputOptions:p,maskTextFn:g,maskInputFn:f,dataURLOptions:y,inlineImages:_,recordCanvas:v,keepIframeSrcFn:I,newlyAddedElement:k});if(!M)return console.warn(e,"not serialized"),null;r=o.hasNode(e)?o.getId(e):!function(e,t){if(t.comment&&e.type===z.Comment)return!0;if(e.type===z.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===eu(e.attributes.href)))return!0;else if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(eO(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===eO(e.attributes.name)||"icon"===eO(e.attributes.rel)||"apple-touch-icon"===eO(e.attributes.rel)||"shortcut icon"===eO(e.attributes.rel))))return!0;else if("meta"===e.tagName){if(t.headMetaDescKeywords&&eO(e.attributes.name).match(/^description|keywords$/))return!0;else if(t.headMetaSocial&&(eO(e.attributes.property).match(/^(og|twitter|fb):/)||eO(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===eO(e.attributes.name)))return!0;else if(t.headMetaRobots&&("robots"===eO(e.attributes.name)||"googlebot"===eO(e.attributes.name)||"bingbot"===eO(e.attributes.name)))return!0;else if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;else if(t.headMetaAuthorship&&("author"===eO(e.attributes.name)||"generator"===eO(e.attributes.name)||"framework"===eO(e.attributes.name)||"publisher"===eO(e.attributes.name)||"progid"===eO(e.attributes.name)||eO(e.attributes.property).match(/^article:/)||eO(e.attributes.property).match(/^product:/)))return!0;else if(t.headMetaVerification&&("google-site-verification"===eO(e.attributes.name)||"yandex-verification"===eO(e.attributes.name)||"csrf-token"===eO(e.attributes.name)||"p:domain_verify"===eO(e.attributes.name)||"verify-v1"===eO(e.attributes.name)||"verification"===eO(e.attributes.name)||"shopify-checkout-api-token"===eO(e.attributes.name)))return!0}}return!1}(M,m)&&(x||M.type!==z.Text||M.isStyle||M.textContent.replace(/^\s+|\s+$/gm,"").length)?ey():-2;let R=Object.assign(M,{id:r});if(o.add(e,R),-2===r)return null;b&&b(e);let D=!h;if(R.type===z.Element){D=D&&!R.needBlock,delete R.needBlock;let t=X(e);t&&et(t)&&(R.isShadowHost=!0)}if((R.type===z.Document||R.type===z.Element)&&D){m.headWhitespace&&R.type===z.Element&&"head"===R.tagName&&(x=!1);let t={doc:n,mirror:o,blockClass:a,blockSelector:l,needsMask:O,maskTextClass:u,maskTextSelector:c,skipChild:h,inlineStylesheet:d,maskInputOptions:p,maskTextFn:g,maskInputFn:f,slimDOMOptions:m,dataURLOptions:y,inlineImages:_,recordCanvas:v,preserveWhiteSpace:x,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:w,onStylesheetLoad:C,stylesheetLoadTimeout:E,keepIframeSrcFn:I};if(R.type===z.Element&&"textarea"===R.tagName&&void 0!==R.attributes.value);else for(let r of Array.from(J(e))){let e=ex(r,t);e&&R.childNodes.push(e)}let r=null;if(Q(e)&&(r=X(e)))for(let e of Array.from(J(r))){let i=ex(e,t);i&&(et(r)&&(i.isShadow=!0),R.childNodes.push(i))}}let A=q(e);return A&&ee(A)&&et(A)&&(R.isShadow=!0),R.type===z.Element&&"iframe"===R.tagName&&function(e,t,r){let i,s=e.contentWindow;if(!s)return;let n=!1;try{i=s.document.readyState}catch(e){return}if("complete"!==i){let i=setTimeout(()=>{n||(t(),n=!0)},r);e.addEventListener("load",()=>{clearTimeout(i),n=!0,t()});return}let o="about:blank";if(s.location.href!==o||e.src===o||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,()=>{let t=e.contentDocument;if(t&&S){let r=ex(t,{doc:t,mirror:o,blockClass:a,blockSelector:l,needsMask:O,maskTextClass:u,maskTextSelector:c,skipChild:!1,inlineStylesheet:d,maskInputOptions:p,maskTextFn:g,maskInputFn:f,slimDOMOptions:m,dataURLOptions:y,inlineImages:_,recordCanvas:v,preserveWhiteSpace:x,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:w,onStylesheetLoad:C,stylesheetLoadTimeout:E,keepIframeSrcFn:I});r&&S(e,r)}},w),R.type===z.Element&&"link"===R.tagName&&"string"==typeof R.attributes.rel&&("stylesheet"===R.attributes.rel||"preload"===R.attributes.rel&&"string"==typeof R.attributes.href&&"css"===eu(R.attributes.href))&&function(e,t,r){let i,s=!1;try{i=e.sheet}catch(e){return}if(i)return;let n=setTimeout(()=>{s||(t(),s=!0)},r);e.addEventListener("load",()=>{clearTimeout(n),s=!0,t()})}(e,()=>{if(C){let t=ex(e,{doc:n,mirror:o,blockClass:a,blockSelector:l,needsMask:O,maskTextClass:u,maskTextSelector:c,skipChild:!1,inlineStylesheet:d,maskInputOptions:p,maskTextFn:g,maskInputFn:f,slimDOMOptions:m,dataURLOptions:y,inlineImages:_,recordCanvas:v,preserveWhiteSpace:x,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:w,onStylesheetLoad:C,stylesheetLoadTimeout:E,keepIframeSrcFn:I});t&&C(e,t)}},E),R}var eM={exports:{}},eR=String,eD=function(){return{isColorSupported:!1,reset:eR,bold:eR,dim:eR,italic:eR,underline:eR,inverse:eR,hidden:eR,strikethrough:eR,black:eR,red:eR,green:eR,yellow:eR,blue:eR,magenta:eR,cyan:eR,white:eR,gray:eR,bgBlack:eR,bgRed:eR,bgGreen:eR,bgYellow:eR,bgBlue:eR,bgMagenta:eR,bgCyan:eR,bgWhite:eR}};eM.exports=eD(),eM.exports.createColors=eD;var eA=eM.exports;let eT=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}),r}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),eP=class e extends Error{constructor(t,r,i,s,n,o){super(t),this.name="CssSyntaxError",this.reason=t,n&&(this.file=n),s&&(this.source=s),o&&(this.plugin=o),void 0!==r&&void 0!==i&&("number"==typeof r?(this.line=r,this.column=i):(this.line=r.line,this.column=r.column,this.endLine=i.line,this.endColumn=i.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){let t,r;if(!this.source)return"";let i=this.source;null==e&&(e=eA.isColorSupported),eT&&e&&(i=eT(i));let s=i.split(/\r?\n/),n=Math.max(this.line-3,0),o=Math.min(this.line+2,s.length),a=String(o).length;if(e){let{bold:e,gray:i,red:s}=eA.createColors(!0);t=t=>e(s(t)),r=e=>i(e)}else t=r=e=>e;return s.slice(n,o).map((e,i)=>{let s=n+1+i,o=" "+(" "+s).slice(-a)+" | ";if(s===this.line){let i=r(o.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return t(">")+r(o)+e+"\n "+i+t("^")}return" "+r(o)+e}).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}};eP.default=eP;var eL={};eL.isClean=Symbol("isClean"),eL.my=Symbol("my");let eN={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},ej=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:i&&(r+=" "),e.nodes)this.block(e,r+i);else{let s=(e.raws.between||"")+(t?";":"");this.builder(r+i+s,e)}}beforeAfter(e,t){let r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let i=e.parent,s=0;for(;i&&"root"!==i.type;)s+=1,i=i.parent;if(r.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<s;e++)r+=t}return r}block(e,t){let r,i=this.raw(e,"between","beforeOpen");this.builder(t+i+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let r=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let s=e.nodes[i],n=this.raw(s,"before");n&&this.builder(n),this.stringify(s,t!==i||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),i=e.prop+r+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,t,r){let i;if(r||(r=t),t&&void 0!==(i=e.raws[t]))return i;let s=e.parent;if("before"===r&&(!s||"root"===s.type&&s.first===e||s&&"document"===s.type))return"";if(!s)return eN[r];let n=e.root();if(n.rawCache||(n.rawCache={}),void 0!==n.rawCache[r])return n.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);{var o;let s="raw"+((o=r)[0].toUpperCase()+o.slice(1));this[s]?i=this[s](n,e):n.walk(e=>{if(void 0!==(i=e.raws[t]))return!1})}return void 0===i&&(i=eN[r]),n.rawCache[r]=i,i}rawBeforeClose(e){let t;return e.walk(e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(t=e.raws.after).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments(e=>{if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1}),void 0===r?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(e=>{if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1}),void 0===r?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk(e=>{if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1}),t}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return(t=r.raws.before).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(e=>{if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1}),t}rawIndent(e){let t;return e.raws.indent?e.raws.indent:(e.walk(r=>{let i=r.parent;if(i&&i!==e&&i.parent&&i.parent===e&&void 0!==r.raws.before){let e=r.raws.before.split("\n");return t=(t=e[e.length-1]).replace(/\S/g,""),!1}}),t)}rawSemicolon(e){let t;return e.walk(e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1}),t}rawValue(e,t){let r=e[t],i=e.raws[t];return i&&i.value===r?i.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};function eU(e,t){new ej(t).stringify(e)}ej.default=ej,eU.default=eU;let{isClean:eF,my:eB}=eL,ez=class{constructor(e={}){for(let t in this.raws={},this[eF]=!1,this[eB]=!0,e)if("nodes"===t)for(let r of(this.nodes=[],e[t]))"function"==typeof r.clone?this.append(r.clone()):this.append(r);else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=function e(t,r){let i=new t.constructor;for(let s in t){if(!Object.prototype.hasOwnProperty.call(t,s)||"proxyCache"===s)continue;let n=t[s],o=typeof n;"parent"===s&&"object"===o?r&&(i[s]=r):"source"===s?i[s]=n:Array.isArray(n)?i[s]=n.map(t=>e(t,i)):("object"===o&&null!==n&&(n=e(n)),i[s]=n)}return i}(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:r,start:i}=this.rangeBy(t);return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},t)}return new eP(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,r)=>e[t]===r||(e[t]=r,("prop"===t||"value"===t||"name"===t||"params"===t||"important"===t||"text"===t)&&e.markDirty(),!0)}}markDirty(){if(this[eF]){this[eF]=!1;let e=this;for(;e=e.parent;)e[eF]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){let i=(t=this.toString()).indexOf(e.word);-1!==i&&(r=this.positionInside(i,t))}return r}positionInside(e,t){let r=t||this.toString(),i=this.source.start.column,s=this.source.start.line;for(let t=0;t<e;t++)"\n"===r[t]?(i=1,s+=1):i+=1;return{column:i,line:s}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let i=this.toString(),s=i.indexOf(e.word);-1!==s&&(t=this.positionInside(s,i),r=this.positionInside(s+e.word.length,i))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return new ej().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let i of e)i===this?r=!0:r?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);r||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let r={},i=null==t;t=t||new Map;let s=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e)||"parent"===e||"proxyCache"===e)continue;let i=this[e];if(Array.isArray(i))r[e]=i.map(e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e);else if("object"==typeof i&&i.toJSON)r[e]=i.toJSON(null,t);else if("source"===e){let n=t.get(i.input);null==n&&(n=s,t.set(i.input,s),s++),r[e]={end:i.end,inputId:n,start:i.start}}else r[e]=i}return i&&(r.inputs=[...t.keys()].map(e=>e.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=eU){e.stringify&&(e=e.stringify);let t="";return e(this,e=>{t+=e}),t}warn(e,t,r){let i={node:this};for(let e in r)i[e]=r[e];return e.warn(t,i)}get proxyOf(){return this}};ez.default=ez;let eV=ez,eW=class extends eV{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};eW.default=eW;let{SourceMapConsumer:eG,SourceMapGenerator:eK}=eT,{existsSync:e$,readFileSync:eY}=eT,{dirname:eJ,join:eq}=eT,eH=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,i=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=eJ(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new eG(this.text)),this.consumerCache}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e)){var t;return t=e.substr(RegExp.lastMatch.length),L.Buffer.from(t,"base64").toString()}throw Error("Unsupported source map encoding "+e.match(/data:application\/json;([^,]+),/)[1])}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),i=e.indexOf("*/",r);r>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,i)))}loadFile(e){if(this.root=eJ(e),e$(e))return this.mapFile=e,eY(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t)if("string"==typeof t)return t;else if("function"==typeof t){let r=t(e);if(r){let e=this.loadFile(r);if(!e)throw Error("Unable to load previous source map: "+r.toString());return e}}else if(t instanceof eG)return eK.fromSourceMap(t).toString();else if(t instanceof eK)return t.toString();else if(this.isMap(t))return JSON.stringify(t);else throw Error("Unsupported previous source map format: "+t.toString());else if(this.inline)return this.decodeInline(this.annotation);else if(this.annotation){let t=this.annotation;return e&&(t=eq(eJ(e),t)),this.loadFile(t)}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};eH.default=eH;let{SourceMapConsumer:eZ,SourceMapGenerator:eX}=eT,{fileURLToPath:eQ,pathToFileURL:e0}=eT,{isAbsolute:e1,resolve:e2}=eT,{nanoid:e3}={nanoid:(e=21)=>{let t="",r=e;for(;r--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(r=t)=>{let i="",s=r;for(;s--;)i+=e[Math.random()*e.length|0];return i}},e5=Symbol("fromOffsetCache"),e9=!!(eZ&&eX),e8=!!(e2&&e1),e4=class{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\uFEFF"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!e8||/^\w+:\/\//.test(t.from)||e1(t.from)?this.file=t.from:this.file=e2(t.from)),e8&&e9){let e=new eH(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+e3(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,i={}){let s,n,o;if(t&&"object"==typeof t){let e=t,i=r;if("number"==typeof e.offset){let i=this.fromOffset(e.offset);t=i.line,r=i.col}else t=e.line,r=e.column;if("number"==typeof i.offset){let e=this.fromOffset(i.offset);n=e.line,o=e.col}else n=i.line,o=i.column}else if(!r){let e=this.fromOffset(t);t=e.line,r=e.col}let a=this.origin(t,r,n,o);return(s=a?new eP(e,void 0===a.endLine?a.line:{column:a.column,line:a.line},void 0===a.endLine?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,i.plugin):new eP(e,void 0===n?t:{column:r,line:t},void 0===n?r:{column:o,line:n},this.css,this.file,i.plugin)).input={column:r,endColumn:o,endLine:n,line:t,source:this.css},this.file&&(e0&&(s.input.url=e0(this.file).toString()),s.input.file=this.file),s}fromOffset(e){let t,r;if(this[e5])r=this[e5];else{let e=this.css.split("\n");r=Array(e.length);let t=0;for(let i=0,s=e.length;i<s;i++)r[i]=t,t+=e[i].length+1;this[e5]=r}t=r[r.length-1];let i=0;if(e>=t)i=r.length-1;else{let t,s=r.length-2;for(;i<s;)if(e<r[t=i+(s-i>>1)])s=t-1;else if(e>=r[t+1])i=t+1;else{i=t;break}}return{col:e-r[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:e2(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,i){let s,n;if(!this.map)return!1;let o=this.map.consumer(),a=o.originalPositionFor({column:t,line:e});if(!a.source)return!1;"number"==typeof r&&(s=o.originalPositionFor({column:i,line:r})),n=e1(a.source)?e0(a.source):new URL(a.source,this.map.consumer().sourceRoot||e0(this.map.mapFile));let l={column:a.column,endColumn:s&&s.column,endLine:s&&s.line,line:a.line,url:n.toString()};if("file:"===n.protocol)if(eQ)l.file=eQ(n);else throw Error("file: protocol is not available in this PostCSS build");let u=o.sourceContentFor(a.source);return u&&(l.source=u),l}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};e4.default=e4,eT&&eT.registerInput&&eT.registerInput(e4);let{SourceMapConsumer:e6,SourceMapGenerator:e7}=eT,{dirname:te,relative:tt,resolve:tr,sep:ti}=eT,{pathToFileURL:ts}=eT,tn=!!(e6&&e7),to=!!(te&&tr&&tt&&ti),ta=class{constructor(e,t,r,i){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,r=this.toUrl(this.path(e.file)),i=e.root||te(e.file);!1===this.mapOpts.sourcesContent?(t=new e6(e.text)).sourcesContent&&(t.sourcesContent=null):t=e.consumer(),this.map.applySourceMap(t,r,this.toUrl(this.path(i)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),to&&tn&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=e7.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new e7({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return(this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline())?[this.css]:[this.css,this.map]}generateString(){let e,t;this.css="",this.map=new e7({file:this.outputFile(),ignoreInvalidMapping:!0});let r=1,i=1,s="<no source>",n={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(o,a,l)=>{if(this.css+=o,a&&"end"!==l&&(n.generated.line=r,n.generated.column=i-1,a.source&&a.source.start?(n.source=this.sourcePath(a),n.original.line=a.source.start.line,n.original.column=a.source.start.column-1):(n.source=s,n.original.line=1,n.original.column=0),this.map.addMapping(n)),(e=o.match(/\n/g))?(r+=e.length,t=o.lastIndexOf("\n"),i=o.length-t):i+=o.length,a&&"start"!==l){let e=a.parent||{raws:{}};(!("decl"===a.type||"atrule"===a.type&&!a.nodes)||a!==e.last||e.raws.semicolon)&&(a.source&&a.source.end?(n.source=this.sourcePath(a),n.original.line=a.source.end.line,n.original.column=a.source.end.column-1,n.generated.line=r,n.generated.column=i-2):(n.source=s,n.original.line=1,n.original.column=0,n.generated.line=r,n.generated.column=i-1),this.map.addMapping(n))}})}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(e=>e.annotation))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some(e=>e.inline))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(e=>e.withContent())}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||60===e.charCodeAt(0)||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?te(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(r=te(tr(r,this.mapOpts.annotation)));let i=tt(r,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new e4(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let i=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(i,t.source.input.css)}}});else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return L.Buffer.from(e).toString("base64")}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(ts){let t=ts(e).toString();return this.memoizedFileURLs.set(e,t),t}throw Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===ti&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}},tl=ez,tu=class extends tl{constructor(e){super(e),this.type="comment"}};tu.default=tu;let{isClean:tc,my:th}=eL,td=ez,tp=class e extends td{append(...e){for(let t of e)for(let e of this.normalize(t,this.last))this.proxyOf.nodes.push(e);return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){let t,r;if(!this.proxyOf.nodes)return;let i=this.getIterator();for(;this.indexes[i]<this.proxyOf.nodes.length&&(t=this.indexes[i],!1!==(r=e(this.proxyOf.nodes[t],t)));)this.indexes[i]+=1;return delete this.indexes[i],r}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){if("proxyOf"===t)return e;if(!e[t])return e[t];if("each"===t||"string"==typeof t&&t.startsWith("walk"))return(...r)=>e[t](...r.map(e=>"function"==typeof e?(t,r)=>e(t.toProxy(),r):e));if("every"===t||"some"===t)return r=>e[t]((e,...t)=>r(e.toProxy(),...t));if("root"===t)return()=>e.root().toProxy();else if("nodes"===t)return e.nodes.map(e=>e.toProxy());else if("first"===t||"last"===t)return e[t].toProxy();else return e[t]},set:(e,t,r)=>e[t]===r||(e[t]=r,("name"===t||"params"===t||"selector"===t)&&e.markDirty(),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r,i=this.index(e),s=this.normalize(t,this.proxyOf.nodes[i]).reverse();for(let t of(i=this.index(e),s))this.proxyOf.nodes.splice(i+1,0,t);for(let e in this.indexes)i<(r=this.indexes[e])&&(this.indexes[e]=r+s.length);return this.markDirty(),this}insertBefore(e,t){let r,i=this.index(e),s=0===i&&"prepend",n=this.normalize(t,this.proxyOf.nodes[i],s).reverse();for(let t of(i=this.index(e),n))this.proxyOf.nodes.splice(i,0,t);for(let e in this.indexes)i<=(r=this.indexes[e])&&(this.indexes[e]=r+n.length);return this.markDirty(),this}normalize(t,r){if("string"==typeof t)t=function e(t){return t.map(t=>(t.nodes&&(t.nodes=e(t.nodes)),delete t.source,t))}(n(t).nodes);else if(void 0===t)t=[];else if(Array.isArray(t))for(let e of t=t.slice(0))e.parent&&e.parent.removeChild(e,"ignore");else if("root"===t.type&&"document"!==this.type)for(let e of t=t.nodes.slice(0))e.parent&&e.parent.removeChild(e,"ignore");else if(t.type)t=[t];else if(t.prop){if(void 0===t.value)throw Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new eW(t)]}else if(t.selector)t=[new o(t)];else if(t.name)t=[new a(t)];else if(t.text)t=[new tu(t)];else throw Error("Unknown node type in node creation");return t.map(t=>(t[th]||e.rebuild(t),(t=t.proxyOf).parent&&t.parent.removeChild(t),t[tc]&&function e(t){if(t[tc]=!1,t.proxyOf.nodes)for(let r of t.proxyOf.nodes)e(r)}(t),void 0===t.raws.before&&r&&void 0!==r.raws.before&&(t.raws.before=r.raws.before.replace(/\S/g,"")),t.parent=this.proxyOf,t))}prepend(...e){for(let t of e=e.reverse()){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;for(let r in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(t=this.indexes[r])>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||(!t.fast||i.value.includes(t.fast))&&(i.value=i.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,r)=>{let i;try{i=e(t,r)}catch(e){throw t.addToError(e)}return!1!==i&&t.walk&&(i=t.walk(e)),i})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if("atrule"===r.type&&e.test(r.name))return t(r,i)}):this.walk((r,i)=>{if("atrule"===r.type&&r.name===e)return t(r,i)}):(t=e,this.walk((e,r)=>{if("atrule"===e.type)return t(e,r)}))}walkComments(e){return this.walk((t,r)=>{if("comment"===t.type)return e(t,r)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if("decl"===r.type&&e.test(r.prop))return t(r,i)}):this.walk((r,i)=>{if("decl"===r.type&&r.prop===e)return t(r,i)}):(t=e,this.walk((e,r)=>{if("decl"===e.type)return t(e,r)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if("rule"===r.type&&e.test(r.selector))return t(r,i)}):this.walk((r,i)=>{if("rule"===r.type&&r.selector===e)return t(r,i)}):(t=e,this.walk((e,r)=>{if("rule"===e.type)return t(e,r)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};tp.registerParse=e=>{n=e},tp.registerRule=e=>{o=e},tp.registerAtRule=e=>{a=e},tp.registerRoot=e=>{l=e},tp.default=tp,tp.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,a.prototype):"rule"===e.type?Object.setPrototypeOf(e,o.prototype):"decl"===e.type?Object.setPrototypeOf(e,eW.prototype):"comment"===e.type?Object.setPrototypeOf(e,tu.prototype):"root"===e.type&&Object.setPrototypeOf(e,l.prototype),e[th]=!0,e.nodes&&e.nodes.forEach(e=>{tp.rebuild(e)})};let tg=tp,tf=class extends tg{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new u(new c,this,e).stringify()}};tf.registerLazyResult=e=>{u=e},tf.registerProcessor=e=>{c=e},tf.default=tf;let tm=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};tm.default=tm;let ty=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){!t.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new tm(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>"warning"===e.type)}get content(){return this.css}};ty.default=ty;let t_=/[\t\n\f\r "#'()/;[\\\]{}]/g,tv=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,tb=/.[\r\n"'(/\\]/,tS=/[\da-f]/i,tw=tp,tC=class extends tw{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};tC.default=tC,tw.registerAtRule(tC);let tE=tp,tI=class extends tE{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let i=super.normalize(e);if(t){if("prepend"===r)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of i)e.raws.before=t.raws.before}return i}removeChild(e,t){let r=this.index(e);return!t&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new h(new d,this,e).stringify()}};tI.registerLazyResult=e=>{h=e},tI.registerProcessor=e=>{d=e},tI.default=tI,tE.registerRoot(tI);let tk={comma:e=>tk.split(e,[","],!0),space:e=>tk.split(e,[" ","\n","	"]),split(e,t,r){let i=[],s="",n=!1,o=0,a=!1,l="",u=!1;for(let r of e)u?u=!1:"\\"===r?u=!0:a?r===l&&(a=!1):'"'===r||"'"===r?(a=!0,l=r):"("===r?o+=1:")"===r?o>0&&(o-=1):0===o&&t.includes(r)&&(n=!0),n?(""!==s&&i.push(s.trim()),s="",n=!1):s+=r;return(r||""!==s)&&i.push(s.trim()),i}};tk.default=tk;let tO=tp,tx=class extends tO{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return tk.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};tx.default=tx,tO.registerRule(tx);let tM=function(e,t={}){let r,i,s,n,o,a,l,u,c,h,d=e.css.valueOf(),p=t.ignoreErrors,g=d.length,f=0,m=[],y=[];function _(t){throw e.error("Unclosed "+t,f)}return{back:function(e){y.push(e)},endOfFile:function(){return 0===y.length&&f>=g},nextToken:function(e){if(y.length)return y.pop();if(f>=g)return;let t=!!e&&e.ignoreUnclosed;switch(r=d.charCodeAt(f)){case 10:case 32:case 9:case 13:case 12:i=f;do i+=1,r=d.charCodeAt(i);while(32===r||10===r||9===r||13===r||12===r)h=["space",d.slice(f,i)],f=i-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let e=String.fromCharCode(r);h=[e,e,f];break}case 40:if(u=m.length?m.pop()[1]:"",c=d.charCodeAt(f+1),"url"===u&&39!==c&&34!==c&&32!==c&&10!==c&&9!==c&&12!==c&&13!==c){i=f;do{if(a=!1,-1===(i=d.indexOf(")",i+1)))if(p||t){i=f;break}else _("bracket");for(l=i;92===d.charCodeAt(l-1);)l-=1,a=!a}while(a)h=["brackets",d.slice(f,i+1),f,i],f=i}else i=d.indexOf(")",f+1),n=d.slice(f,i+1),-1===i||tb.test(n)?h=["(","(",f]:(h=["brackets",n,f,i],f=i);break;case 39:case 34:s=39===r?"'":'"',i=f;do{if(a=!1,-1===(i=d.indexOf(s,i+1)))if(p||t){i=f+1;break}else _("string");for(l=i;92===d.charCodeAt(l-1);)l-=1,a=!a}while(a)h=["string",d.slice(f,i+1),f,i],f=i;break;case 64:t_.lastIndex=f+1,t_.test(d),i=0===t_.lastIndex?d.length-1:t_.lastIndex-2,h=["at-word",d.slice(f,i+1),f,i],f=i;break;case 92:for(i=f,o=!0;92===d.charCodeAt(i+1);)i+=1,o=!o;if(r=d.charCodeAt(i+1),o&&47!==r&&32!==r&&10!==r&&9!==r&&13!==r&&12!==r&&(i+=1,tS.test(d.charAt(i)))){for(;tS.test(d.charAt(i+1));)i+=1;32===d.charCodeAt(i+1)&&(i+=1)}h=["word",d.slice(f,i+1),f,i],f=i;break;default:47===r&&42===d.charCodeAt(f+1)?(0===(i=d.indexOf("*/",f+2)+1)&&(p||t?i=d.length:_("comment")),h=["comment",d.slice(f,i+1),f,i]):(tv.lastIndex=f+1,tv.test(d),i=0===tv.lastIndex?d.length-1:tv.lastIndex-2,h=["word",d.slice(f,i+1),f,i],m.push(h)),f=i}return f++,h},position:function(){return f}}},tR={empty:!0,space:!0},tD=class{constructor(e){this.input=e,this.root=new tI,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t,r,i,s=new tC;s.name=e[1].slice(1),""===s.name&&this.unnamedAtrule(s,e),this.init(s,e[2]);let n=!1,o=!1,a=[],l=[];for(;!this.tokenizer.endOfFile();){if("("===(t=(e=this.tokenizer.nextToken())[0])||"["===t?l.push("("===t?")":"]"):"{"===t&&l.length>0?l.push("}"):t===l[l.length-1]&&l.pop(),0===l.length)if(";"===t){s.source.end=this.getPosition(e[2]),s.source.end.offset++,this.semicolon=!0;break}else if("{"===t){o=!0;break}else if("}"===t){if(a.length>0){for(i=a.length-1,r=a[i];r&&"space"===r[0];)r=a[--i];r&&(s.source.end=this.getPosition(r[3]||r[2]),s.source.end.offset++)}this.end(e);break}else a.push(e);else a.push(e);if(this.tokenizer.endOfFile()){n=!0;break}}s.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(s.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(s,"params",a),n&&(e=a[a.length-1],s.source.end=this.getPosition(e[3]||e[2]),s.source.end.offset++,this.spaces=s.raws.between,s.raws.between="")):(s.raws.afterName="",s.params=""),o&&(s.nodes=[],this.current=s)}checkMissedSemicolon(e){let t,r=this.colon(e);if(!1===r)return;let i=0;for(let s=r-1;s>=0&&("space"===(t=e[s])[0]||2!==(i+=1));s--);throw this.input.error("Missed semicolon","word"===t[0]?t[3]+1:t[2])}colon(e){let t,r,i=0;for(let[s,n]of e.entries()){if("("===(t=n[0])&&(i+=1),")"===t&&(i-=1),0===i&&":"===t)if(r)if("word"===r[0]&&"progid"===r[1])continue;else return s;else this.doubleColon(n);r=n}return!1}comment(e){let t=new tu;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let e=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=tM(this.input)}decl(e,t){let r,i,s=new eW;this.init(s,e[0][2]);let n=e[e.length-1];for(";"===n[0]&&(this.semicolon=!0,e.pop()),s.source.end=this.getPosition(n[3]||n[2]||function(e){for(let t=e.length-1;t>=0;t--){let r=e[t],i=r[3]||r[2];if(i)return i}}(e)),s.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),s.raws.before+=e.shift()[1];for(s.source.start=this.getPosition(e[0][2]),s.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;s.prop+=e.shift()[1]}for(s.raws.between="";e.length;){if(":"===(r=e.shift())[0]){s.raws.between+=r[1];break}"word"===r[0]&&/\w/.test(r[1])&&this.unknownWord([r]),s.raws.between+=r[1]}("_"===s.prop[0]||"*"===s.prop[0])&&(s.raws.before+=s.prop[0],s.prop=s.prop.slice(1));let o=[];for(;e.length&&("space"===(i=e[0][0])||"comment"===i);)o.push(e.shift());this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if("!important"===(r=e[t])[1].toLowerCase()){s.important=!0;let r=this.stringFrom(e,t);" !important"!==(r=this.spacesFromEnd(e)+r)&&(s.raws.important=r);break}if("important"===r[1].toLowerCase()){let r=e.slice(0),i="";for(let e=t;e>0;e--){let t=r[e][0];if(0===i.trim().indexOf("!")&&"space"!==t)break;i=r.pop()[1]+i}0===i.trim().indexOf("!")&&(s.important=!0,s.raws.important=i,e=r)}if("space"!==r[0]&&"comment"!==r[0])break}e.some(e=>"space"!==e[0]&&"comment"!==e[0])&&(s.raws.between+=o.map(e=>e[1]).join(""),o=[]),this.raw(s,"value",o.concat(e),t),s.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new tx;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,r=null,i=!1,s=null,n=[],o=e[1].startsWith("--"),a=[],l=e;for(;l;){if(r=l[0],a.push(l),"("===r||"["===r)s||(s=l),n.push("("===r?")":"]");else if(o&&i&&"{"===r)s||(s=l),n.push("}");else if(0===n.length)if(";"===r)if(i)return void this.decl(a,o);else break;else if("{"===r)return void this.rule(a);else if("}"===r){this.tokenizer.back(a.pop()),t=!0;break}else":"===r&&(i=!0);else r===n[n.length-1]&&(n.pop(),0===n.length&&(s=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),n.length>0&&this.unclosedBracket(s),t&&i){if(!o)for(;a.length&&("space"===(l=a[a.length-1][0])||"comment"===l);)this.tokenizer.back(a.pop());this.decl(a,o)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,i){let s,n,o,a,l=r.length,u="",c=!0;for(let e=0;e<l;e+=1)"space"!==(n=(s=r[e])[0])||e!==l-1||i?"comment"===n?(a=r[e-1]?r[e-1][0]:"empty",o=r[e+1]?r[e+1][0]:"empty",tR[a]||tR[o]||","===u.slice(-1)?c=!1:u+=s[1]):u+=s[1]:c=!1;if(!c){let i=r.reduce((e,t)=>e+t[1],"");e.raws[t]={raw:i,value:u}}e[t]=u}rule(e){e.pop();let t=new tx;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&("space"===(t=e[0][0])||"comment"===t);)r+=e.shift()[1];return r}spacesFromEnd(e){let t="";for(;e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t}stringFrom(e,t){let r="";for(let i=t;i<e.length;i++)r+=e[i][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};function tA(e,t){let r=new tD(new e4(e,t));try{r.parse()}catch(e){throw e}return r.root}tA.default=tA,tp.registerParse(tA);let{isClean:tT,my:tP}=eL,tL={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},tN={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},tj={Once:!0,postcssPlugin:!0,prepare:!0};function tU(e){return"object"==typeof e&&"function"==typeof e.then}function tF(e){let t=!1,r=tL[e.type];return("decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append)?[r,r+"-"+t,0,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,0,r+"Exit"]:[r,r+"Exit"]}function tB(e){return{eventIndex:0,events:"document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:tF(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function tz(e){return e[tT]=!1,e.nodes&&e.nodes.forEach(e=>tz(e)),e}let tV={},tW=class e{constructor(t,r,i){let s;if(this.stringified=!1,this.processed=!1,"object"==typeof r&&null!==r&&("root"===r.type||"document"===r.type))s=tz(r);else if(r instanceof e||r instanceof ty)s=tz(r.root),r.map&&(void 0===i.map&&(i.map={}),i.map.inline||(i.map.inline=!1),i.map.prev=r.map);else{let e=tA;i.syntax&&(e=i.syntax.parse),i.parser&&(e=i.parser),e.parse&&(e=e.parse);try{s=e(r,i)}catch(e){this.processed=!0,this.error=e}s&&!s[tP]&&tp.rebuild(s)}this.result=new ty(t,s,i),this.helpers={...tV,postcss:tV,result:this.result},this.plugins=this.processor.plugins.map(e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?r.postcssVersion:(e.plugin=r.postcssPlugin,e.setMessage())}catch(e){console&&console.error&&console.error(e)}return e}prepareVisitors(){this.listeners={};let e=(e,t,r)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,r])};for(let t of this.plugins)if("object"==typeof t)for(let r in t){if(!tN[r]&&/^[A-Z]/.test(r))throw Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!tj[r])if("object"==typeof t[r])for(let i in t[r])e(t,"*"===i?r:r+"-"+i.toLowerCase(),t[r][i]);else"function"==typeof t[r]&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(tU(r))try{await r}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[tT];){e[tT]=!0;let t=[tB(e)];for(;t.length>0;){let e=this.visitTick(t);if(tU(e))try{await e}catch(r){let e=t[t.length-1].node;throw this.handleError(r,e)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map(e=>r(e,this.helpers));await Promise.all(t)}else await r(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map(t=>e.Once(t,this.helpers));if(tU(t[0]))return Promise.all(t);return t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=eU;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let r=new ta(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins)if(tU(this.runOnRoot(e)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[tT];)e[tT]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,i]of e){let e;this.result.lastPlugin=r;try{e=i(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(tU(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:i}=t;if("root"!==r.type&&"document"!==r.type&&!r.parent)return void e.pop();if(i.length>0&&t.visitorIndex<i.length){let[e,s]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return s(r.toProxy(),this.helpers)}catch(e){throw this.handleError(e,r)}}if(0!==t.iterator){let i,s=t.iterator;for(;i=r.nodes[r.indexes[s]];)if(r.indexes[s]+=1,!i[tT]){i[tT]=!0,e.push(tB(i));return}t.iterator=0,delete r.indexes[s]}let s=t.events;for(;t.eventIndex<s.length;){let e=s[t.eventIndex];if(t.eventIndex+=1,0===e){r.nodes&&r.nodes.length&&(r[tT]=!0,t.iterator=r.getIterator());return}if(this.listeners[e]){t.visitors=this.listeners[e];return}}e.pop()}walkSync(e){for(let t of(e[tT]=!0,tF(e)))if(0===t)e.nodes&&e.each(e=>{e[tT]||this.walkSync(e)});else{let r=this.listeners[t];if(r&&this.visitSync(r,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};tW.registerPostcss=e=>{tV=e},tW.default=tW,tI.registerLazyResult(tW),tf.registerLazyResult(tW);let tG=class{constructor(e,t,r){let i;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0,this.result=new ty(this._processor,i,this._opts),this.result.css=t;let s=this;Object.defineProperty(this.result,"root",{get:()=>s.root});let n=new ta(eU,i,this._opts,t);if(n.isMap()){let[e,t]=n.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else n.clearAnnotation(),this.result.css=n.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){let e;if(this._root)return this._root;try{e=tA(this._css,this._opts)}catch(e){this.error=e}if(!this.error)return this._root=e,e;throw this.error}get[Symbol.toStringTag](){return"NoWorkResult"}};tG.default=tG;let tK=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(!0===r.postcss?r=r():r.postcss&&(r=r.postcss),"object"==typeof r&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if("object"==typeof r&&r.postcssPlugin)t.push(r);else if("function"==typeof r)t.push(r);else if("object"==typeof r&&(r.parse||r.stringify));else throw Error(r+" is not a PostCSS plugin");return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new tW(this,e,t):new tG(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};function t$(e,t){if(Array.isArray(e))return e.map(e=>t$(e));let{inputs:r,...i}=e;if(r)for(let e of(t=[],r)){let r={...e,__proto__:e4.prototype};r.map&&(r.map={...r.map,__proto__:eH.prototype}),t.push(r)}if(i.nodes&&(i.nodes=e.nodes.map(e=>t$(e,t))),i.source){let{inputId:e,...r}=i.source;i.source=r,null!=e&&(i.source.input=t[e])}if("root"===i.type)return new tI(i);if("decl"===i.type)return new eW(i);if("rule"===i.type)return new tx(i);if("comment"===i.type)return new tu(i);if("atrule"===i.type)return new tC(i);else throw Error("Unknown node type: "+e.type)}function tY(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new tK(e)}tK.default=tK,tI.registerProcessor(tK),tf.registerProcessor(tK),t$.default=t$,tY.plugin=function(e,t){let r,i=!1;function s(...r){console&&console.warn&&!i&&(i=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),N.default.env.LANG&&N.default.env.LANG.startsWith("cn")&&console.warn(e+":  postcss.plugin . :\nhttps://www.w3ctech.com/topic/2226"));let n=t(...r);return n.postcssPlugin=e,n.postcssVersion=new tK().version,n}return Object.defineProperty(s,"postcss",{get:()=>(r||(r=s()),r)}),s.process=function(e,t,r){return tY([s(r)]).process(e,t)},s},tY.stringify=eU,tY.parse=tA,tY.fromJSON=t$,tY.list=tk,tY.comment=e=>new tu(e),tY.atRule=e=>new tC(e),tY.decl=e=>new eW(e),tY.rule=e=>new tx(e),tY.root=e=>new tI(e),tY.document=e=>new tf(e),tY.CssSyntaxError=eP,tY.Declaration=eW,tY.Container=tp,tY.Processor=tK,tY.Document=tf,tY.Comment=tu,tY.Warning=tm,tY.AtRule=tC,tY.Result=ty,tY.Input=e4,tY.Rule=tx,tY.Root=tI,tY.Node=ez,tW.registerPostcss(tY),tY.default=tY;let tJ=tY&&tY.__esModule&&Object.prototype.hasOwnProperty.call(tY,"default")?tY.default:tY;tJ.stringify,tJ.fromJSON,tJ.plugin,tJ.parse,tJ.list,tJ.document,tJ.comment,tJ.atRule,tJ.rule,tJ.decl,tJ.root,tJ.CssSyntaxError,tJ.Declaration,tJ.Container,tJ.Processor,tJ.Document,tJ.Comment,tJ.Warning,tJ.AtRule,tJ.Result,tJ.Input,tJ.Rule,tJ.Root,tJ.Node;var tq=Object.defineProperty,tH=(e,t,r)=>{let i;return(i="symbol"!=typeof t?t+"":t)in e?tq(e,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[i]=r},tZ={exports:{}},tX=String,tQ=function(){return{isColorSupported:!1,reset:tX,bold:tX,dim:tX,italic:tX,underline:tX,inverse:tX,hidden:tX,strikethrough:tX,black:tX,red:tX,green:tX,yellow:tX,blue:tX,magenta:tX,cyan:tX,white:tX,gray:tX,bgBlack:tX,bgRed:tX,bgGreen:tX,bgYellow:tX,bgBlue:tX,bgMagenta:tX,bgCyan:tX,bgWhite:tX}};tZ.exports=tQ(),tZ.exports.createColors=tQ;var t0=tZ.exports;let t1=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}),r}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),t2=class e extends Error{constructor(t,r,i,s,n,o){super(t),this.name="CssSyntaxError",this.reason=t,n&&(this.file=n),s&&(this.source=s),o&&(this.plugin=o),void 0!==r&&void 0!==i&&("number"==typeof r?(this.line=r,this.column=i):(this.line=r.line,this.column=r.column,this.endLine=i.line,this.endColumn=i.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){let t,r;if(!this.source)return"";let i=this.source;null==e&&(e=t0.isColorSupported),t1&&e&&(i=t1(i));let s=i.split(/\r?\n/),n=Math.max(this.line-3,0),o=Math.min(this.line+2,s.length),a=String(o).length;if(e){let{bold:e,gray:i,red:s}=t0.createColors(!0);t=t=>e(s(t)),r=e=>i(e)}else t=r=e=>e;return s.slice(n,o).map((e,i)=>{let s=n+1+i,o=" "+(" "+s).slice(-a)+" | ";if(s===this.line){let i=r(o.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return t(">")+r(o)+e+"\n "+i+t("^")}return" "+r(o)+e}).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}};t2.default=t2;var t3={};t3.isClean=Symbol("isClean"),t3.my=Symbol("my");let t5={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},t9=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:i&&(r+=" "),e.nodes)this.block(e,r+i);else{let s=(e.raws.between||"")+(t?";":"");this.builder(r+i+s,e)}}beforeAfter(e,t){let r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let i=e.parent,s=0;for(;i&&"root"!==i.type;)s+=1,i=i.parent;if(r.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<s;e++)r+=t}return r}block(e,t){let r,i=this.raw(e,"between","beforeOpen");this.builder(t+i+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let r=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let s=e.nodes[i],n=this.raw(s,"before");n&&this.builder(n),this.stringify(s,t!==i||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),i=e.prop+r+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,t,r){let i;if(r||(r=t),t&&void 0!==(i=e.raws[t]))return i;let s=e.parent;if("before"===r&&(!s||"root"===s.type&&s.first===e||s&&"document"===s.type))return"";if(!s)return t5[r];let n=e.root();if(n.rawCache||(n.rawCache={}),void 0!==n.rawCache[r])return n.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);{var o;let s="raw"+((o=r)[0].toUpperCase()+o.slice(1));this[s]?i=this[s](n,e):n.walk(e=>{if(void 0!==(i=e.raws[t]))return!1})}return void 0===i&&(i=t5[r]),n.rawCache[r]=i,i}rawBeforeClose(e){let t;return e.walk(e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(t=e.raws.after).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments(e=>{if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1}),void 0===r?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(e=>{if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1}),void 0===r?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk(e=>{if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1}),t}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return(t=r.raws.before).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(e=>{if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1}),t}rawIndent(e){let t;return e.raws.indent?e.raws.indent:(e.walk(r=>{let i=r.parent;if(i&&i!==e&&i.parent&&i.parent===e&&void 0!==r.raws.before){let e=r.raws.before.split("\n");return t=(t=e[e.length-1]).replace(/\S/g,""),!1}}),t)}rawSemicolon(e){let t;return e.walk(e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1}),t}rawValue(e,t){let r=e[t],i=e.raws[t];return i&&i.value===r?i.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};function t8(e,t){new t9(t).stringify(e)}t9.default=t9,t8.default=t8;let{isClean:t4,my:t6}=t3,t7=class{constructor(e={}){for(let t in this.raws={},this[t4]=!1,this[t6]=!0,e)if("nodes"===t)for(let r of(this.nodes=[],e[t]))"function"==typeof r.clone?this.append(r.clone()):this.append(r);else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=function e(t,r){let i=new t.constructor;for(let s in t){if(!Object.prototype.hasOwnProperty.call(t,s)||"proxyCache"===s)continue;let n=t[s],o=typeof n;"parent"===s&&"object"===o?r&&(i[s]=r):"source"===s?i[s]=n:Array.isArray(n)?i[s]=n.map(t=>e(t,i)):("object"===o&&null!==n&&(n=e(n)),i[s]=n)}return i}(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:r,start:i}=this.rangeBy(t);return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},t)}return new t2(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,r)=>e[t]===r||(e[t]=r,("prop"===t||"value"===t||"name"===t||"params"===t||"important"===t||"text"===t)&&e.markDirty(),!0)}}markDirty(){if(this[t4]){this[t4]=!1;let e=this;for(;e=e.parent;)e[t4]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){let i=(t=this.toString()).indexOf(e.word);-1!==i&&(r=this.positionInside(i,t))}return r}positionInside(e,t){let r=t||this.toString(),i=this.source.start.column,s=this.source.start.line;for(let t=0;t<e;t++)"\n"===r[t]?(i=1,s+=1):i+=1;return{column:i,line:s}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let i=this.toString(),s=i.indexOf(e.word);-1!==s&&(t=this.positionInside(s,i),r=this.positionInside(s+e.word.length,i))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return new t9().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let i of e)i===this?r=!0:r?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);r||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let r={},i=null==t;t=t||new Map;let s=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e)||"parent"===e||"proxyCache"===e)continue;let i=this[e];if(Array.isArray(i))r[e]=i.map(e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e);else if("object"==typeof i&&i.toJSON)r[e]=i.toJSON(null,t);else if("source"===e){let n=t.get(i.input);null==n&&(n=s,t.set(i.input,s),s++),r[e]={end:i.end,inputId:n,start:i.start}}else r[e]=i}return i&&(r.inputs=[...t.keys()].map(e=>e.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=t8){e.stringify&&(e=e.stringify);let t="";return e(this,e=>{t+=e}),t}warn(e,t,r){let i={node:this};for(let e in r)i[e]=r[e];return e.warn(t,i)}get proxyOf(){return this}};t7.default=t7;let re=t7,rt=class extends re{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};rt.default=rt;let{SourceMapConsumer:rr,SourceMapGenerator:ri}=t1,{existsSync:rs,readFileSync:rn}=t1,{dirname:ro,join:ra}=t1,rl=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,i=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=ro(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new rr(this.text)),this.consumerCache}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e)){var t;return t=e.substr(RegExp.lastMatch.length),L.Buffer.from(t,"base64").toString()}throw Error("Unsupported source map encoding "+e.match(/data:application\/json;([^,]+),/)[1])}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),i=e.indexOf("*/",r);r>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,i)))}loadFile(e){if(this.root=ro(e),rs(e))return this.mapFile=e,rn(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t)if("string"==typeof t)return t;else if("function"==typeof t){let r=t(e);if(r){let e=this.loadFile(r);if(!e)throw Error("Unable to load previous source map: "+r.toString());return e}}else if(t instanceof rr)return ri.fromSourceMap(t).toString();else if(t instanceof ri)return t.toString();else if(this.isMap(t))return JSON.stringify(t);else throw Error("Unsupported previous source map format: "+t.toString());else if(this.inline)return this.decodeInline(this.annotation);else if(this.annotation){let t=this.annotation;return e&&(t=ra(ro(e),t)),this.loadFile(t)}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};rl.default=rl;let{SourceMapConsumer:ru,SourceMapGenerator:rc}=t1,{fileURLToPath:rh,pathToFileURL:rd}=t1,{isAbsolute:rp,resolve:rg}=t1,{nanoid:rf}={nanoid:(e=21)=>{let t="",r=e;for(;r--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(r=t)=>{let i="",s=r;for(;s--;)i+=e[Math.random()*e.length|0];return i}},rm=Symbol("fromOffsetCache"),ry=!!(ru&&rc),r_=!!(rg&&rp),rv=class{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\uFEFF"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!r_||/^\w+:\/\//.test(t.from)||rp(t.from)?this.file=t.from:this.file=rg(t.from)),r_&&ry){let e=new rl(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+rf(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,i={}){let s,n,o;if(t&&"object"==typeof t){let e=t,i=r;if("number"==typeof e.offset){let i=this.fromOffset(e.offset);t=i.line,r=i.col}else t=e.line,r=e.column;if("number"==typeof i.offset){let e=this.fromOffset(i.offset);n=e.line,o=e.col}else n=i.line,o=i.column}else if(!r){let e=this.fromOffset(t);t=e.line,r=e.col}let a=this.origin(t,r,n,o);return(s=a?new t2(e,void 0===a.endLine?a.line:{column:a.column,line:a.line},void 0===a.endLine?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,i.plugin):new t2(e,void 0===n?t:{column:r,line:t},void 0===n?r:{column:o,line:n},this.css,this.file,i.plugin)).input={column:r,endColumn:o,endLine:n,line:t,source:this.css},this.file&&(rd&&(s.input.url=rd(this.file).toString()),s.input.file=this.file),s}fromOffset(e){let t,r;if(this[rm])r=this[rm];else{let e=this.css.split("\n");r=Array(e.length);let t=0;for(let i=0,s=e.length;i<s;i++)r[i]=t,t+=e[i].length+1;this[rm]=r}t=r[r.length-1];let i=0;if(e>=t)i=r.length-1;else{let t,s=r.length-2;for(;i<s;)if(e<r[t=i+(s-i>>1)])s=t-1;else if(e>=r[t+1])i=t+1;else{i=t;break}}return{col:e-r[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:rg(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,i){let s,n;if(!this.map)return!1;let o=this.map.consumer(),a=o.originalPositionFor({column:t,line:e});if(!a.source)return!1;"number"==typeof r&&(s=o.originalPositionFor({column:i,line:r})),n=rp(a.source)?rd(a.source):new URL(a.source,this.map.consumer().sourceRoot||rd(this.map.mapFile));let l={column:a.column,endColumn:s&&s.column,endLine:s&&s.line,line:a.line,url:n.toString()};if("file:"===n.protocol)if(rh)l.file=rh(n);else throw Error("file: protocol is not available in this PostCSS build");let u=o.sourceContentFor(a.source);return u&&(l.source=u),l}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};rv.default=rv,t1&&t1.registerInput&&t1.registerInput(rv);let{SourceMapConsumer:rb,SourceMapGenerator:rS}=t1,{dirname:rw,relative:rC,resolve:rE,sep:rI}=t1,{pathToFileURL:rk}=t1,rO=!!(rb&&rS),rx=!!(rw&&rE&&rC&&rI),rM=class{constructor(e,t,r,i){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,r=this.toUrl(this.path(e.file)),i=e.root||rw(e.file);!1===this.mapOpts.sourcesContent?(t=new rb(e.text)).sourcesContent&&(t.sourcesContent=null):t=e.consumer(),this.map.applySourceMap(t,r,this.toUrl(this.path(i)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),rx&&rO&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=rS.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new rS({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return(this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline())?[this.css]:[this.css,this.map]}generateString(){let e,t;this.css="",this.map=new rS({file:this.outputFile(),ignoreInvalidMapping:!0});let r=1,i=1,s="<no source>",n={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(o,a,l)=>{if(this.css+=o,a&&"end"!==l&&(n.generated.line=r,n.generated.column=i-1,a.source&&a.source.start?(n.source=this.sourcePath(a),n.original.line=a.source.start.line,n.original.column=a.source.start.column-1):(n.source=s,n.original.line=1,n.original.column=0),this.map.addMapping(n)),(e=o.match(/\n/g))?(r+=e.length,t=o.lastIndexOf("\n"),i=o.length-t):i+=o.length,a&&"start"!==l){let e=a.parent||{raws:{}};(!("decl"===a.type||"atrule"===a.type&&!a.nodes)||a!==e.last||e.raws.semicolon)&&(a.source&&a.source.end?(n.source=this.sourcePath(a),n.original.line=a.source.end.line,n.original.column=a.source.end.column-1,n.generated.line=r,n.generated.column=i-2):(n.source=s,n.original.line=1,n.original.column=0,n.generated.line=r,n.generated.column=i-1),this.map.addMapping(n))}})}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(e=>e.annotation))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some(e=>e.inline))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(e=>e.withContent())}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||60===e.charCodeAt(0)||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?rw(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(r=rw(rE(r,this.mapOpts.annotation)));let i=rC(r,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new rv(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let i=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(i,t.source.input.css)}}});else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return L.Buffer.from(e).toString("base64")}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(rk){let t=rk(e).toString();return this.memoizedFileURLs.set(e,t),t}throw Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===rI&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}},rR=t7,rD=class extends rR{constructor(e){super(e),this.type="comment"}};rD.default=rD;let{isClean:rA,my:rT}=t3,rP=t7,rL=class e extends rP{append(...e){for(let t of e)for(let e of this.normalize(t,this.last))this.proxyOf.nodes.push(e);return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){let t,r;if(!this.proxyOf.nodes)return;let i=this.getIterator();for(;this.indexes[i]<this.proxyOf.nodes.length&&(t=this.indexes[i],!1!==(r=e(this.proxyOf.nodes[t],t)));)this.indexes[i]+=1;return delete this.indexes[i],r}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){if("proxyOf"===t)return e;if(!e[t])return e[t];if("each"===t||"string"==typeof t&&t.startsWith("walk"))return(...r)=>e[t](...r.map(e=>"function"==typeof e?(t,r)=>e(t.toProxy(),r):e));if("every"===t||"some"===t)return r=>e[t]((e,...t)=>r(e.toProxy(),...t));if("root"===t)return()=>e.root().toProxy();else if("nodes"===t)return e.nodes.map(e=>e.toProxy());else if("first"===t||"last"===t)return e[t].toProxy();else return e[t]},set:(e,t,r)=>e[t]===r||(e[t]=r,("name"===t||"params"===t||"selector"===t)&&e.markDirty(),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r,i=this.index(e),s=this.normalize(t,this.proxyOf.nodes[i]).reverse();for(let t of(i=this.index(e),s))this.proxyOf.nodes.splice(i+1,0,t);for(let e in this.indexes)i<(r=this.indexes[e])&&(this.indexes[e]=r+s.length);return this.markDirty(),this}insertBefore(e,t){let r,i=this.index(e),s=0===i&&"prepend",n=this.normalize(t,this.proxyOf.nodes[i],s).reverse();for(let t of(i=this.index(e),n))this.proxyOf.nodes.splice(i,0,t);for(let e in this.indexes)i<=(r=this.indexes[e])&&(this.indexes[e]=r+n.length);return this.markDirty(),this}normalize(t,r){if("string"==typeof t)t=function e(t){return t.map(t=>(t.nodes&&(t.nodes=e(t.nodes)),delete t.source,t))}(p(t).nodes);else if(void 0===t)t=[];else if(Array.isArray(t))for(let e of t=t.slice(0))e.parent&&e.parent.removeChild(e,"ignore");else if("root"===t.type&&"document"!==this.type)for(let e of t=t.nodes.slice(0))e.parent&&e.parent.removeChild(e,"ignore");else if(t.type)t=[t];else if(t.prop){if(void 0===t.value)throw Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new rt(t)]}else if(t.selector)t=[new g(t)];else if(t.name)t=[new f(t)];else if(t.text)t=[new rD(t)];else throw Error("Unknown node type in node creation");return t.map(t=>(t[rT]||e.rebuild(t),(t=t.proxyOf).parent&&t.parent.removeChild(t),t[rA]&&function e(t){if(t[rA]=!1,t.proxyOf.nodes)for(let r of t.proxyOf.nodes)e(r)}(t),void 0===t.raws.before&&r&&void 0!==r.raws.before&&(t.raws.before=r.raws.before.replace(/\S/g,"")),t.parent=this.proxyOf,t))}prepend(...e){for(let t of e=e.reverse()){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;for(let r in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(t=this.indexes[r])>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||(!t.fast||i.value.includes(t.fast))&&(i.value=i.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,r)=>{let i;try{i=e(t,r)}catch(e){throw t.addToError(e)}return!1!==i&&t.walk&&(i=t.walk(e)),i})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if("atrule"===r.type&&e.test(r.name))return t(r,i)}):this.walk((r,i)=>{if("atrule"===r.type&&r.name===e)return t(r,i)}):(t=e,this.walk((e,r)=>{if("atrule"===e.type)return t(e,r)}))}walkComments(e){return this.walk((t,r)=>{if("comment"===t.type)return e(t,r)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if("decl"===r.type&&e.test(r.prop))return t(r,i)}):this.walk((r,i)=>{if("decl"===r.type&&r.prop===e)return t(r,i)}):(t=e,this.walk((e,r)=>{if("decl"===e.type)return t(e,r)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if("rule"===r.type&&e.test(r.selector))return t(r,i)}):this.walk((r,i)=>{if("rule"===r.type&&r.selector===e)return t(r,i)}):(t=e,this.walk((e,r)=>{if("rule"===e.type)return t(e,r)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};rL.registerParse=e=>{p=e},rL.registerRule=e=>{g=e},rL.registerAtRule=e=>{f=e},rL.registerRoot=e=>{m=e},rL.default=rL,rL.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,f.prototype):"rule"===e.type?Object.setPrototypeOf(e,g.prototype):"decl"===e.type?Object.setPrototypeOf(e,rt.prototype):"comment"===e.type?Object.setPrototypeOf(e,rD.prototype):"root"===e.type&&Object.setPrototypeOf(e,m.prototype),e[rT]=!0,e.nodes&&e.nodes.forEach(e=>{rL.rebuild(e)})};let rN=rL,rj=class extends rN{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new y(new _,this,e).stringify()}};rj.registerLazyResult=e=>{y=e},rj.registerProcessor=e=>{_=e},rj.default=rj;let rU=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};rU.default=rU;let rF=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){!t.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new rU(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>"warning"===e.type)}get content(){return this.css}};rF.default=rF;let rB=/[\t\n\f\r "#'()/;[\\\]{}]/g,rz=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,rV=/.[\r\n"'(/\\]/,rW=/[\da-f]/i,rG=rL,rK=class extends rG{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};rK.default=rK,rG.registerAtRule(rK);let r$=rL,rY=class extends r${constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let i=super.normalize(e);if(t){if("prepend"===r)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of i)e.raws.before=t.raws.before}return i}removeChild(e,t){let r=this.index(e);return!t&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new v(new b,this,e).stringify()}};rY.registerLazyResult=e=>{v=e},rY.registerProcessor=e=>{b=e},rY.default=rY,r$.registerRoot(rY);let rJ={comma:e=>rJ.split(e,[","],!0),space:e=>rJ.split(e,[" ","\n","	"]),split(e,t,r){let i=[],s="",n=!1,o=0,a=!1,l="",u=!1;for(let r of e)u?u=!1:"\\"===r?u=!0:a?r===l&&(a=!1):'"'===r||"'"===r?(a=!0,l=r):"("===r?o+=1:")"===r?o>0&&(o-=1):0===o&&t.includes(r)&&(n=!0),n?(""!==s&&i.push(s.trim()),s="",n=!1):s+=r;return(r||""!==s)&&i.push(s.trim()),i}};rJ.default=rJ;let rq=rL,rH=class extends rq{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return rJ.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};rH.default=rH,rq.registerRule(rH);let rZ=function(e,t={}){let r,i,s,n,o,a,l,u,c,h,d=e.css.valueOf(),p=t.ignoreErrors,g=d.length,f=0,m=[],y=[];function _(t){throw e.error("Unclosed "+t,f)}return{back:function(e){y.push(e)},endOfFile:function(){return 0===y.length&&f>=g},nextToken:function(e){if(y.length)return y.pop();if(f>=g)return;let t=!!e&&e.ignoreUnclosed;switch(r=d.charCodeAt(f)){case 10:case 32:case 9:case 13:case 12:i=f;do i+=1,r=d.charCodeAt(i);while(32===r||10===r||9===r||13===r||12===r)h=["space",d.slice(f,i)],f=i-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let e=String.fromCharCode(r);h=[e,e,f];break}case 40:if(u=m.length?m.pop()[1]:"",c=d.charCodeAt(f+1),"url"===u&&39!==c&&34!==c&&32!==c&&10!==c&&9!==c&&12!==c&&13!==c){i=f;do{if(a=!1,-1===(i=d.indexOf(")",i+1)))if(p||t){i=f;break}else _("bracket");for(l=i;92===d.charCodeAt(l-1);)l-=1,a=!a}while(a)h=["brackets",d.slice(f,i+1),f,i],f=i}else i=d.indexOf(")",f+1),n=d.slice(f,i+1),-1===i||rV.test(n)?h=["(","(",f]:(h=["brackets",n,f,i],f=i);break;case 39:case 34:s=39===r?"'":'"',i=f;do{if(a=!1,-1===(i=d.indexOf(s,i+1)))if(p||t){i=f+1;break}else _("string");for(l=i;92===d.charCodeAt(l-1);)l-=1,a=!a}while(a)h=["string",d.slice(f,i+1),f,i],f=i;break;case 64:rB.lastIndex=f+1,rB.test(d),i=0===rB.lastIndex?d.length-1:rB.lastIndex-2,h=["at-word",d.slice(f,i+1),f,i],f=i;break;case 92:for(i=f,o=!0;92===d.charCodeAt(i+1);)i+=1,o=!o;if(r=d.charCodeAt(i+1),o&&47!==r&&32!==r&&10!==r&&9!==r&&13!==r&&12!==r&&(i+=1,rW.test(d.charAt(i)))){for(;rW.test(d.charAt(i+1));)i+=1;32===d.charCodeAt(i+1)&&(i+=1)}h=["word",d.slice(f,i+1),f,i],f=i;break;default:47===r&&42===d.charCodeAt(f+1)?(0===(i=d.indexOf("*/",f+2)+1)&&(p||t?i=d.length:_("comment")),h=["comment",d.slice(f,i+1),f,i]):(rz.lastIndex=f+1,rz.test(d),i=0===rz.lastIndex?d.length-1:rz.lastIndex-2,h=["word",d.slice(f,i+1),f,i],m.push(h)),f=i}return f++,h},position:function(){return f}}},rX={empty:!0,space:!0},rQ=class{constructor(e){this.input=e,this.root=new rY,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t,r,i,s=new rK;s.name=e[1].slice(1),""===s.name&&this.unnamedAtrule(s,e),this.init(s,e[2]);let n=!1,o=!1,a=[],l=[];for(;!this.tokenizer.endOfFile();){if("("===(t=(e=this.tokenizer.nextToken())[0])||"["===t?l.push("("===t?")":"]"):"{"===t&&l.length>0?l.push("}"):t===l[l.length-1]&&l.pop(),0===l.length)if(";"===t){s.source.end=this.getPosition(e[2]),s.source.end.offset++,this.semicolon=!0;break}else if("{"===t){o=!0;break}else if("}"===t){if(a.length>0){for(i=a.length-1,r=a[i];r&&"space"===r[0];)r=a[--i];r&&(s.source.end=this.getPosition(r[3]||r[2]),s.source.end.offset++)}this.end(e);break}else a.push(e);else a.push(e);if(this.tokenizer.endOfFile()){n=!0;break}}s.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(s.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(s,"params",a),n&&(e=a[a.length-1],s.source.end=this.getPosition(e[3]||e[2]),s.source.end.offset++,this.spaces=s.raws.between,s.raws.between="")):(s.raws.afterName="",s.params=""),o&&(s.nodes=[],this.current=s)}checkMissedSemicolon(e){let t,r=this.colon(e);if(!1===r)return;let i=0;for(let s=r-1;s>=0&&("space"===(t=e[s])[0]||2!==(i+=1));s--);throw this.input.error("Missed semicolon","word"===t[0]?t[3]+1:t[2])}colon(e){let t,r,i=0;for(let[s,n]of e.entries()){if("("===(t=n[0])&&(i+=1),")"===t&&(i-=1),0===i&&":"===t)if(r)if("word"===r[0]&&"progid"===r[1])continue;else return s;else this.doubleColon(n);r=n}return!1}comment(e){let t=new rD;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let e=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=rZ(this.input)}decl(e,t){let r,i,s=new rt;this.init(s,e[0][2]);let n=e[e.length-1];for(";"===n[0]&&(this.semicolon=!0,e.pop()),s.source.end=this.getPosition(n[3]||n[2]||function(e){for(let t=e.length-1;t>=0;t--){let r=e[t],i=r[3]||r[2];if(i)return i}}(e)),s.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),s.raws.before+=e.shift()[1];for(s.source.start=this.getPosition(e[0][2]),s.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;s.prop+=e.shift()[1]}for(s.raws.between="";e.length;){if(":"===(r=e.shift())[0]){s.raws.between+=r[1];break}"word"===r[0]&&/\w/.test(r[1])&&this.unknownWord([r]),s.raws.between+=r[1]}("_"===s.prop[0]||"*"===s.prop[0])&&(s.raws.before+=s.prop[0],s.prop=s.prop.slice(1));let o=[];for(;e.length&&("space"===(i=e[0][0])||"comment"===i);)o.push(e.shift());this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if("!important"===(r=e[t])[1].toLowerCase()){s.important=!0;let r=this.stringFrom(e,t);" !important"!==(r=this.spacesFromEnd(e)+r)&&(s.raws.important=r);break}if("important"===r[1].toLowerCase()){let r=e.slice(0),i="";for(let e=t;e>0;e--){let t=r[e][0];if(0===i.trim().indexOf("!")&&"space"!==t)break;i=r.pop()[1]+i}0===i.trim().indexOf("!")&&(s.important=!0,s.raws.important=i,e=r)}if("space"!==r[0]&&"comment"!==r[0])break}e.some(e=>"space"!==e[0]&&"comment"!==e[0])&&(s.raws.between+=o.map(e=>e[1]).join(""),o=[]),this.raw(s,"value",o.concat(e),t),s.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new rH;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,r=null,i=!1,s=null,n=[],o=e[1].startsWith("--"),a=[],l=e;for(;l;){if(r=l[0],a.push(l),"("===r||"["===r)s||(s=l),n.push("("===r?")":"]");else if(o&&i&&"{"===r)s||(s=l),n.push("}");else if(0===n.length)if(";"===r)if(i)return void this.decl(a,o);else break;else if("{"===r)return void this.rule(a);else if("}"===r){this.tokenizer.back(a.pop()),t=!0;break}else":"===r&&(i=!0);else r===n[n.length-1]&&(n.pop(),0===n.length&&(s=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),n.length>0&&this.unclosedBracket(s),t&&i){if(!o)for(;a.length&&("space"===(l=a[a.length-1][0])||"comment"===l);)this.tokenizer.back(a.pop());this.decl(a,o)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,i){let s,n,o,a,l=r.length,u="",c=!0;for(let e=0;e<l;e+=1)"space"!==(n=(s=r[e])[0])||e!==l-1||i?"comment"===n?(a=r[e-1]?r[e-1][0]:"empty",o=r[e+1]?r[e+1][0]:"empty",rX[a]||rX[o]||","===u.slice(-1)?c=!1:u+=s[1]):u+=s[1]:c=!1;if(!c){let i=r.reduce((e,t)=>e+t[1],"");e.raws[t]={raw:i,value:u}}e[t]=u}rule(e){e.pop();let t=new rH;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&("space"===(t=e[0][0])||"comment"===t);)r+=e.shift()[1];return r}spacesFromEnd(e){let t="";for(;e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t}stringFrom(e,t){let r="";for(let i=t;i<e.length;i++)r+=e[i][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};function r0(e,t){let r=new rQ(new rv(e,t));try{r.parse()}catch(e){throw e}return r.root}r0.default=r0,rL.registerParse(r0);let{isClean:r1,my:r2}=t3,r3={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},r5={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},r9={Once:!0,postcssPlugin:!0,prepare:!0};function r8(e){return"object"==typeof e&&"function"==typeof e.then}function r4(e){let t=!1,r=r3[e.type];return("decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append)?[r,r+"-"+t,0,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,0,r+"Exit"]:[r,r+"Exit"]}function r6(e){return{eventIndex:0,events:"document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:r4(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function r7(e){return e[r1]=!1,e.nodes&&e.nodes.forEach(e=>r7(e)),e}let ie={},it=class e{constructor(t,r,i){let s;if(this.stringified=!1,this.processed=!1,"object"==typeof r&&null!==r&&("root"===r.type||"document"===r.type))s=r7(r);else if(r instanceof e||r instanceof rF)s=r7(r.root),r.map&&(void 0===i.map&&(i.map={}),i.map.inline||(i.map.inline=!1),i.map.prev=r.map);else{let e=r0;i.syntax&&(e=i.syntax.parse),i.parser&&(e=i.parser),e.parse&&(e=e.parse);try{s=e(r,i)}catch(e){this.processed=!0,this.error=e}s&&!s[r2]&&rL.rebuild(s)}this.result=new rF(t,s,i),this.helpers={...ie,postcss:ie,result:this.result},this.plugins=this.processor.plugins.map(e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?r.postcssVersion:(e.plugin=r.postcssPlugin,e.setMessage())}catch(e){console&&console.error&&console.error(e)}return e}prepareVisitors(){this.listeners={};let e=(e,t,r)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,r])};for(let t of this.plugins)if("object"==typeof t)for(let r in t){if(!r5[r]&&/^[A-Z]/.test(r))throw Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!r9[r])if("object"==typeof t[r])for(let i in t[r])e(t,"*"===i?r:r+"-"+i.toLowerCase(),t[r][i]);else"function"==typeof t[r]&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(r8(r))try{await r}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[r1];){e[r1]=!0;let t=[r6(e)];for(;t.length>0;){let e=this.visitTick(t);if(r8(e))try{await e}catch(r){let e=t[t.length-1].node;throw this.handleError(r,e)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map(e=>r(e,this.helpers));await Promise.all(t)}else await r(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map(t=>e.Once(t,this.helpers));if(r8(t[0]))return Promise.all(t);return t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=t8;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let r=new rM(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins)if(r8(this.runOnRoot(e)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[r1];)e[r1]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,i]of e){let e;this.result.lastPlugin=r;try{e=i(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(r8(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:i}=t;if("root"!==r.type&&"document"!==r.type&&!r.parent)return void e.pop();if(i.length>0&&t.visitorIndex<i.length){let[e,s]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return s(r.toProxy(),this.helpers)}catch(e){throw this.handleError(e,r)}}if(0!==t.iterator){let i,s=t.iterator;for(;i=r.nodes[r.indexes[s]];)if(r.indexes[s]+=1,!i[r1]){i[r1]=!0,e.push(r6(i));return}t.iterator=0,delete r.indexes[s]}let s=t.events;for(;t.eventIndex<s.length;){let e=s[t.eventIndex];if(t.eventIndex+=1,0===e){r.nodes&&r.nodes.length&&(r[r1]=!0,t.iterator=r.getIterator());return}if(this.listeners[e]){t.visitors=this.listeners[e];return}}e.pop()}walkSync(e){for(let t of(e[r1]=!0,r4(e)))if(0===t)e.nodes&&e.each(e=>{e[r1]||this.walkSync(e)});else{let r=this.listeners[t];if(r&&this.visitSync(r,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};it.registerPostcss=e=>{ie=e},it.default=it,rY.registerLazyResult(it),rj.registerLazyResult(it);let ir=class{constructor(e,t,r){let i;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0,this.result=new rF(this._processor,i,this._opts),this.result.css=t;let s=this;Object.defineProperty(this.result,"root",{get:()=>s.root});let n=new rM(t8,i,this._opts,t);if(n.isMap()){let[e,t]=n.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else n.clearAnnotation(),this.result.css=n.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){let e;if(this._root)return this._root;try{e=r0(this._css,this._opts)}catch(e){this.error=e}if(!this.error)return this._root=e,e;throw this.error}get[Symbol.toStringTag](){return"NoWorkResult"}};ir.default=ir;let ii=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(!0===r.postcss?r=r():r.postcss&&(r=r.postcss),"object"==typeof r&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if("object"==typeof r&&r.postcssPlugin)t.push(r);else if("function"==typeof r)t.push(r);else if("object"==typeof r&&(r.parse||r.stringify));else throw Error(r+" is not a PostCSS plugin");return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new it(this,e,t):new ir(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};function is(e,t){if(Array.isArray(e))return e.map(e=>is(e));let{inputs:r,...i}=e;if(r)for(let e of(t=[],r)){let r={...e,__proto__:rv.prototype};r.map&&(r.map={...r.map,__proto__:rl.prototype}),t.push(r)}if(i.nodes&&(i.nodes=e.nodes.map(e=>is(e,t))),i.source){let{inputId:e,...r}=i.source;i.source=r,null!=e&&(i.source.input=t[e])}if("root"===i.type)return new rY(i);if("decl"===i.type)return new rt(i);if("rule"===i.type)return new rH(i);if("comment"===i.type)return new rD(i);if("atrule"===i.type)return new rK(i);else throw Error("Unknown node type: "+e.type)}function io(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new ii(e)}ii.default=ii,rY.registerProcessor(ii),rj.registerProcessor(ii),is.default=is,io.plugin=function(e,t){let r,i=!1;function s(...r){console&&console.warn&&!i&&(i=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),N.default.env.LANG&&N.default.env.LANG.startsWith("cn")&&console.warn(e+":  postcss.plugin . :\nhttps://www.w3ctech.com/topic/2226"));let n=t(...r);return n.postcssPlugin=e,n.postcssVersion=new ii().version,n}return Object.defineProperty(s,"postcss",{get:()=>(r||(r=s()),r)}),s.process=function(e,t,r){return io([s(r)]).process(e,t)},s},io.stringify=t8,io.parse=r0,io.fromJSON=is,io.list=rJ,io.comment=e=>new rD(e),io.atRule=e=>new rK(e),io.decl=e=>new rt(e),io.rule=e=>new rH(e),io.root=e=>new rY(e),io.document=e=>new rj(e),io.CssSyntaxError=t2,io.Declaration=rt,io.Container=rL,io.Processor=ii,io.Document=rj,io.Comment=rD,io.Warning=rU,io.AtRule=rK,io.Result=rF,io.Input=rv,io.Rule=rH,io.Root=rY,io.Node=t7,it.registerPostcss(io),io.default=io;let ia=io&&io.__esModule&&Object.prototype.hasOwnProperty.call(io,"default")?io.default:io;ia.stringify,ia.fromJSON,ia.plugin,ia.parse,ia.list,ia.document,ia.comment,ia.atRule,ia.rule,ia.decl,ia.root,ia.CssSyntaxError,ia.Declaration,ia.Container,ia.Processor,ia.Document,ia.Comment,ia.Warning,ia.AtRule,ia.Result,ia.Input,ia.Rule,ia.Root,ia.Node;class il{constructor(...e){tH(this,"parentElement",null),tH(this,"parentNode",null),tH(this,"ownerDocument"),tH(this,"firstChild",null),tH(this,"lastChild",null),tH(this,"previousSibling",null),tH(this,"nextSibling",null),tH(this,"ELEMENT_NODE",1),tH(this,"TEXT_NODE",3),tH(this,"nodeType"),tH(this,"nodeName"),tH(this,"RRNodeType")}get childNodes(){let e=[],t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(!(e instanceof il)||e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,t){throw Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}let iu={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},ic={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},ih={};function id(e){if(ih[e])return ih[e];let t=globalThis[e],r=t.prototype,i=e in iu?iu[e]:void 0,s=!!(i&&i.every(e=>{var t,i;return!!(null==(i=null==(t=Object.getOwnPropertyDescriptor(r,e))?void 0:t.get)?void 0:i.toString().includes("[native code]"))})),n=e in ic?ic[e]:void 0,o=!!(n&&n.every(e=>{var t;return"function"==typeof r[e]&&(null==(t=r[e])?void 0:t.toString().includes("[native code]"))}));if(s&&o)return ih[e]=t.prototype,t.prototype;try{let i=document.createElement("iframe");document.body.appendChild(i);let s=i.contentWindow;if(!s)return t.prototype;let n=s[e].prototype;if(document.body.removeChild(i),!n)return r;return ih[e]=n}catch{return r}}let ip={};function ig(e,t,r){var i;let s=`${e}.${String(r)}`;if(ip[s])return ip[s].call(t);let n=null==(i=Object.getOwnPropertyDescriptor(id(e),r))?void 0:i.get;return n?(ip[s]=n,n.call(t)):t[r]}let im={};function iy(e,t,r){let i=`${e}.${String(r)}`;if(im[i])return im[i].bind(t);let s=id(e)[r];return"function"!=typeof s?t[r]:(im[i]=s,s.bind(t))}let i_=function(e){return ig("Node",e,"childNodes")},iv=function(e){return ig("Node",e,"parentNode")},ib=function(e){return ig("Node",e,"parentElement")},iS=function(e){return ig("Node",e,"textContent")},iw=function(e,t){return iy("Node",e,"contains")(t)},iC=function(e){return iy("Node",e,"getRootNode")()},iE=function(e){return e&&"host"in e?ig("ShadowRoot",e,"host"):null},iI=function(e){return e&&"shadowRoot"in e?ig("Element",e,"shadowRoot"):null};function ik(e,t,r=document){let i={capture:!0,passive:!0};return r.addEventListener(e,t,i),()=>r.removeEventListener(e,t,i)}let iO="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",ix={map:{},getId:()=>(console.error(iO),-1),getNode:()=>(console.error(iO),null),removeNodeFromMap(){console.error(iO)},has:()=>(console.error(iO),!1),reset(){console.error(iO)}};function iM(e,t,r={}){let i=null,s=0;return function(...n){let o=Date.now();s||!1!==r.leading||(s=o);let a=t-(o-s),l=this;a<=0||a>t?(i&&(clearTimeout(i),i=null),s=o,e.apply(l,n)):i||!1===r.trailing||(i=setTimeout(()=>{s=!1===r.leading?0:Date.now(),i=null,e.apply(l,n)},a))}}function iR(e,t,r,i,s=window){let n=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,i?r:{set(e){setTimeout(()=>{r.set.call(this,e)},0),n&&n.set&&n.set.call(this,e)}}),()=>iR(e,t,n||{},!0)}function iD(e,t,r){try{if(!(t in e))return()=>{};let i=e[t],s=r(i);return"function"==typeof s&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:i}})),e[t]=s,()=>{e[t]=i}}catch{return()=>{}}}"u">typeof window&&window.Proxy&&window.Reflect&&(ix=new Proxy(ix,{get:(e,t,r)=>("map"===t&&console.error(iO),Reflect.get(e,t,r))}));let iA=Date.now;function iT(e){var t,r,i,s;let n=e.document;return{left:n.scrollingElement?n.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:n.documentElement.scrollLeft||(null==n?void 0:n.body)&&(null==(t=ib(n.body))?void 0:t.scrollLeft)||(null==(r=null==n?void 0:n.body)?void 0:r.scrollLeft)||0,top:n.scrollingElement?n.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==n?void 0:n.documentElement.scrollTop)||(null==n?void 0:n.body)&&(null==(i=ib(n.body))?void 0:i.scrollTop)||(null==(s=null==n?void 0:n.body)?void 0:s.scrollTop)||0}}function iP(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function iL(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function iN(e){return e?e.nodeType===e.ELEMENT_NODE?e:ib(e):null}function ij(e,t,r,i){if(!e)return!1;let s=iN(e);if(!s)return!1;try{if("string"==typeof t){if(s.classList.contains(t)||i&&null!==s.closest("."+t))return!0}else if(eI(s,t,i))return!0}catch(e){}return!!(r&&(s.matches(r)||i&&null!==s.closest(r)))||!1}function iU(e,t,r){return"TITLE"===e.tagName&&!!r.headTitleMutations||-2===t.getId(e)}function iF(e){return!!e.changedTouches}function iB(e,t){return!!("IFRAME"===e.nodeName&&t.getMeta(e))}function iz(e,t){return!!("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function iV(e){return!!e&&(e instanceof il&&"shadowRoot"in e?!!e.shadowRoot:!!iI(e))}/[1-9][0-9]{12}/.test(Date.now().toString())||(iA=()=>new Date().getTime());class iW{constructor(){U(this,"id",1),U(this,"styleIDMap",new WeakMap),U(this,"idStyleMap",new Map)}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){let r;return this.has(e)?this.getId(e):(r=void 0===t?this.id++:t,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r)}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function iG(e){var t;let r=null;return"getRootNode"in e&&(null==(t=iC(e))?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&iE(iC(e))&&(r=iE(iC(e))),r}function iK(e){var t;let r,i=e.ownerDocument;return!!i&&(iw(i,e)||!!(r=(t=e).ownerDocument)&&iw(r,function(e){let t,r=e;for(;t=iG(r);)r=t;return r}(t)))}var i$=((k=i$||{})[k.DomContentLoaded=0]="DomContentLoaded",k[k.Load=1]="Load",k[k.FullSnapshot=2]="FullSnapshot",k[k.IncrementalSnapshot=3]="IncrementalSnapshot",k[k.Meta=4]="Meta",k[k.Custom=5]="Custom",k[k.Plugin=6]="Plugin",k),iY=((O=iY||{})[O.Mutation=0]="Mutation",O[O.MouseMove=1]="MouseMove",O[O.MouseInteraction=2]="MouseInteraction",O[O.Scroll=3]="Scroll",O[O.ViewportResize=4]="ViewportResize",O[O.Input=5]="Input",O[O.TouchMove=6]="TouchMove",O[O.MediaInteraction=7]="MediaInteraction",O[O.StyleSheetRule=8]="StyleSheetRule",O[O.CanvasMutation=9]="CanvasMutation",O[O.Font=10]="Font",O[O.Log=11]="Log",O[O.Drag=12]="Drag",O[O.StyleDeclaration=13]="StyleDeclaration",O[O.Selection=14]="Selection",O[O.AdoptedStyleSheet=15]="AdoptedStyleSheet",O[O.CustomElement=16]="CustomElement",O),iJ=((x=iJ||{})[x.MouseUp=0]="MouseUp",x[x.MouseDown=1]="MouseDown",x[x.Click=2]="Click",x[x.ContextMenu=3]="ContextMenu",x[x.DblClick=4]="DblClick",x[x.Focus=5]="Focus",x[x.Blur=6]="Blur",x[x.TouchStart=7]="TouchStart",x[x.TouchMove_Departed=8]="TouchMove_Departed",x[x.TouchEnd=9]="TouchEnd",x[x.TouchCancel=10]="TouchCancel",x),iq=((M=iq||{})[M.Mouse=0]="Mouse",M[M.Pen=1]="Pen",M[M.Touch=2]="Touch",M),iH=((R=iH||{})[R["2D"]=0]="2D",R[R.WebGL=1]="WebGL",R[R.WebGL2=2]="WebGL2",R),iZ=((D=iZ||{})[D.Play=0]="Play",D[D.Pause=1]="Pause",D[D.Seeked=2]="Seeked",D[D.VolumeChange=3]="VolumeChange",D[D.RateChange=4]="RateChange",D);class iX{constructor(){U(this,"length",0),U(this,"head",null),U(this,"tail",null)}get(e){if(e>=this.length)throw Error("Position outside of list range");let t=this.head;for(let r=0;r<e;r++)t=(null==t?void 0:t.next)||null;return t}addNode(e){let t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&"__ln"in e.previousSibling){let r=e.previousSibling.__ln.next;t.next=r,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,r&&(r.previous=t)}else if(e.nextSibling&&"__ln"in e.nextSibling&&e.nextSibling.__ln.previous){let r=e.nextSibling.__ln.previous;t.previous=r,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,r&&(r.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){let t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}let iQ=(e,t)=>`${e}@${t}`;class i0{constructor(){U(this,"frozen",!1),U(this,"locked",!1),U(this,"texts",[]),U(this,"attributes",[]),U(this,"attributeMap",new WeakMap),U(this,"removes",[]),U(this,"mapRemoves",[]),U(this,"movedMap",{}),U(this,"addedSet",new Set),U(this,"movedSet",new Set),U(this,"droppedSet",new Set),U(this,"mutationCb"),U(this,"blockClass"),U(this,"blockSelector"),U(this,"maskTextClass"),U(this,"maskTextSelector"),U(this,"inlineStylesheet"),U(this,"maskInputOptions"),U(this,"maskTextFn"),U(this,"maskInputFn"),U(this,"keepIframeSrcFn"),U(this,"recordCanvas"),U(this,"inlineImages"),U(this,"slimDOMOptions"),U(this,"dataURLOptions"),U(this,"doc"),U(this,"mirror"),U(this,"iframeManager"),U(this,"stylesheetManager"),U(this,"shadowDomManager"),U(this,"canvasManager"),U(this,"processedNodeManager"),U(this,"unattachedDoc"),U(this,"processMutations",e=>{e.forEach(this.processMutation),this.emit()}),U(this,"emit",()=>{if(this.frozen||this.locked)return;let e=[],t=new Set,r=new iX,i=e=>{let t=e,r=-2;for(;-2===r;)r=(t=t&&t.nextSibling)&&this.mirror.getId(t);return r},s=s=>{let n=iv(s);if(!n||!iK(s)||"TEXTAREA"===n.tagName)return;let o=ee(n)?this.mirror.getId(iG(s)):this.mirror.getId(n),a=i(s);if(-1===o||-1===a)return r.addNode(s);let l=ex(s,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{iB(e,this.mirror)&&this.iframeManager.addIframe(e),iz(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),iV(s)&&this.shadowDomManager.addShadowRoot(iI(s),this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});l&&(e.push({parentId:o,nextId:a,node:l}),t.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let e of this.movedSet)(!i2(this.removes,e,this.mirror)||this.movedSet.has(iv(e)))&&s(e);for(let e of this.addedSet)i3(this.droppedSet,e)||i2(this.removes,e,this.mirror)?i3(this.movedSet,e)?s(e):this.droppedSet.add(e):s(e);let n=null;for(;r.length;){let e=null;if(n){let t=this.mirror.getId(iv(n.value)),r=i(n.value);-1!==t&&-1!==r&&(e=n)}if(!e){let t=r.tail;for(;t;){let r=t;if(t=t.previous,r){let t=this.mirror.getId(iv(r.value));if(-1===i(r.value))continue;if(-1!==t){e=r;break}{let t=iv(r.value);if(t&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let i=iE(t);if(-1!==this.mirror.getId(i)){e=r;break}}}}}}if(!e){for(;r.head;)r.removeNode(r.head.value);break}n=e.previous,r.removeNode(e.value),s(e.value)}let o={texts:this.texts.map(e=>{let t=e.node,r=iv(t);return r&&"TEXTAREA"===r.tagName&&this.genTextAreaValueMutation(r),{id:this.mirror.getId(t),value:e.value}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{let{attributes:t}=e;if("string"==typeof t.style){let r=JSON.stringify(e.styleDiff),i=JSON.stringify(e._unchangedStyles);r.length<t.style.length&&(r+i).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};(o.texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))}),U(this,"genTextAreaValueMutation",e=>{let t=this.attributeMap.get(e);t||(t={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(t),this.attributeMap.set(e,t)),t.attributes.value=Array.from(i_(e),e=>iS(e)||"").join("")}),U(this,"processMutation",e=>{if(!iU(e.target,this.mirror,this.slimDOMOptions))switch(e.type){case"characterData":{let t=iS(e.target);ij(e.target,this.blockClass,this.blockSelector,!1)||t===e.oldValue||this.texts.push({value:ek(e.target,this.maskTextClass,this.maskTextSelector,!0)&&t?this.maskTextFn?this.maskTextFn(t,iN(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{let t=e.target,r=e.attributeName,i=e.target.getAttribute(r);if("value"===r){let e=el(t);i=en({element:t,maskInputOptions:this.maskInputOptions,tagName:t.tagName,type:e,value:i,maskInputFn:this.maskInputFn})}if(ij(e.target,this.blockClass,this.blockSelector,!1)||i===e.oldValue)return;let s=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===r&&!this.keepIframeSrcFn(i))if(t.contentDocument)return;else r="rr_src";if(s||(s={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(e.target,s)),"type"===r&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!eE(t.tagName,r))if(s.attributes[r]=eC(this.doc,eo(t.tagName),eo(r),i),"style"===r){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}let r=this.unattachedDoc.createElement("span");for(let i of(e.oldValue&&r.setAttribute("style",e.oldValue),Array.from(t.style))){let e=t.style.getPropertyValue(i),n=t.style.getPropertyPriority(i);e!==r.style.getPropertyValue(i)||n!==r.style.getPropertyPriority(i)?""===n?s.styleDiff[i]=e:s.styleDiff[i]=[e,n]:s._unchangedStyles[i]=[e,n]}for(let e of Array.from(r.style))""===t.style.getPropertyValue(e)&&(s.styleDiff[e]=!1)}else"open"===r&&"DIALOG"===t.tagName&&(t.matches("dialog:modal")?s.attributes.rr_open_mode="modal":s.attributes.rr_open_mode="non-modal");break}case"childList":if(ij(e.target,this.blockClass,this.blockSelector,!0))return;if("TEXTAREA"===e.target.tagName)return void this.genTextAreaValueMutation(e.target);e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{let r=this.mirror.getId(t),i=ee(e.target)?this.mirror.getId(iE(e.target)):this.mirror.getId(e.target);ij(e.target,this.blockClass,this.blockSelector,!1)||iU(t,this.mirror,this.slimDOMOptions)||-1===this.mirror.getId(t)||(this.addedSet.has(t)?(i1(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===r||function e(t,r){if(ee(t))return!1;let i=r.getId(t);if(!r.has(i))return!0;let s=iv(t);return(!s||s.nodeType!==t.DOCUMENT_NODE)&&(!s||e(s,r))}(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[iQ(r,i)]?i1(this.movedSet,t):this.removes.push({parentId:i,id:r,isShadow:!!(ee(e.target)&&et(e.target))||void 0})),this.mapRemoves.push(t))})}}),U(this,"genAdds",(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(iU(e,this.mirror,this.slimDOMOptions))return;this.movedSet.add(e);let r=null;t&&this.mirror.hasNode(t)&&(r=this.mirror.getId(t)),r&&-1!==r&&(this.movedMap[iQ(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);!ij(e,this.blockClass,this.blockSelector,!1)&&(i_(e).forEach(e=>this.genAdds(e)),iV(e)&&i_(iI(e)).forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)}))}})}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function i1(e,t){e.delete(t),i_(t).forEach(t=>i1(e,t))}function i2(e,t,r){return 0!==e.length&&function(e,t,r){let i=iv(t);for(;i;){let t=r.getId(i);if(e.some(e=>e.id===t))return!0;i=iv(i)}return!1}(e,t,r)}function i3(e,t){return 0!==e.size&&function e(t,r){let i=iv(r);return!!i&&(!!t.has(i)||e(t,i))}(e,t)}let i5=e=>S?(...t)=>{try{return e(...t)}catch(e){if(S&&!0===S(e))return;throw e}}:e,i9=[];function i8(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function i4(e,t){let r=new i0;i9.push(r),r.init(e);let i=new(id("MutationObserver")).constructor(i5(r.processMutations.bind(r)));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function i6({scrollCb:e,doc:t,mirror:r,blockClass:i,blockSelector:s,sampling:n}){return ik("scroll",i5(iM(i5(n=>{let o=i8(n);if(!o||ij(o,i,s,!0))return;let a=r.getId(o);if(o===t&&t.defaultView){let r=iT(t.defaultView);e({id:a,x:r.left,y:r.top})}else e({id:a,x:o.scrollLeft,y:o.scrollTop})}),n.scroll||100)),t)}let i7=["INPUT","TEXTAREA","SELECT"],se=new WeakMap;function st(e){var t=[];if(sn("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||sn("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||sn("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||sn("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){let r=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(r)}else if(e.parentStyleSheet){let r=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(r)}return t}function sr(e,t,r){let i,s;return e?(e.ownerNode?i=t.getId(e.ownerNode):s=r.getId(e),{styleId:s,id:i}):{}}function si({mirror:e,stylesheetManager:t},r){var i,s,n;let o=null;o="#document"===r.nodeName?e.getId(r):e.getId(iE(r));let a="#document"===r.nodeName?null==(i=r.defaultView)?void 0:i.Document:null==(n=null==(s=r.ownerDocument)?void 0:s.defaultView)?void 0:n.ShadowRoot,l=(null==a?void 0:a.prototype)?Object.getOwnPropertyDescriptor(null==a?void 0:a.prototype,"adoptedStyleSheets"):void 0;return null!==o&&-1!==o&&a&&l?(Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){var e;return null==(e=l.get)?void 0:e.call(this)},set(e){var r;let i=null==(r=l.set)?void 0:r.call(this,e);if(null!==o&&-1!==o)try{t.adoptStyleSheets(e,o)}catch(e){}return i}}),i5(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})})):()=>{}}function ss(e,t={}){let r,i=e.doc.defaultView;if(!i)return()=>{};!function(e,t){let{mutationCb:r,mousemoveCb:i,mouseInteractionCb:s,scrollCb:n,viewportResizeCb:o,inputCb:a,mediaInteractionCb:l,styleSheetRuleCb:u,styleDeclarationCb:c,canvasMutationCb:h,fontCb:d,selectionCb:p,customElementCb:g}=e;e.mutationCb=(...e)=>{t.mutation&&t.mutation(...e),r(...e)},e.mousemoveCb=(...e)=>{t.mousemove&&t.mousemove(...e),i(...e)},e.mouseInteractionCb=(...e)=>{t.mouseInteraction&&t.mouseInteraction(...e),s(...e)},e.scrollCb=(...e)=>{t.scroll&&t.scroll(...e),n(...e)},e.viewportResizeCb=(...e)=>{t.viewportResize&&t.viewportResize(...e),o(...e)},e.inputCb=(...e)=>{t.input&&t.input(...e),a(...e)},e.mediaInteractionCb=(...e)=>{t.mediaInteaction&&t.mediaInteaction(...e),l(...e)},e.styleSheetRuleCb=(...e)=>{t.styleSheetRule&&t.styleSheetRule(...e),u(...e)},e.styleDeclarationCb=(...e)=>{t.styleDeclaration&&t.styleDeclaration(...e),c(...e)},e.canvasMutationCb=(...e)=>{t.canvasMutation&&t.canvasMutation(...e),h(...e)},e.fontCb=(...e)=>{t.font&&t.font(...e),d(...e)},e.selectionCb=(...e)=>{t.selection&&t.selection(...e),p(...e)},e.customElementCb=(...e)=>{t.customElement&&t.customElement(...e),g(...e)}}(e,t),e.recordDOM&&(r=i4(e,e.doc));let s=function({mousemoveCb:e,sampling:t,doc:r,mirror:i}){let s;if(!1===t.mousemove)return()=>{};let n="number"==typeof t.mousemove?t.mousemove:50,o="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500,a=[],l=iM(i5(t=>{let r=Date.now()-s;e(a.map(e=>(e.timeOffset-=r,e)),t),a=[],s=null}),o),u=i5(iM(i5(e=>{let t=i8(e),{clientX:r,clientY:n}=iF(e)?e.changedTouches[0]:e;s||(s=iA()),a.push({x:r,y:n,id:i.getId(t),timeOffset:iA()-s}),l("u">typeof DragEvent&&e instanceof DragEvent?iY.Drag:e instanceof MouseEvent?iY.MouseMove:iY.TouchMove)}),n,{trailing:!1})),c=[ik("mousemove",u,r),ik("touchmove",u,r),ik("drag",u,r)];return i5(()=>{c.forEach(e=>e())})}(e),n=function({mouseInteractionCb:e,doc:t,mirror:r,blockClass:i,blockSelector:s,sampling:n}){if(!1===n.mouseInteraction)return()=>{};let o=!0===n.mouseInteraction||void 0===n.mouseInteraction?{}:n.mouseInteraction,a=[],l=null;return Object.keys(iJ).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==o[e]).forEach(n=>{let o=eo(n),u=t=>{let o=i8(t);if(ij(o,i,s,!0))return;let a=null,u=n;if("pointerType"in t){switch(t.pointerType){case"mouse":a=iq.Mouse;break;case"touch":a=iq.Touch;break;case"pen":a=iq.Pen}a===iq.Touch?iJ[n]===iJ.MouseDown?u="TouchStart":iJ[n]===iJ.MouseUp&&(u="TouchEnd"):iq.Pen}else iF(t)&&(a=iq.Touch);null!==a?(l=a,(u.startsWith("Touch")&&a===iq.Touch||u.startsWith("Mouse")&&a===iq.Mouse)&&(a=null)):iJ[n]===iJ.Click&&(a=l,l=null);let c=iF(t)?t.changedTouches[0]:t;if(!c)return;let h=r.getId(o),{clientX:d,clientY:p}=c;i5(e)({type:iJ[u],id:h,x:d,y:p,...null!==a&&{pointerType:a}})};if(window.PointerEvent)switch(iJ[n]){case iJ.MouseDown:case iJ.MouseUp:o=o.replace("mouse","pointer");break;case iJ.TouchStart:case iJ.TouchEnd:return}a.push(ik(o,u,t))}),i5(()=>{a.forEach(e=>e())})}(e),o=i6(e),a=function({viewportResizeCb:e},{win:t}){let r=-1,i=-1;return ik("resize",i5(iM(i5(()=>{let t=iP(),s=iL();(r!==t||i!==s)&&(e({width:Number(s),height:Number(t)}),r=t,i=s)}),200)),t)}(e,{win:i}),l=function({inputCb:e,doc:t,mirror:r,blockClass:i,blockSelector:s,ignoreClass:n,ignoreSelector:o,maskInputOptions:a,maskInputFn:l,sampling:u,userTriggeredOnInput:c}){function h(e){let r=i8(e),u=e.isTrusted,h=r&&r.tagName;if(r&&"OPTION"===h&&(r=ib(r)),!r||!h||0>i7.indexOf(h)||ij(r,i,s,!0)||r.classList.contains(n)||o&&r.matches(o))return;let p=r.value,g=!1,f=el(r)||"";"radio"===f||"checkbox"===f?g=r.checked:(a[h.toLowerCase()]||a[f])&&(p=en({element:r,maskInputOptions:a,tagName:h,type:f,value:p,maskInputFn:l})),d(r,c?{text:p,isChecked:g,userTriggered:u}:{text:p,isChecked:g});let m=r.name;"radio"===f&&m&&g&&t.querySelectorAll(`input[type="radio"][name="${m}"]`).forEach(e=>{if(e!==r){let t=e.value;d(e,c?{text:t,isChecked:!g,userTriggered:!1}:{text:t,isChecked:!g})}})}function d(t,i){let s=se.get(t);if(!s||s.text!==i.text||s.isChecked!==i.isChecked){se.set(t,i);let s=r.getId(t);i5(e)({...i,id:s})}}let p=("last"===u.input?["change"]:["input","change"]).map(e=>ik(e,i5(h),t)),g=t.defaultView;if(!g)return()=>{p.forEach(e=>e())};let f=g.Object.getOwnPropertyDescriptor(g.HTMLInputElement.prototype,"value"),m=[[g.HTMLInputElement.prototype,"value"],[g.HTMLInputElement.prototype,"checked"],[g.HTMLSelectElement.prototype,"value"],[g.HTMLTextAreaElement.prototype,"value"],[g.HTMLSelectElement.prototype,"selectedIndex"],[g.HTMLOptionElement.prototype,"selected"]];return f&&f.set&&p.push(...m.map(e=>iR(e[0],e[1],{set(){i5(h)({target:this,isTrusted:!1})}},!1,g))),i5(()=>{p.forEach(e=>e())})}(e),u=function({mediaInteractionCb:e,blockClass:t,blockSelector:r,mirror:i,sampling:s,doc:n}){let o=i5(n=>iM(i5(s=>{let o=i8(s);if(!o||ij(o,t,r,!0))return;let{currentTime:a,volume:l,muted:u,playbackRate:c,loop:h}=o;e({type:n,id:i.getId(o),currentTime:a,volume:l,muted:u,playbackRate:c,loop:h})}),s.media||500)),a=[ik("play",o(iZ.Play),n),ik("pause",o(iZ.Pause),n),ik("seeked",o(iZ.Seeked),n),ik("volumechange",o(iZ.VolumeChange),n),ik("ratechange",o(iZ.RateChange),n)];return i5(()=>{a.forEach(e=>e())})}(e),c=()=>{},h=()=>{},d=()=>{},p=()=>{};e.recordDOM&&(c=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:i}){let s,n;if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return()=>{};let o=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:i5((i,s,n)=>{let[o,a]=n,{id:l,styleId:u}=sr(s,t,r.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,adds:[{rule:o,index:a}]}),i.apply(s,n)})}),i.CSSStyleSheet.prototype.addRule=function(e,t,r=this.cssRules.length){let s=`${e} { ${t} }`;return i.CSSStyleSheet.prototype.insertRule.apply(this,[s,r])};let a=i.CSSStyleSheet.prototype.deleteRule;i.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:i5((i,s,n)=>{let[o]=n,{id:a,styleId:l}=sr(s,t,r.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:o}]}),i.apply(s,n)})}),i.CSSStyleSheet.prototype.removeRule=function(e){return i.CSSStyleSheet.prototype.deleteRule.apply(this,[e])},i.CSSStyleSheet.prototype.replace&&(s=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:i5((i,s,n)=>{let[o]=n,{id:a,styleId:l}=sr(s,t,r.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replace:o}),i.apply(s,n)})})),i.CSSStyleSheet.prototype.replaceSync&&(n=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(n,{apply:i5((i,s,n)=>{let[o]=n,{id:a,styleId:l}=sr(s,t,r.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replaceSync:o}),i.apply(s,n)})}));let l={};so("CSSGroupingRule")?l.CSSGroupingRule=i.CSSGroupingRule:(so("CSSMediaRule")&&(l.CSSMediaRule=i.CSSMediaRule),so("CSSConditionRule")&&(l.CSSConditionRule=i.CSSConditionRule),so("CSSSupportsRule")&&(l.CSSSupportsRule=i.CSSSupportsRule));let u={};return Object.entries(l).forEach(([i,s])=>{u[i]={insertRule:s.prototype.insertRule,deleteRule:s.prototype.deleteRule},s.prototype.insertRule=new Proxy(u[i].insertRule,{apply:i5((i,s,n)=>{let[o,a]=n,{id:l,styleId:u}=sr(s.parentStyleSheet,t,r.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,adds:[{rule:o,index:[...st(s),a||0]}]}),i.apply(s,n)})}),s.prototype.deleteRule=new Proxy(u[i].deleteRule,{apply:i5((i,s,n)=>{let[o]=n,{id:a,styleId:l}=sr(s.parentStyleSheet,t,r.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:[...st(s),o]}]}),i.apply(s,n)})})}),i5(()=>{i.CSSStyleSheet.prototype.insertRule=o,i.CSSStyleSheet.prototype.deleteRule=a,s&&(i.CSSStyleSheet.prototype.replace=s),n&&(i.CSSStyleSheet.prototype.replaceSync=n),Object.entries(l).forEach(([e,t])=>{t.prototype.insertRule=u[e].insertRule,t.prototype.deleteRule=u[e].deleteRule})})}(e,{win:i}),h=si(e,e.doc),d=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:i},{win:s}){let n=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(n,{apply:i5((s,o,a)=>{var l;let[u,c,h]=a;if(r.has(u))return n.apply(o,[u,c,h]);let{id:d,styleId:p}=sr(null==(l=o.parentRule)?void 0:l.parentStyleSheet,t,i.styleMirror);return(d&&-1!==d||p&&-1!==p)&&e({id:d,styleId:p,set:{property:u,value:c,priority:h},index:st(o.parentRule)}),s.apply(o,a)})});let o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:i5((s,n,a)=>{var l;let[u]=a;if(r.has(u))return o.apply(n,[u]);let{id:c,styleId:h}=sr(null==(l=n.parentRule)?void 0:l.parentStyleSheet,t,i.styleMirror);return(c&&-1!==c||h&&-1!==h)&&e({id:c,styleId:h,remove:{property:u},index:st(n.parentRule)}),s.apply(n,a)})}),i5(()=>{s.CSSStyleDeclaration.prototype.setProperty=n,s.CSSStyleDeclaration.prototype.removeProperty=o})}(e,{win:i}),e.collectFonts&&(p=function({fontCb:e,doc:t}){let r=t.defaultView;if(!r)return()=>{};let i=[],s=new WeakMap,n=r.FontFace;r.FontFace=function(e,t,r){let i=new n(e,t,r);return s.set(i,{family:e,buffer:"string"!=typeof t,descriptors:r,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),i};let o=iD(t.fonts,"add",function(t){return function(r){return setTimeout(i5(()=>{let t=s.get(r);t&&(e(t),s.delete(r))}),0),t.apply(this,[r])}});return i.push(()=>{r.FontFace=n}),i.push(o),i5(()=>{i.forEach(e=>e())})}(e)));let g=function(e){let{doc:t,mirror:r,blockClass:i,blockSelector:s,selectionCb:n}=e,o=!0,a=i5(()=>{let e=t.getSelection();if(!e||o&&(null==e?void 0:e.isCollapsed))return;o=e.isCollapsed||!1;let a=[],l=e.rangeCount||0;for(let t=0;t<l;t++){let{startContainer:n,startOffset:o,endContainer:l,endOffset:u}=e.getRangeAt(t);ij(n,i,s,!0)||ij(l,i,s,!0)||a.push({start:r.getId(n),startOffset:o,end:r.getId(l),endOffset:u})}n({ranges:a})});return a(),ik("selectionchange",a)}(e),f=function({doc:e,customElementCb:t}){let r=e.defaultView;return r&&r.customElements?iD(r.customElements,"define",function(e){return function(r,i,s){try{t({define:{name:r}})}catch(e){console.warn(`Custom element callback failed for ${r}`)}return e.apply(this,[r,i,s])}}):()=>{}}(e),m=[];for(let t of e.plugins)m.push(t.observer(t.callback,i,t.options));return i5(()=>{i9.forEach(e=>e.reset()),null==r||r.disconnect(),s(),n(),o(),a(),l(),u(),c(),h(),d(),p(),g(),f(),m.forEach(e=>e())})}function sn(e){return void 0!==window[e]}function so(e){return!!(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class sa{constructor(e){U(this,"iframeIdToRemoteIdMap",new WeakMap),U(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=e}getId(e,t,r,i){let s=r||this.getIdToRemoteIdMap(e),n=i||this.getRemoteIdToIdMap(e),o=s.get(t);return o||(o=this.generateIdFn(),s.set(t,o),n.set(o,t)),o}getIds(e,t){let r=this.getIdToRemoteIdMap(e),i=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,r,i))}getRemoteId(e,t,r){let i=r||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;let s=i.get(t);return s||-1}getRemoteIds(e,t){let r=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,r))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class sl{constructor(e){U(this,"iframes",new WeakMap),U(this,"crossOriginIframeMap",new WeakMap),U(this,"crossOriginIframeMirror",new sa(ey)),U(this,"crossOriginIframeStyleMirror"),U(this,"crossOriginIframeRootIdMap",new WeakMap),U(this,"mirror"),U(this,"mutationCb"),U(this,"wrappedEmit"),U(this,"loadListener"),U(this,"stylesheetManager"),U(this,"recordCrossOriginIframes"),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new sa(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var r,i;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(r=e.contentWindow)||r.addEventListener("message",this.handleMessage.bind(this))),null==(i=this.loadListener)||i.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){if("rrweb"!==e.data.type||e.origin!==e.data.origin||!e.source)return;let t=this.crossOriginIframeMap.get(e.source);if(!t)return;let r=this.transformCrossOriginEvent(t,e.data.event);r&&this.wrappedEmit(r,e.data.isCheckout)}transformCrossOriginEvent(e,t){var r;switch(t.type){case i$.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);let r=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(t.data.node,r),{timestamp:t.timestamp,type:i$.IncrementalSnapshot,data:{source:iY.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case i$.Meta:case i$.Load:case i$.DomContentLoaded:break;case i$.Plugin:return t;case i$.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case i$.IncrementalSnapshot:switch(t.data.source){case iY.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);let r=this.crossOriginIframeRootIdMap.get(e);r&&this.patchRootIdOnNode(t.node,r)}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"])}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case iY.Drag:case iY.TouchMove:case iY.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case iY.ViewportResize:return!1;case iY.MediaInteraction:case iY.MouseInteraction:case iY.Scroll:case iY.CanvasMutation:case iY.Input:return this.replaceIds(t.data,e,["id"]),t;case iY.StyleSheetRule:case iY.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case iY.Font:return t;case iY.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"])}),t;case iY.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null==(r=t.data.styles)||r.forEach(t=>{this.replaceStyleIds(t,e,["styleId"])}),t}}return!1}replace(e,t,r,i){for(let s of i)(Array.isArray(t[s])||"number"==typeof t[s])&&(Array.isArray(t[s])?t[s]=e.getIds(r,t[s]):t[s]=e.getId(r,t[s]));return t}replaceIds(e,t,r){return this.replace(this.crossOriginIframeMirror,e,t,r)}replaceStyleIds(e,t,r){return this.replace(this.crossOriginIframeStyleMirror,e,t,r)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t)})}patchRootIdOnNode(e,t){e.type===z.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t)})}}class su{constructor(e){U(this,"shadowDoms",new WeakSet),U(this,"mutationCb"),U(this,"scrollCb"),U(this,"bypassOptions"),U(this,"mirror"),U(this,"restoreHandlers",[]),this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!et(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);let r=i4({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(i6({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),setTimeout(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(iE(e))),this.restoreHandlers.push(si({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){let r=this;this.restoreHandlers.push(iD(e.prototype,"attachShadow",function(e){return function(i){let s=e.call(this,i),n=iI(this);return n&&iK(this)&&r.addShadowRoot(n,t),s}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(e){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var sc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sh="u"<typeof Uint8Array?[]:new Uint8Array(256),sd=0;sd<sc.length;sd++)sh[sc.charCodeAt(sd)]=sd;var sp=function(e){var t,r=new Uint8Array(e),i=r.length,s="";for(t=0;t<i;t+=3)s+=sc[r[t]>>2],s+=sc[(3&r[t])<<4|r[t+1]>>4],s+=sc[(15&r[t+1])<<2|r[t+2]>>6],s+=sc[63&r[t+2]];return i%3==2?s=s.substring(0,s.length-1)+"=":i%3==1&&(s=s.substring(0,s.length-2)+"=="),s};let sg=new Map,sf=(e,t,r)=>{let i;if(!e||!(sy(e,t)||"object"==typeof e))return;let s=e.constructor.name,n=((i=sg.get(r))||(i=new Map,sg.set(r,i)),i.has(s)||i.set(s,[]),i.get(s)),o=n.indexOf(e);return -1===o&&(o=n.length,n.push(e)),o},sm=(e,t,r)=>e.map(e=>(function e(t,r,i){if(t instanceof Array)return t.map(t=>e(t,r,i));if(null===t);else if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray)return{rr_type:t.constructor.name,args:[Object.values(t)]};else if(t instanceof ArrayBuffer)return{rr_type:t.constructor.name,base64:sp(t)};else if(t instanceof DataView)return{rr_type:t.constructor.name,args:[e(t.buffer,r,i),t.byteOffset,t.byteLength]};else if(t instanceof HTMLImageElement){let e=t.constructor.name,{src:r}=t;return{rr_type:e,src:r}}else if(t instanceof HTMLCanvasElement)return{rr_type:"HTMLImageElement",src:t.toDataURL()};else if(t instanceof ImageData)return{rr_type:t.constructor.name,args:[e(t.data,r,i),t.width,t.height]};else if(sy(t,r)||"object"==typeof t)return{rr_type:t.constructor.name,index:sf(t,r,i)};return t})(e,t,r)),sy=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(e=>"function"==typeof t[e]).find(r=>e instanceof t[r]);function s_(e,t,r,i){let s=[];try{let n=iD(e.HTMLCanvasElement.prototype,"getContext",function(e){return function(s,...n){if(!ij(this,t,r,!0)){let e="experimental-webgl"===s?"webgl":s;if("__context"in this||(this.__context=e),i&&["webgl","webgl2"].includes(e))if(n[0]&&"object"==typeof n[0]){let e=n[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else n.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[s,...n])}});s.push(n)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{s.forEach(e=>e())}}function sv(e,t,r,i,s,n){let o=[];for(let a of Object.getOwnPropertyNames(e))if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(a))try{if("function"!=typeof e[a])continue;let l=iD(e,a,function(e){return function(...o){let l=e.apply(this,o);if(sf(l,n,this),"tagName"in this.canvas&&!ij(this.canvas,i,s,!0)){let e=sm(o,n,this),i={type:t,property:a,args:e};r(this.canvas,i)}return l}});o.push(l)}catch{let i=iR(e,a,{set(e){r(this.canvas,{type:t,property:a,args:[e],setter:!0})}});o.push(i)}return o}let sb="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",sS="u">typeof window&&window.Blob&&new Blob([Uint8Array.from(atob(sb),e=>e.charCodeAt(0))],{type:"text/javascript;charset=utf-8"});function sw(e){let t;try{if(!(t=sS&&(window.URL||window.webkitURL).createObjectURL(sS)))throw"";let r=new Worker(t,{name:null==e?void 0:e.name});return r.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(t)}),r}catch(t){return new Worker("data:text/javascript;base64,"+sb,{name:null==e?void 0:e.name})}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}class sC{constructor(e){U(this,"pendingCanvasMutations",new Map),U(this,"rafStamps",{latestId:0,invokeId:null}),U(this,"mirror"),U(this,"mutationCb"),U(this,"resetObservers"),U(this,"frozen",!1),U(this,"locked",!1),U(this,"processMutation",(e,t)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)});const{sampling:t="all",win:r,blockClass:i,blockSelector:s,recordCanvas:n,dataURLOptions:o}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,n&&"all"===t&&this.initCanvasMutationObserver(r,i,s),n&&"number"==typeof t&&this.initCanvasFPSObserver(t,r,i,s,{dataURLOptions:o})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(e,t,r,i,s){let n,o=s_(t,r,i,!0),a=new Map,l=new sw;l.onmessage=e=>{let{id:t}=e.data;if(a.set(t,!1),!("base64"in e.data))return;let{base64:r,type:i,width:s,height:n}=e.data;this.mutationCb({id:t,type:iH["2D"],commands:[{property:"clearRect",args:[0,0,s,n]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:i}]},0,0]}]})};let u=1e3/e,c=0,h=e=>{let o;if(c&&e-c<u){n=requestAnimationFrame(h);return}c=e,(o=[],t.document.querySelectorAll("canvas").forEach(e=>{ij(e,r,i,!0)||o.push(e)}),o).forEach(async e=>{var t;let r=this.mirror.getId(e);if(a.get(r)||0===e.width||0===e.height)return;if(a.set(r,!0),["webgl","webgl2"].includes(e.__context)){let r=e.getContext(e.__context);(null==(t=null==r?void 0:r.getContextAttributes())?void 0:t.preserveDrawingBuffer)===!1&&r.clear(r.COLOR_BUFFER_BIT)}let i=await createImageBitmap(e);l.postMessage({id:r,bitmap:i,width:e.width,height:e.height,dataURLOptions:s.dataURLOptions},[i])}),n=requestAnimationFrame(h)};n=requestAnimationFrame(h),this.resetObservers=()=>{o(),cancelAnimationFrame(n)}}initCanvasMutationObserver(e,t,r){var i;let s;this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let n=s_(e,t,r,!1),o=function(e,t,r,i){let s=[];for(let n of Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype))try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[n])continue;let o=iD(t.CanvasRenderingContext2D.prototype,n,function(s){return function(...o){return ij(this.canvas,r,i,!0)||setTimeout(()=>{let r=sm(o,t,this);e(this.canvas,{type:iH["2D"],property:n,args:r})},0),s.apply(this,o)}});s.push(o)}catch{let r=iR(t.CanvasRenderingContext2D.prototype,n,{set(t){e(this.canvas,{type:iH["2D"],property:n,args:[t],setter:!0})}});s.push(r)}return()=>{s.forEach(e=>e())}}(this.processMutation.bind(this),e,t,r),a=(i=this.processMutation.bind(this),(s=[]).push(...sv(e.WebGLRenderingContext.prototype,iH.WebGL,i,t,r,e)),void 0!==e.WebGL2RenderingContext&&s.push(...sv(e.WebGL2RenderingContext.prototype,iH.WebGL2,i,t,r,e)),()=>{s.forEach(e=>e())});this.resetObservers=()=>{n(),o(),a()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{let r=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,r)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(e);if(!r||-1===t)return;let i=r.map(e=>{let{type:t,...r}=e;return r}),{type:s}=r[0];this.mutationCb({id:t,type:s,commands:i}),this.pendingCanvasMutations.delete(e)}}class sE{constructor(e){U(this,"trackedLinkElements",new WeakSet),U(this,"mutationCb"),U(this,"adoptedStyleSheetCb"),U(this,"styleMirror",new iW),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;let r={id:t,styleIds:[]},i=[];for(let t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),i.push({styleId:e,rules:Array.from(t.rules||CSSRule,(e,r)=>({rule:ei(e,t.href),index:r}))})),r.styleIds.push(e)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class sI{constructor(){U(this,"nodeMap",new WeakMap),U(this,"active",!1)}inOtherBuffer(e,t){let r=this.nodeMap.get(e);return r&&Array.from(r).some(e=>e!==t)}add(e,t){this.active||(this.active=!0,requestAnimationFrame(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let sk=!1;try{if(2!==Array.from([1],e=>2*e)[0]){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=(null==(T=e.contentWindow)?void 0:T.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}let sO=new es;function sx(e={}){let t,{emit:r,checkoutEveryNms:i,checkoutEveryNth:s,blockClass:n="rr-block",blockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskTextClass:u="rr-mask",maskTextSelector:c=null,inlineStylesheet:h=!0,maskAllInputs:d,maskInputOptions:p,slimDOMOptions:g,maskInputFn:f,maskTextFn:m,hooks:y,packFn:_,sampling:v={},dataURLOptions:b={},mousemoveWait:I,recordDOM:k=!0,recordCanvas:O=!1,recordCrossOriginIframes:x=!1,recordAfter:M="DOMContentLoaded"===e.recordAfter?e.recordAfter:"load",userTriggeredOnInput:R=!1,collectFonts:D=!1,inlineImages:A=!1,plugins:T,keepIframeSrcFn:P=()=>!1,ignoreCSSAttributes:L=new Set([]),errorHandler:N}=e;S=N;let j=!x||window.parent===window,U=!1;if(!j)try{window.parent.document&&(U=!1)}catch(e){U=!0}if(j&&!r)throw Error("emit function is required");if(!j&&!U)return()=>{};void 0!==I&&void 0===v.mousemove&&(v.mousemove=I),sO.reset();let F=!0===d?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==p?p:{password:!0},B=!0===g||"all"===g?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===g,headMetaDescKeywords:"all"===g,headTitleMutations:"all"===g}:g||{};!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}();let z=0,V=e=>{for(let t of T||[])t.eventProcessor&&(e=t.eventProcessor(e));return _&&!U&&(e=_(e)),e};w=(e,n)=>{var o;if(e.timestamp=iA(),(null==(o=i9[0])?void 0:o.isFrozen())&&e.type!==i$.FullSnapshot&&(e.type!==i$.IncrementalSnapshot||e.data.source!==iY.Mutation)&&i9.forEach(e=>e.unfreeze()),j)null==r||r(V(e),n);else if(U){let t={type:"rrweb",event:V(e),origin:window.location.origin,isCheckout:n};window.parent.postMessage(t,"*")}if(e.type===i$.FullSnapshot)t=e,z=0;else if(e.type===i$.IncrementalSnapshot){if(e.data.source===iY.Mutation&&e.data.isAttachIframe)return;z++;let r=s&&z>=s,n=i&&e.timestamp-t.timestamp>i;(r||n)&&C(!0)}};let W=e=>{w({type:i$.IncrementalSnapshot,data:{source:iY.Mutation,...e}})},G=e=>w({type:i$.IncrementalSnapshot,data:{source:iY.Scroll,...e}}),K=e=>w({type:i$.IncrementalSnapshot,data:{source:iY.CanvasMutation,...e}}),$=new sE({mutationCb:W,adoptedStyleSheetCb:e=>w({type:i$.IncrementalSnapshot,data:{source:iY.AdoptedStyleSheet,...e}})}),Y=new sl({mirror:sO,mutationCb:W,stylesheetManager:$,recordCrossOriginIframes:x,wrappedEmit:w});for(let e of T||[])e.getMirror&&e.getMirror({nodeMirror:sO,crossOriginIframeMirror:Y.crossOriginIframeMirror,crossOriginIframeStyleMirror:Y.crossOriginIframeStyleMirror});let J=new sI;E=new sC({recordCanvas:O,mutationCb:K,win:window,blockClass:n,blockSelector:o,mirror:sO,sampling:v.canvas,dataURLOptions:b});let q=new su({mutationCb:W,scrollCb:G,bypassOptions:{blockClass:n,blockSelector:o,maskTextClass:u,maskTextSelector:c,inlineStylesheet:h,maskInputOptions:F,dataURLOptions:b,maskTextFn:m,maskInputFn:f,recordCanvas:O,inlineImages:A,sampling:v,slimDOMOptions:B,iframeManager:Y,stylesheetManager:$,canvasManager:E,keepIframeSrcFn:P,processedNodeManager:J},mirror:sO});C=(e=!1)=>{if(!k)return;w({type:i$.Meta,data:{href:window.location.href,width:iL(),height:iP()}},e),$.reset(),q.init(),i9.forEach(e=>e.lock());let t=function(e,t){let{mirror:r=new es,blockClass:i="rr-block",blockSelector:s=null,maskTextClass:n="rr-mask",maskTextSelector:o=null,inlineStylesheet:a=!0,inlineImages:l=!1,recordCanvas:u=!1,maskAllInputs:c=!1,maskTextFn:h,maskInputFn:d,slimDOM:p=!1,dataURLOptions:g,preserveWhiteSpace:f,onSerialize:m,onIframeLoad:y,iframeLoadTimeout:_,onStylesheetLoad:v,stylesheetLoadTimeout:b,keepIframeSrcFn:S=()=>!1}=t||{};return ex(e,{doc:e,mirror:r,blockClass:i,blockSelector:s,maskTextClass:n,maskTextSelector:o,skipChild:!1,inlineStylesheet:a,maskInputOptions:!0===c?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===c?{password:!0}:c,maskTextFn:h,maskInputFn:d,slimDOMOptions:!0===p||"all"===p?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===p,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===p?{}:p,dataURLOptions:g,inlineImages:l,recordCanvas:u,preserveWhiteSpace:f,onSerialize:m,onIframeLoad:y,iframeLoadTimeout:_,onStylesheetLoad:v,stylesheetLoadTimeout:b,keepIframeSrcFn:S,newlyAddedElement:!1})}(document,{mirror:sO,blockClass:n,blockSelector:o,maskTextClass:u,maskTextSelector:c,inlineStylesheet:h,maskAllInputs:F,maskTextFn:m,maskInputFn:f,slimDOM:B,dataURLOptions:b,recordCanvas:O,inlineImages:A,onSerialize:e=>{iB(e,sO)&&Y.addIframe(e),iz(e,sO)&&$.trackLinkElement(e),iV(e)&&q.addShadowRoot(iI(e),document)},onIframeLoad:(e,t)=>{Y.attachIframe(e,t),q.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{$.attachLinkElement(e,t)},keepIframeSrcFn:P});if(!t)return console.warn("Failed to snapshot the document");w({type:i$.FullSnapshot,data:{node:t,initialOffset:iT(window)}},e),i9.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&$.adoptStyleSheets(document.adoptedStyleSheets,sO.getId(document))};try{let e=[],t=e=>{var t;return i5(ss)({mutationCb:W,mousemoveCb:(e,t)=>w({type:i$.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>w({type:i$.IncrementalSnapshot,data:{source:iY.MouseInteraction,...e}}),scrollCb:G,viewportResizeCb:e=>w({type:i$.IncrementalSnapshot,data:{source:iY.ViewportResize,...e}}),inputCb:e=>w({type:i$.IncrementalSnapshot,data:{source:iY.Input,...e}}),mediaInteractionCb:e=>w({type:i$.IncrementalSnapshot,data:{source:iY.MediaInteraction,...e}}),styleSheetRuleCb:e=>w({type:i$.IncrementalSnapshot,data:{source:iY.StyleSheetRule,...e}}),styleDeclarationCb:e=>w({type:i$.IncrementalSnapshot,data:{source:iY.StyleDeclaration,...e}}),canvasMutationCb:K,fontCb:e=>w({type:i$.IncrementalSnapshot,data:{source:iY.Font,...e}}),selectionCb:e=>{w({type:i$.IncrementalSnapshot,data:{source:iY.Selection,...e}})},customElementCb:e=>{w({type:i$.IncrementalSnapshot,data:{source:iY.CustomElement,...e}})},blockClass:n,ignoreClass:a,ignoreSelector:l,maskTextClass:u,maskTextSelector:c,maskInputOptions:F,inlineStylesheet:h,sampling:v,recordDOM:k,recordCanvas:O,inlineImages:A,userTriggeredOnInput:R,collectFonts:D,doc:e,maskInputFn:f,maskTextFn:m,keepIframeSrcFn:P,blockSelector:o,slimDOMOptions:B,dataURLOptions:b,mirror:sO,iframeManager:Y,stylesheetManager:$,shadowDomManager:q,processedNodeManager:J,canvasManager:E,ignoreCSSAttributes:L,plugins:(null==(t=null==T?void 0:T.filter(e=>e.observer))?void 0:t.map(e=>({observer:e.observer,options:e.options,callback:t=>w({type:i$.Plugin,data:{plugin:e.name,payload:t}})})))||[]},y)};Y.addLoadListener(r=>{try{e.push(t(r.contentDocument))}catch(e){console.warn(e)}});let r=()=>{C(),e.push(t(document)),sk=!0};return"interactive"===document.readyState||"complete"===document.readyState?r():(e.push(ik("DOMContentLoaded",()=>{w({type:i$.DomContentLoaded,data:{}}),"DOMContentLoaded"===M&&r()})),e.push(ik("load",()=>{w({type:i$.Load,data:{}}),"load"===M&&r()},window))),()=>{e.forEach(e=>e()),J.destroy(),sk=!1,S=void 0}}catch(e){console.warn(e)}}sx.addCustomEvent=(e,t)=>{if(!sk)throw Error("please add custom event after start recording");w({type:i$.Custom,data:{tag:e,payload:t}})},sx.freezePage=()=>{i9.forEach(e=>e.freeze())},sx.takeFullSnapshot=e=>{if(!sk)throw Error("please take full snapshot after start recording");C(e)},sx.mirror=sO,(A=P||(P={}))[A.NotStarted=0]="NotStarted",A[A.Running=1]="Running",A[A.Stopped=2]="Stopped",r.record=sx},165760,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SessionReplayClient=void 0;let i=e.r(876110),s=e.r(276338);r.SessionReplayClient=class{constructor(){this._startTimestamp=null,this._endTimestamp=null}record(e,t,r,n=!1){var o,a;if(null==(0,s._getDocumentSafe)()||(this._startTimestamp=null,this._endTimestamp=null,this._stopCallback=r,this._stopFn))return;let l=(t,r)=>{var i,s,o;n?this._startTimestamp=r?t.timestamp:null!=(i=this._startTimestamp)?i:t.timestamp:null!=this._startTimestamp||(this._startTimestamp=t.timestamp),this._endTimestamp=t.timestamp;let a=0;3===(o=t).type&&2===o.data.source&&(2===o.data.type||4===o.data.type)&&a++,e(Object.assign(Object.assign({},t),{eventIndex:0}),{startTime:this._startTimestamp,endTime:this._endTimestamp,clickCount:a},null!=r&&r),this._endTimestamp-this._startTimestamp>144e5&&(null==(s=this._stopFn)||s.call(this),this._stopCallback&&this._stopCallback())};this._stopFn=(o=l,a=t,n?(0,i.record)(Object.assign(Object.assign({},a),{emit:o,checkoutEveryNms:3e4})):(0,i.record)(Object.assign(Object.assign({},a),{emit:o})))}stop(){this._stopFn&&(this._stopFn(),this._stopFn=void 0)}isRecording(){return null!=this._stopFn}}},239786,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._appendSlicedMetadata=r._slicePayload=r._makeLoggableRrwebEvent=r.MAX_LOGS=r.MAX_INDIVIDUAL_EVENT_BYTES=r.REPLAY_ENQUEUE_TRIGGER_BYTES=void 0;let i=e.r(276338);r.REPLAY_ENQUEUE_TRIGGER_BYTES=10240,r.MAX_INDIVIDUAL_EVENT_BYTES=0xa00000,r.MAX_LOGS=1e4,r._makeLoggableRrwebEvent=function(e,t,r,s,n){return{eventName:"statsig::session_recording",value:r,metadata:{session_start_ts:String(s.startTime),session_end_ts:String(s.endTime),clicks_captured_cumulative:String(s.clickCount),rrweb_events:e,rrweb_payload_size:String(t.length),session_replay_sdk_version:i.SDK_VERSION,sdk_instance_id:n}}},r._slicePayload=function(e){let t=[];for(let r=0;r<e.length;r+=1048576)t.push(e.slice(r,r+1048576));return t},r._appendSlicedMetadata=function(e,t,r,i,s){e.sliced_id=t,e.slice_index=String(r),e.slice_count=String(i),e.slice_byte_size=String(s)}},583445,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SessionReplayBase=r.forceStartRecording=r.startRecording=r.stopRecording=void 0;let i=e.r(276338),s=e.r(165760),n=e.r(239786);function o(e){var t,r;let s=null==e?(0,i._getStatsigGlobal)().firstSRInstance:null==(r=null==(t=(0,i._getStatsigGlobal)())?void 0:t.srInstances)?void 0:r[e];return s instanceof a?s:null}r.stopRecording=function(e){var t;null==(t=o(e))||t.stopRecording()},r.startRecording=function(e){var t;null==(t=o(e))||t.startRecording()},r.forceStartRecording=function(e){var t;null==(t=o(e))||t.forceStartRecording()};class a{constructor(e,t){this._sessionData={startTime:-1,endTime:0,clickCount:0},this._events=[],this._wasStopped=!1,this._currentEventIndex=0,this._totalLogs=0,this._client=e,this._options=t;const{sdkKey:r,errorBoundary:n}=this._client.getContext();if(this._errorBoundary=n,this._errorBoundary.wrap(this),this._replayer=new s.SessionReplayClient,this._client.$on("pre_shutdown",()=>this._shutdown()),this._client.on("session_expired",()=>{this._shutdown("session_expired")}),!(0,i._isServerEnv)()){const e=(0,i._getStatsigGlobal)();e.srInstances=Object.assign(Object.assign({},e.srInstances),{[r]:this}),e.firstSRInstance||(e.firstSRInstance=this)}this._currentSessionID=this._getSessionIdFromClient(),this._subscribeToVisibilityChanged()}forceStartRecording(){this._wasStopped=!1,this._attemptToStartRecording(!0)}stopRecording(){this._wasStopped=!0,this._shutdown()}startRecording(){var e;this._wasStopped=!1,this._attemptToStartRecording(null==(e=this._options)?void 0:e.forceRecording)}isRecording(){return this._replayer.isRecording()}_logRecording(e){0!==this._events.length&&(e=(0,i._isUnloading)()?"is_leaving_page":e,this._logRecordingWithSessionID(this._currentSessionID,e))}_onVisibilityChanged(e){"background"===e&&(this._logRecording(),this._client.flush().catch(e=>{this._errorBoundary.logError("SR::visibility",e)}))}_subscribeToVisibilityChanged(){let{sdkKey:e}=this._client.getContext();(0,i._subscribeToVisiblityChanged)(t=>{var r,s;let n=null==(s=null==(r=(0,i._getStatsigGlobal)())?void 0:r.srInstances)?void 0:s[e];n instanceof a&&n._onVisibilityChanged(t)})}_logRecordingWithSessionID(e,t){let r=this._sessionData;if(0===this._events.length)return;let s=JSON.stringify(this._events),o=(0,n._slicePayload)(s),a=o.length>1?(0,i.getUUID)():null;for(let l=0;l<o.length;l++){let u=o[l],c=(0,n._makeLoggableRrwebEvent)(u,s,e,r,this._client.getContext().sdkInstanceID);null!=a&&(0,n._appendSlicedMetadata)(c.metadata,a,l,o.length,u.length),t&&(c.metadata[t]="true"),this._totalLogs++,this._client.logEvent(c),null!=a&&this._client.flush().catch(e=>{i.Log.error(e)})}this._events=[],this._totalLogs>n.MAX_LOGS&&this._shutdown()}_bumpSessionIdleTimerAndLogRecording(){this._getSessionIdFromClient(),this._logRecording()}_getSessionIdFromClient(){return this._client.getContext().session.data.sessionID}_shutdownImpl(e){if(this._replayer.isRecording()){this._replayer.stop();let e=()=>{i.StatsigMetadataProvider.add({isRecordingSession:"false"}),this._client.off("logs_flushed",e)};this._client.$on("logs_flushed",e)}if(0===this._events.length){"session_expired"===e&&(this._currentEventIndex=0,this._sessionData=this._makeEmptySessionData());return}this._logRecording(e),"session_expired"===e&&(this._currentEventIndex=0,this._sessionData=this._makeEmptySessionData())}_makeEmptySessionData(){return{startTime:-1,endTime:0,clickCount:0}}_onRecordingEvent(e,t){if(this._currentSessionID!==this._getSessionIdFromClient())return void this._shutdown("session_expired");if(this._totalLogs>=n.MAX_LOGS)return void this._shutdown();e.eventIndex=this._currentEventIndex++,this._sessionData.clickCount+=t.clickCount,this._sessionData.startTime=-1===this._sessionData.startTime?t.startTime:Math.min(this._sessionData.startTime,t.startTime),this._sessionData.endTime=Math.max(this._sessionData.endTime,t.endTime);let r=(0,i._fastApproxSizeOf)(e,n.MAX_INDIVIDUAL_EVENT_BYTES);if(r>n.MAX_INDIVIDUAL_EVENT_BYTES)return void i.Log.warn(`SessionReplay event is too large (~${r} bytes) and will not be logged`,e);let s=(0,i._fastApproxSizeOf)(this._events,n.REPLAY_ENQUEUE_TRIGGER_BYTES);this._events.push(e),s+r<n.REPLAY_ENQUEUE_TRIGGER_BYTES||((0,i._isCurrentlyVisible)()?this._bumpSessionIdleTimerAndLogRecording():this._logRecording())}}r.SessionReplayBase=a},70201,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SessionReplay=r.runStatsigSessionReplay=r.StatsigSessionReplayPlugin=void 0;let i=e.r(276338),s=e.r(583445),n=e.r(239786);function o(e,t){new a(e,t)}r.StatsigSessionReplayPlugin=class{constructor(e){this.options=e,this.__plugin="session-replay"}bind(e){o(e,this.options)}},r.runStatsigSessionReplay=o;class a extends s.SessionReplayBase{constructor(e,t){var r;super(e,t),this._client.$on("values_updated",()=>{var e;this._wasStopped||this._attemptToStartRecording(null==(e=this._options)?void 0:e.forceRecording)}),this._attemptToStartRecording(null==(r=this._options)?void 0:r.forceRecording)}_shutdown(e){super._shutdownImpl(e)}_attemptToStartRecording(e=!1){var t,r;if(this._totalLogs>=n.MAX_LOGS)return;let s=this._client.getContext().values;(null==s?void 0:s.recording_blocked)!==!0&&(e||(null==s?void 0:s.can_record_session)===!0)&&(null==s?void 0:s.passes_session_recording_targeting)!==!1?this._replayer.isRecording()||(this._wasStopped=!1,i.StatsigMetadataProvider.add({isRecordingSession:"true"}),this._replayer.record((e,t)=>this._onRecordingEvent(e,t),null!=(r=null==(t=this._options)?void 0:t.rrwebConfig)?r:{},()=>{this._shutdown()})):this._shutdown()}}r.SessionReplay=a},919966,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TriggeredSessionReplay=r.runStatsigTriggeredSessionReplay=r.StatsigTriggeredSessionReplayPlugin=void 0;let i=e.r(276338),s=e.r(583445),n=e.r(239786);function o(e,t){new a(e,t)}r.StatsigTriggeredSessionReplayPlugin=class{constructor(e){this.options=e,this.__plugin="triggered-session-replay"}bind(e){o(e,this.options)}},r.runStatsigTriggeredSessionReplay=o;class a extends s.SessionReplayBase{constructor(e,t){var r;super(e,t),this._runningEventData=[],this._isActiveRecording=!1,this._subscribeToClientEvents(t),(null==t?void 0:t.autoStartRecording)?this._attemptToStartRecording(null==(r=this._options)?void 0:r.forceRecording):(null==t?void 0:t.keepRollingWindow)&&this._attemptToStartRollingWindow()}_subscribeToClientEvents(e){this._subscribeToValuesUpdated(e),this._subscribeToLogEventCalled(),this._subscribeToGateEvaluation(),this._subscribeToExperimentEvaluation()}_subscribeToValuesUpdated(e){this._client.$on("values_updated",()=>{var t;!this._wasStopped&&((null==e?void 0:e.autoStartRecording)?this._attemptToStartRecording(null==(t=this._options)?void 0:t.forceRecording):(null==e?void 0:e.keepRollingWindow)&&this._attemptToStartRollingWindow())})}_subscribeToLogEventCalled(){this._client.$on("log_event_called",e=>{var t;if(this._wasStopped)return;let r=this._client.getContext().values;if(!1===(null==r?void 0:r.passes_session_recording_targeting)||(null==r?void 0:r.session_recording_event_triggers)==null)return;let i=r.session_recording_event_triggers[e.event.eventName];if(null==i||!1===i.passes_sampling)return;let s=i.values;if(null==s||s.includes(String(null!=(t=e.event.value)?t:"")))return void this._attemptToStartRecording(!0)})}_subscribeToGateEvaluation(){this._client.$on("gate_evaluation",e=>{this._tryStartExposureRecording(e.gate.name,String(e.gate.value))})}_subscribeToExperimentEvaluation(){this._client.$on("experiment_evaluation",e=>{var t;this._tryStartExposureRecording(e.experiment.name,null!=(t=e.experiment.groupName)?t:"")})}_tryStartExposureRecording(e,t){var r;if(this._wasStopped)return;let s=this._client.getContext().values;if(!1===(null==s?void 0:s.passes_session_recording_targeting)||(null==s?void 0:s.session_recording_exposure_triggers)==null)return;let n=null!=(r=s.session_recording_exposure_triggers[e])?r:s.session_recording_exposure_triggers[(0,i._DJB2)(e)];if(null==n||!1===n.passes_sampling)return;let o=n.values;if(null==o||o.includes(t))return void this._attemptToStartRecording(!0)}forceStartRecording(){super.forceStartRecording()}stopRecording(){this._isActiveRecording=!1,this._runningEventData=[],super.stopRecording()}_handleStartActiveRecording(){if(this._isActiveRecording=!0,0===this._runningEventData.length)return;let e=this._runningEventData.map(e=>e.events).flat();for(let t=0;t<e.length;t++)e[t].event.eventIndex=t,this._sessionData.clickCount+=e[t].data.clickCount,this._sessionData.startTime=-1===this._sessionData.startTime?e[t].data.startTime:Math.min(this._sessionData.startTime,e[t].data.startTime),this._sessionData.endTime=Math.max(this._sessionData.endTime,e[t].data.endTime);this._events=e.map(e=>e.event),this._currentEventIndex=e.length,(0,i._isCurrentlyVisible)()?this._bumpSessionIdleTimerAndLogRecording():this._logRecording(),this._replayer.stop()}_shutdown(e){this._isActiveRecording=!1,this._runningEventData=[],super._shutdownImpl(e)}_onRecordingEvent(e,t,r){this._isActiveRecording?super._onRecordingEvent(e,t):this._currentSessionID!==this._getSessionIdFromClient()?this._shutdown("session_expired"):r&&4===e.type||0===this._runningEventData.length?(this._runningEventData.length>1&&this._runningEventData.shift(),this._runningEventData.push({events:[{event:e,data:t}]})):this._runningEventData[this._runningEventData.length-1].events.push({event:e,data:t})}_attemptToStartRollingWindow(){var e,t;let r=this._client.getContext().values;(null==r?void 0:r.passes_session_recording_targeting)===!1?this._shutdown():this._replayer.isRecording()||this._replayer.record((e,t,r)=>this._onRecordingEvent(e,t,r),null!=(t=null==(e=this._options)?void 0:e.rrwebConfig)?t:{},()=>{this._shutdown()},!0)}_attemptToStartRecording(e=!1){var t,r;if(this._totalLogs>=n.MAX_LOGS)return;let s=this._client.getContext().values;(null==s?void 0:s.recording_blocked)!==!0&&(e||(null==s?void 0:s.can_record_session)===!0)&&(null==s?void 0:s.passes_session_recording_targeting)!==!1?(this._handleStartActiveRecording(),this._wasStopped=!1,i.StatsigMetadataProvider.add({isRecordingSession:"true"}),this._replayer.isRecording()||this._replayer.record((e,t,r)=>this._onRecordingEvent(e,t,r),null!=(r=null==(t=this._options)?void 0:t.rrwebConfig)?r:{},()=>{this._shutdown()})):this._shutdown()}}r.TriggeredSessionReplay=a},309112,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.forceStartRecording=r.stopRecording=r.startRecording=r.StatsigTriggeredSessionReplayPlugin=r.StatsigSessionReplayPlugin=r.runStatsigTriggeredSessionReplay=r.runStatsigSessionReplay=r.SessionReplay=r.SessionReplayClient=void 0;let i=e.r(276338),s=e.r(70201);Object.defineProperty(r,"SessionReplay",{enumerable:!0,get:function(){return s.SessionReplay}}),Object.defineProperty(r,"StatsigSessionReplayPlugin",{enumerable:!0,get:function(){return s.StatsigSessionReplayPlugin}}),Object.defineProperty(r,"runStatsigSessionReplay",{enumerable:!0,get:function(){return s.runStatsigSessionReplay}});let n=e.r(583445);Object.defineProperty(r,"forceStartRecording",{enumerable:!0,get:function(){return n.forceStartRecording}}),Object.defineProperty(r,"startRecording",{enumerable:!0,get:function(){return n.startRecording}}),Object.defineProperty(r,"stopRecording",{enumerable:!0,get:function(){return n.stopRecording}});let o=e.r(165760);Object.defineProperty(r,"SessionReplayClient",{enumerable:!0,get:function(){return o.SessionReplayClient}});let a=e.r(919966);Object.defineProperty(r,"StatsigTriggeredSessionReplayPlugin",{enumerable:!0,get:function(){return a.StatsigTriggeredSessionReplayPlugin}}),Object.defineProperty(r,"runStatsigTriggeredSessionReplay",{enumerable:!0,get:function(){return a.runStatsigTriggeredSessionReplay}}),Object.assign((0,i._getStatsigGlobal)(),{SessionReplayClient:o.SessionReplayClient,SessionReplay:s.SessionReplay,runStatsigSessionReplay:s.runStatsigSessionReplay,runStatsigTriggeredSessionReplay:a.runStatsigTriggeredSessionReplay,StatsigSessionReplayPlugin:s.StatsigSessionReplayPlugin,StatsigTriggeredSessionReplayPlugin:a.StatsigTriggeredSessionReplayPlugin,startRecording:n.startRecording,stopRecording:n.stopRecording,forceStartRecording:n.forceStartRecording})},230416,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AutoCaptureEventName=void 0,r.AutoCaptureEventName={PAGE_VIEW:"auto_capture::page_view",PAGE_VIEW_END:"auto_capture::page_view_end",ERROR:"auto_capture::error",SESSION_START:"auto_capture::session_start",PERFORMANCE:"auto_capture::performance",FORM_SUBMIT:"auto_capture::form_submit",CLICK:"auto_capture::click",RAGE_CLICK:"auto_capture::rage_click",WEB_VITALS:"auto_capture::web_vitals",DEAD_CLICK:"auto_capture::dead_click",COPY:"auto_capture::copy",CONSOLE_LOG:"statsig::log_line"}},91030,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.wrapFunctionWithRestore=r.throttle=r._sanitizeString=r._getAnchorNodeInHierarchy=r._getSafeTimezoneOffset=r._getSafeTimezone=r._getSafeNetworkInformation=r._registerEventHandler=r._getSanitizedPageUrl=r._getSafeUrlString=r._getSafeUrl=r._shouldLogEvent=r._getTargetNode=r._stripEmptyValues=r.interactiveElements=void 0;let i=e.r(276338),s=RegExp("^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$"),n=RegExp("^(\\d{3}-?\\d{2}-?\\d{4})$");function o(){var e,t,r;let s,n=null!=(r=null==(t=null==(e=(0,i._getWindowSafe)())?void 0:e.location)?void 0:t.href)?r:"";try{s=new URL(n)}catch(e){s=new URL("error:")}return s}function a(e){if(!e)return null;let t=e;for(;t&&!["body","document"].includes(t.tagName.toLowerCase());){if("a"===t.tagName.toLowerCase())return t;t=t.parentElement}return null}r.interactiveElements=["button","a","input","select","textarea","form","select","label"],r._stripEmptyValues=function(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>null!=t&&""!==t&&void 0!==t))},r._getTargetNode=function(e){if(!e)return null;let t=e.target||e.srcElement;return t&&t instanceof Element?(3===t.nodeType&&(t=t.parentNode||null),t):null},r._shouldLogEvent=function(e,t,i=!1){if(!e||!t||1!==t.nodeType)return!1;let s=t.tagName.toLowerCase(),n=e.type.toLowerCase();if(t.classList.contains("statsig-no-capture"))return!1;if(i)return!0;switch(s){case"html":return!1;case"form":return["submit"].indexOf(n)>=0;case"input":case"select":case"textarea":return["change","click"].indexOf(n)>=0;default:if("click"===n){let e=window.getComputedStyle(t);if(e&&"pointer"===e.getPropertyValue("cursor")||r.interactiveElements.includes(s)||"true"===t.getAttribute("contenteditable")||a(t))return!0}return!1}},r._getSafeUrl=o,r._getSafeUrlString=function(){let e=o().toString();return e.startsWith("error:")?"":e},r._getSanitizedPageUrl=function(){return(0,i._getCurrentPageUrlSafe)()||""},r._registerEventHandler=function(e,t,r){e&&e.addEventListener&&e.addEventListener(t,r,!0)},r._getSafeNetworkInformation=function(){let e=(0,i._getWindowSafe)();if(!e||!e.navigator)return null;let t=e.navigator.connection;return t||null},r._getSafeTimezone=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return null}},r._getSafeTimezoneOffset=function(){try{return new Date().getTimezoneOffset()}catch(e){return null}},r._getAnchorNodeInHierarchy=a,r._sanitizeString=function(e){return e?e.replace(/<[^>]*>/g,"").trim().split(/(\s+)/).filter(e=>{var t;return t=e,!(s.test((t||"").replace(/[- ]/g,""))||n.test((t||"").replace(/[- ]/g,"")))}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255):null},r.throttle=function(e,t){let r=0;return function(...i){let s=Date.now();s-r>=t&&(r=s,e(...i))}},r.wrapFunctionWithRestore=function(e,t,r){let i=e[t];if("function"!=typeof i)return()=>{};try{let s=r(i);return Object.defineProperty(s,"__statsig_original__",{enumerable:!1,value:i}),e[t]=s,()=>{e[t]=i}}catch(e){return()=>{}}}},486342,(e,t,r)=>{"use strict";function i(e,t){return e.length<=t?e:e.slice(0,t)+"..."}Object.defineProperty(r,"__esModule",{value:!0}),r._getStackTrace=r._safeStringify=void 0,r._safeStringify=function(e,t,r,s){try{var n,o,a,l,u,c;if(n=e,o=t,a=r,l=n,"[object Object]"===Object.prototype.toString.call(l)&&(Object.keys(n).length>o||function e(t,r){return r<=0||"object"==typeof t&&null!==t&&Object.keys(t).some(i=>e(t[i],r-1))}(n,a))||"function"==typeof n){return u=e,c=s,i(u.toString(),c)}if("string"==typeof e)return i(e,s);if("object"==typeof e&&null!==e)return i(JSON.stringify(e),s);return i(String(e),s)}catch(e){return i("[Unserializable]",s)}},r._getStackTrace=function(){var e,t;try{return null!=(t=null==(e=Error().stack)?void 0:e.split("\n").slice(2))?t:[]}catch(e){return[]}}},969852,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._getPossibleFirstTouchMetadata=r._getNetworkInfo=r._gatherAllMetadata=r._gatherCommonMetadata=void 0;let i=e.r(276338),s=e.r(91030);function n(e){var t,r,n,a,l,u,c,h;let d=(0,i._getDocumentSafe)(),p=(0,i._getWindowSafe)();return(0,s._stripEmptyValues)(Object.assign({title:null==d?void 0:d.title,current_url:null==(t=null==p?void 0:p.location)?void 0:t.href,user_agent:(null==(r=null==p?void 0:p.navigator)?void 0:r.userAgent)&&(null==(a=null==(n=null==p?void 0:p.navigator)?void 0:n.userAgent)?void 0:a.length)>200?p.navigator.userAgent.substring(0,200):null==(l=null==p?void 0:p.navigator)?void 0:l.userAgent,locale:null==(u=null==p?void 0:p.navigator)?void 0:u.language,hostname:e.hostname,pathname:e.pathname,screen_width:null==(c=null==p?void 0:p.screen)?void 0:c.width,screen_height:null==(h=null==p?void 0:p.screen)?void 0:h.height,viewport_width:null==p?void 0:p.innerWidth,viewport_height:null==p?void 0:p.innerHeight,viewport:`${null==p?void 0:p.innerWidth}x${null==p?void 0:p.innerHeight}`,timestamp:Date.now(),timezone:(0,s._getSafeTimezone)(),timezone_offset:(0,s._getSafeTimezoneOffset)()},o()))}function o(){let e=(0,s._getSafeNetworkInformation)(),t={};return(null==e?void 0:e.effectiveType)!==void 0&&(t.effective_connection_type=e.effectiveType),(null==e?void 0:e.rtt)!==void 0&&(t.rtt_ms=e.rtt),(null==e?void 0:e.downlink)!==void 0&&(t.downlink_mbps=e.downlink,t.downlink_kbps=1e3*e.downlink),(null==e?void 0:e.saveData)!==void 0&&(t.save_data=e.saveData),t}function a(e){let t=(null==e?void 0:e.referrer)||"";if(!t)return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""};try{let e=new URL(t),r=e.hostname,i=["google","bing","yahoo","duckduckgo","baidu"].find(e=>r.includes(e+"."))||"",s=e.searchParams.get("yahoo"===i?"p":"q")||"";return{referrer:t,referrer_domain:e.hostname,referrer_path:e.pathname,searchEngine:i,searchQuery:s}}catch(e){return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""}}}function l(e){let t=e.searchParams,r={};return["utm_source","utm_medium","utm_campaign","utm_term","utm_content","msclkid","dclid","fbclid","gad_source","gclid","gclsrc","wbraid","utm_id","irclid","igshid","_kx","li_fat_id","mc_cid","mc_eid","epik","qclid","rdt_cid","sccid","ttc","ttclid","ttc_id","twclid"].forEach(e=>{let i=t.get(e);i&&(r[e]=i)}),r}r._gatherCommonMetadata=n,r._gatherAllMetadata=function(e){let t=(0,i._getDocumentSafe)(),r=(0,i._getWindowSafe)();if(!t||!r)return{};let o=a(t),u=n(e),c=l(e),h={};return e.searchParams.forEach((e,t)=>{h[t]=e}),Object.assign(Object.assign({},u),(0,s._stripEmptyValues)(Object.assign(Object.assign(Object.assign({},o),c),h)))},r._getNetworkInfo=o,r._getPossibleFirstTouchMetadata=function(e){let t=(0,i._getDocumentSafe)(),r=(0,i._getWindowSafe)();if(!t||!r)return{};let n=a(t),o=l(e),u=(0,s._stripEmptyValues)(Object.assign(Object.assign({},n),o)),c={};for(let[e,t]of Object.entries(u))c[`$s_${e}`]=t;return c}},758194,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ConsoleLogManager=void 0;let i=e.r(276338),s=e.r(230416),n=e.r(91030),o=e.r(486342),a=e.r(969852),l={trace:10,debug:20,log:30,info:30,warn:40,error:50};r.ConsoleLogManager=class{constructor(e,t,r){var i,s,n,o;this._enqueueFn=e,this._errorBoundary=t,this._options=r,this._restoreFns=[],this._isTracking=!1,this._logLevel="info",this.__source="js-auto-capture",this._logLevel=null!=(i=this._options.logLevel)?i:"info",this._maxKeys=null!=(s=this._options.maxKeys)?s:10,this._maxDepth=null!=(n=this._options.maxDepth)?n:10,this._maxStringLength=null!=(o=this._options.maxStringLength)?o:500}startTracking(){try{if(this._isTracking||!this._options.enabled||!(0,i._getWindowSafe)())return;this._patchConsole(),this._isTracking=!0}catch(e){i.Log.error("Error starting console log tracking",e),this._errorBoundary.logError("autoCapture:ConsoleLogManager",e)}}stopTracking(){this._isTracking&&(this._restoreFns.forEach(e=>e()),this._restoreFns=[],this._isTracking=!1)}_patchConsole(){Object.entries(l).forEach(([e,t])=>{if(t<l[this._logLevel]||!console[e])return;let r=console[e].bind(console),i=!1,s=(0,n.wrapFunctionWithRestore)(console,e,t=>(...s)=>{if(t(...s),!i){i=!0;try{let t=s.map(e=>(0,o._safeStringify)(e,this._maxKeys,this._maxDepth,this._maxStringLength)),r=(0,o._getStackTrace)();this._enqueueConsoleLog(e,t,r)}catch(e){r("console observer error:",e,...s),this._errorBoundary.logError("autoCapture:ConsoleLogManager",e)}finally{i=!1}}});this._restoreFns.push(s)})}_enqueueConsoleLog(e,t,r){if(!this._shouldLog())return;let i=Object.assign({status:"log"===e?"info":e,log_level:e,payload:t,trace:r,timestamp:Date.now(),source:this.__source},(0,a._gatherAllMetadata)((0,n._getSafeUrl)()));this._enqueueFn(s.AutoCaptureEventName.CONSOLE_LOG,t.join(" "),i)}_shouldLog(){return!this._options.sampleRate||"number"!=typeof this._options.sampleRate||this._options.sampleRate<=0||this._options.sampleRate>=1||Math.random()<this._options.sampleRate}}},99839,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._getMetadataFromElement=r._gatherCopyEventData=r._gatherEventData=void 0;let i=e.r(276338),s=e.r(91030);function n(e,t){return e?e.length>t?e.substring(0,t)+"...":e:null}function o(e){let t={};return t.class=(n(e.getAttribute("class"),1e3)||"").replace(/\s+/g," ").trim(),t.id=n(e.getAttribute("id"),1e3),t.ariaLabel=n(e.getAttribute("aria-label"),1e3),t.name=n(e.getAttribute("name"),1e3),t}function a(e){let t={};Object.assign(t,o(e));let r=Array.from(e.classList);return t.classList=r.length>0?r.slice(0,100):null,t.selector=function(e){if(!e)return"";if(!e.parentNode){let t=e.tagName.toLowerCase();if(e.id)return`#${e.id}`;let r=t;if(e.className&&"string"==typeof e.className){let t=e.className.trim().split(/\s+/);t.length>0&&""!==t[0]&&(r+="."+t.join("."))}return r}let t=[],r=e,i=0;for(;r&&r.nodeType===Node.ELEMENT_NODE&&i<50;){let e=function(e){let t=e.tagName.toLowerCase();if(e.id)return`#${e.id}`;let r=t;if(e.className&&"string"==typeof e.className){let t=e.className.trim().split(/\s+/);t.length>0&&""!==t[0]&&(r+="."+t.join("."))}let i=e.parentElement;if(i&&i.children.length>1){let t=1,i=1,s=e.previousElementSibling;for(;s;)t++,s.tagName===e.tagName&&i++,s=s.previousElementSibling;r+=`:nth-child(${t})`,(i>1||function(e){let t=e.nextElementSibling;for(;t;){if(t.tagName===e.tagName)return!0;t=t.nextElementSibling}return!1}(e))&&(r+=`:nth-of-type(${i})`)}return r}(r);if(t.unshift(e),r.id||(r=r.parentElement)&&"body"===r.tagName.toLowerCase())break;i++}return t.join(" > ")}(e),t}r._gatherEventData=function(e){var t,r,i,n,l;let u,c,h,d,p=(0,s._getSanitizedPageUrl)()||"",g=e.tagName.toLowerCase();if("input"===(t=e).tagName.toLowerCase()&&["button","checkbox","submit","reset"].includes(t.getAttribute("type")||"")||"textarea"===t.tagName.toLowerCase()||"select"===t.tagName.toLowerCase()||"true"===t.getAttribute("contenteditable"))return{value:p,metadata:o(e)};let f={};f.tagName=g,Object.assign(f,a(e)),"form"===g&&Object.assign(f,((u={}).action=(r=e).getAttribute("action"),u.method=null!=(i=r.getAttribute("method"))?i:"GET",u.formName=r.getAttribute("name"),u.formId=r.getAttribute("id"),u)),"input"===g&&Object.assign(f,((c={}).content=(n=e).value,c.inputName=n.getAttribute("name"),c));let m=(0,s._getAnchorNodeInHierarchy)(e);return m&&Object.assign(f,((h={}).href=m.getAttribute("href"),h)),("button"===g||m)&&Object.assign(f,((d={}).content=((l=m||e).textContent||"").trim(),Object.assign(d,function(e){let t={};if(!e)return t;let r=null==e?void 0:e.dataset;if(!r)return t;for(let e in r)t[`data-${e}`]=r[e]||"";return t}(l)),d)),function(e){var t;if(Array.isArray(e.classList)&&(null==(t=e.classList)?void 0:t.includes("statsig-ctr-capture")))return!0;let r=e.href;if(r)try{let e=(0,s._getSafeUrl)(),t=new URL(r);return e.host!==t.host}catch(e){}return!1}(f)&&(f.isOutbound="true"),{value:p,metadata:f}},r._gatherCopyEventData=function(e){var t,r;let n=null==(r=null==(t=(0,i._getWindowSafe)())?void 0:t.getSelection())?void 0:r.toString(),o={};return o.selectedText=(0,s._sanitizeString)(n),o.clipType=e.type||"clipboard",o},r._getMetadataFromElement=a},213031,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DeadClickConfig=void 0;let i=e.r(276338),s=e.r(230416),n=e.r(91030),o=e.r(99839),a=e.r(969852);r.DeadClickConfig={CLICK_CHECK_TIMEOUT:1e3,SCROLL_DELAY_MS:100,SELECTION_CHANGE_DELAY_MS:100,MUTATION_DELAY_MS:2500,ABSOLUTE_DEAD_CLICK_TIMEOUT:2750},r.default=class{constructor(e,t){this._enqueueFn=e,this._errorBoundary=t,this._lastMutationTime=0,this._lastSelectionChangeTime=0,this._clicks=[],this._deadClickConfig=r.DeadClickConfig,this._handleScroll=(0,n.throttle)(()=>{let e=Date.now();this._clicks.forEach(t=>{t.scrollDelayMs||(t.scrollDelayMs=e-t.timestamp)})},50)}startTracking(){try{let e=(0,i._getWindowSafe)();if(!e)return;e.addEventListener("click",e=>this._handleClick(e),{capture:!0}),e.addEventListener("scroll",()=>this._handleScroll(),{capture:!0,passive:!0}),e.addEventListener("selectionchange",()=>this._handleSelectionChange()),this._setupMutationObserver()}catch(e){i.Log.error("Error starting dead click tracking",e),this._errorBoundary.logError("autoCapture:DeadClickManager",e)}}_handleClick(e){var t,r;let s=e.target;if(!s)return;let o={timestamp:Date.now(),eventTarget:s};n.interactiveElements.includes(null==(t=null==s?void 0:s.tagName)?void 0:t.toLowerCase())||this._clicks.push(o),this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=null==(r=(0,i._getWindowSafe)())?void 0:r.setTimeout(()=>{this._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}_handleSelectionChange(){this._lastSelectionChangeTime=Date.now()}_setupMutationObserver(){let e=(0,i._getDocumentSafe)();e&&(this._observer=new MutationObserver(()=>{this._lastMutationTime=Date.now()}),this._observer.observe(e.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0}))}_checkForDeadClick(){var e;if(!this._clicks.length)return;clearTimeout(this._clickCheckTimer),this._clickCheckTimer=void 0;let t=this._clicks;for(let e of(this._clicks=[],t)){this._updateClickDelayMs(e);let t=null!=e.scrollDelayMs&&e.scrollDelayMs<this._deadClickConfig.SCROLL_DELAY_MS,r=null!=e.selectionChangeDelayMs&&e.selectionChangeDelayMs<this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,i=null!=e.mutationDelayMs&&e.mutationDelayMs<this._deadClickConfig.MUTATION_DELAY_MS;if(t||r||i)continue;let s=null!=e.scrollDelayMs&&e.scrollDelayMs>this._deadClickConfig.SCROLL_DELAY_MS,n=null!=e.selectionChangeDelayMs&&e.selectionChangeDelayMs>this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,o=null!=e.mutationDelayMs&&e.mutationDelayMs>this._deadClickConfig.MUTATION_DELAY_MS,a=null!=e.absoluteDelayMs&&e.absoluteDelayMs>this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT;s||n||o||a?this._logDeadClick(e,{scrollTimeout:s,selectionChangeTimeout:n,mutationTimeout:o,absoluteTimeout:a}):null!=e.absoluteDelayMs&&e.absoluteDelayMs<this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT&&this._clicks.push(e)}this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=null==(e=(0,i._getWindowSafe)())?void 0:e.setTimeout(()=>{this._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}_logDeadClick(e,t){let{value:r,metadata:i}=(0,o._gatherEventData)(e.eventTarget);r&&this._enqueueFn(s.AutoCaptureEventName.DEAD_CLICK,r,Object.assign(Object.assign(Object.assign(Object.assign({},i),t),(0,a._gatherCommonMetadata)((0,n._getSafeUrl)())),{scrollDelayMs:e.scrollDelayMs,selectionChangeDelayMs:e.selectionChangeDelayMs,mutationDelayMs:e.mutationDelayMs,absoluteDelayMs:e.absoluteDelayMs}))}_updateClickDelayMs(e){!e.mutationDelayMs&&this._lastMutationTime>0&&e.timestamp<=this._lastMutationTime&&(e.mutationDelayMs=Date.now()-this._lastMutationTime),!e.selectionChangeDelayMs&&this._lastSelectionChangeTime>0&&e.timestamp<=this._lastSelectionChangeTime&&(e.selectionChangeDelayMs=Date.now()-this._lastSelectionChangeTime),e.absoluteDelayMs=Date.now()-e.timestamp}}},429844,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EngagementManager=void 0;let i=e.r(276338);r.EngagementManager=class{constructor(){this._lastScrollY=0,this._maxScrollY=0,this._lastScrollPercentage=0,this._maxScrollPercentage=0,this._lastPageViewTime=Date.now(),this._inactiveTimer=null,this._onInactivityCallback=null,this._meaningfulEngagementOccurred=!1,this._initializeScrollTracking()}_initializeScrollTracking(){let e=(0,i._getWindowSafe)();e&&(e.addEventListener("scroll",()=>this._handleScroll()),e.addEventListener("scrollend",()=>this._handleScroll()),e.addEventListener("resize",()=>this._handleScroll()))}_handleScroll(){let e=(0,i._getWindowSafe)(),t=(0,i._getDocumentSafe)();if(!e||!t)return;let r=t.body.scrollHeight,s=e.scrollY||t.documentElement.scrollTop||0,n=e.innerHeight;this._lastScrollY=s,this._maxScrollY=Math.max(this._maxScrollY,s);let o=Math.min(100,Math.round((s+n)/r*100));this._lastScrollPercentage=o,this._maxScrollPercentage=Math.max(this._maxScrollPercentage,o),this.bumpInactiveTimer()}getScrollMetrics(){return{lastScrollY:this._lastScrollY,maxScrollY:this._maxScrollY,lastScrollPercentage:this._lastScrollPercentage,maxScrollPercentage:this._maxScrollPercentage,scrollDepth:this._maxScrollPercentage}}getPageViewLength(){return Date.now()-this._lastPageViewTime}setLastPageViewTime(e){this._lastPageViewTime=e}startInactivityTracking(e){this._onInactivityCallback=e}bumpInactiveTimer(){let e=(0,i._getWindowSafe)();e&&(this._inactiveTimer&&clearTimeout(this._inactiveTimer),this._inactiveTimer=e.setTimeout(()=>{this._onInactivityCallback&&this._onInactivityCallback()},6e5))}setMeaningfulEngagementOccurred(e){this._meaningfulEngagementOccurred=e}getPageViewEndMetadata(){let e=Object.assign(Object.assign({},this.getScrollMetrics()),{pageViewLength:this.getPageViewLength(),meaningfulEngagementOccurred:this._meaningfulEngagementOccurred});return this.setMeaningfulEngagementOccurred(!1),e}}},19628,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=class{constructor(){this._clicks=[]}isRageClick(e,t,r){var i;return this._clicks=this._clicks.filter(e=>r-e.timestamp<1e3),this._clicks.length>0&&!(Math.abs(e-(i=this._clicks[this._clicks.length-1]).x)+Math.abs(t-i.y)<=30)&&(this._clicks=[]),this._clicks.push({x:e,y:t,timestamp:r}),this._clicks.length>=3}}},317853,(e,t,r)=>{e.e,function(e){"use strict";let t,r=-1,i=e=>{addEventListener("pageshow",t=>{t.persisted&&(r=t.timeStamp,e(t))},!0)},s=(e,t,r,i)=>{let s,n;return o=>{let a;t.value>=0&&(o||i)&&((n=t.value-(s??0))||void 0===s)&&(s=t.value,t.delta=n,a=t.value,t.rating=a>r[1]?"poor":a>r[0]?"needs-improvement":"good",e(t))}},n=e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))},o=()=>{let e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},a=()=>{let e=o();return e?.activationStart??0},l=(e,t=-1)=>{let i=o(),s="navigate";return r>=0?s="back-forward-cache":i&&(document.prerendering||a()>0?s="prerender":document.wasDiscarded?s="restore":i.type&&(s=i.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(0x82f79cd8fff*Math.random())+1e12}`,navigationType:s}},u=new WeakMap;function c(e,t){return u.get(e)||u.set(e,new t),u.get(e)}class h{t;i=0;o=[];h(e){if(e.hadRecentInput)return;let t=this.o[0],r=this.o.at(-1);this.i&&t&&r&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}}let d=(e,t,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let i=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return i.observe({type:e,buffered:!0,...r}),i}}catch{}},p=e=>{let t=!1;return()=>{t||(e(),t=!0)}},g=-1,f=()=>"hidden"!==document.visibilityState||document.prerendering?1/0:0,m=e=>{"hidden"===document.visibilityState&&g>-1&&(g="visibilitychange"===e.type?e.timeStamp:0,_())},y=()=>{addEventListener("visibilitychange",m,!0),addEventListener("prerenderingchange",m,!0)},_=()=>{removeEventListener("visibilitychange",m,!0),removeEventListener("prerenderingchange",m,!0)},v=()=>{if(g<0){let e=a();g=(document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime)??f(),y(),i(()=>{setTimeout(()=>{g=f(),y()})})}return{get firstHiddenTime(){return g}}},b=e=>{document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},S=[1800,3e3],w=(e,t={})=>{b(()=>{let r=v(),o,u=l("FCP"),c=d("paint",e=>{for(let t of e)"first-contentful-paint"===t.name&&(c.disconnect(),t.startTime<r.firstHiddenTime&&(u.value=Math.max(t.startTime-a(),0),u.entries.push(t),o(!0)))});c&&(o=s(e,u,S,t.reportAllChanges),i(r=>{o=s(e,u=l("FCP"),S,t.reportAllChanges),n(()=>{u.value=performance.now()-r.timeStamp,o(!0)})}))})},C=[.1,.25],E=0,I=1/0,k=0,O=e=>{for(let t of e)t.interactionId&&(I=Math.min(I,t.interactionId),E=(k=Math.max(k,t.interactionId))?(k-I)/7+1:0)},x=()=>t?E:performance.interactionCount??0,M=0;class R{u=[];l=new Map;m;p;v(){M=x(),this.u.length=0,this.l.clear()}T(){let e=Math.min(this.u.length-1,Math.floor((x()-M)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&"first-input"!==e.entryType)return;let t=this.u.at(-1),r=this.l.get(e.interactionId);if(r||this.u.length<10||e.duration>t.P){if(r?e.duration>r.P?(r.entries=[e],r.P=e.duration):e.duration===r.P&&e.startTime===r.entries[0].startTime&&r.entries.push(e):(r={id:e.interactionId,entries:[e],P:e.duration},this.l.set(r.id,r),this.u.push(r)),this.u.sort((e,t)=>t.P-e.P),this.u.length>10)for(let e of this.u.splice(10))this.l.delete(e.id);this.p?.(r)}}}let D=e=>{let t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(e=p(e),document.addEventListener("visibilitychange",e,{once:!0}),t(()=>{e(),document.removeEventListener("visibilitychange",e)}))},A=[200,500];class T{m;h(e){this.m?.(e)}}let P=[2500,4e3],L=[800,1800],N=e=>{document.prerendering?b(()=>N(e)):"complete"!==document.readyState?addEventListener("load",()=>N(e),!0):setTimeout(e)};e.CLSThresholds=C,e.FCPThresholds=S,e.INPThresholds=A,e.LCPThresholds=P,e.TTFBThresholds=L,e.onCLS=(e,t={})=>{w(p(()=>{let r,o=l("CLS",0),a=c(t,h),u=e=>{for(let t of e)a.h(t);a.i>o.value&&(o.value=a.i,o.entries=a.o,r())},p=d("layout-shift",u);p&&(r=s(e,o,C,t.reportAllChanges),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&(u(p.takeRecords()),r(!0))}),i(()=>{a.i=0,r=s(e,o=l("CLS",0),C,t.reportAllChanges),n(()=>r())}),setTimeout(r))}))},e.onFCP=w,e.onINP=(e,r={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&b(()=>{"interactionCount"in performance||t||(t=d("event",O,{type:"event",buffered:!0,durationThreshold:0}));let n,o=l("INP"),a=c(r,R),u=e=>{D(()=>{for(let t of e)a.h(t);let t=a.T();t&&t.P!==o.value&&(o.value=t.P,o.entries=t.entries,n())})},h=d("event",u,{durationThreshold:r.durationThreshold??40});n=s(e,o,A,r.reportAllChanges),h&&(h.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&(u(h.takeRecords()),n(!0))}),i(()=>{a.v(),n=s(e,o=l("INP"),A,r.reportAllChanges)}))})},e.onLCP=(e,t={})=>{b(()=>{let r=v(),o,u=l("LCP"),h=c(t,T),g=e=>{for(let i of(t.reportAllChanges||(e=e.slice(-1)),e))h.h(i),i.startTime<r.firstHiddenTime&&(u.value=Math.max(i.startTime-a(),0),u.entries=[i],o())},f=d("largest-contentful-paint",g);if(f){o=s(e,u,P,t.reportAllChanges);let r=p(()=>{g(f.takeRecords()),f.disconnect(),o(!0)});for(let e of["keydown","click","visibilitychange"])addEventListener(e,()=>D(r),{capture:!0,once:!0});i(r=>{o=s(e,u=l("LCP"),P,t.reportAllChanges),n(()=>{u.value=performance.now()-r.timeStamp,o(!0)})})}})},e.onTTFB=(e,t={})=>{let r=l("TTFB"),n=s(e,r,L,t.reportAllChanges);N(()=>{let u=o();u&&(r.value=Math.max(u.responseStart-a(),0),r.entries=[u],n(!0),i(()=>{(n=s(e,r=l("TTFB",0),L,t.reportAllChanges))(!0)}))})}}(r)},823262,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.WebVitalsManager=void 0;let i=e.r(317853),s=e.r(276338),n=e.r(230416),o=e.r(91030),a=["CLS","FCP","INP","LCP","TTFB"];r.WebVitalsManager=class{constructor(e,t){this._enqueueFn=e,this._errorBoundary=t,this._isInitialized=!1,this._metricEvent={url:(0,o._getSafeUrlString)(),sanitizedUrl:(0,o._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}startTracking(){var e,t;try{if(this._isInitialized)return;let r=null==(t=null==(e=(0,s._getWindowSafe)())?void 0:e.location)?void 0:t.protocol;if("https:"!==r&&"http:"!==r)return;(0,i.onCLS)(e=>this._handleMetric(e)),(0,i.onFCP)(e=>this._handleMetric(e)),(0,i.onINP)(e=>this._handleMetric(e)),(0,i.onLCP)(e=>this._handleMetric(e)),(0,i.onTTFB)(e=>this._handleMetric(e)),this._isInitialized=!0}catch(e){s.Log.error("Error starting web vitals tracking",e),this._errorBoundary.logError("autoCapture:WebVitalsManager",e)}}_handleMetric(e){if(void 0===this._metricEvent.firstMetricTimestamp&&(this._metricEvent.firstMetricTimestamp=Date.now()),void 0===e||(null==e?void 0:e.name)===void 0)return;let t=(0,o._getSafeUrlString)();""!==t&&a.includes(e.name)&&(t!==this._metricEvent.url&&(this._enqueueWebVitalsAutoCaptureEvent(),this._metricEvent.url=t),this._metricEvent.metrics.push({name:e.name,value:e.value,delta:e.delta,id:e.id}),this._metricEvent.metrics.length===a.length&&this._enqueueWebVitalsAutoCaptureEvent())}_enqueueWebVitalsAutoCaptureEvent(){if(""===this._metricEvent.url||0===this._metricEvent.metrics.length)return;let e={};this._metricEvent.metrics.forEach(t=>{let r=t.name.toLowerCase();e[`${r}_value`]=t.value,e[`${r}_delta`]=t.delta,e[`${r}_id`]=t.id}),this._enqueueFn(n.AutoCaptureEventName.WEB_VITALS,this._metricEvent.sanitizedUrl,Object.assign(Object.assign({},e),{first_metric_timestamp:this._metricEvent.firstMetricTimestamp})),this._metricEvent={url:(0,o._getSafeUrlString)(),sanitizedUrl:(0,o._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}}},848542,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AutoCapture=r.runStatsigAutoCapture=r.StatsigAutoCapturePlugin=void 0;let i=e.r(276338),s=e.r(230416),n=e.r(758194),o=e.r(213031),a=e.r(429844),l=e.r(19628),u=e.r(823262),c=e.r(91030),h=e.r(99839),d=e.r(969852),p={submit:s.AutoCaptureEventName.FORM_SUBMIT,click:s.AutoCaptureEventName.CLICK,copy:s.AutoCaptureEventName.COPY,cut:s.AutoCaptureEventName.COPY};function g(e,t){var r;let{sdkKey:s}=e.getContext();if(!(0,i._isServerEnv)()){let e=null!=(r=(0,i._getStatsigGlobal)().acInstances)?r:{};if(e[s])return e[s]}return new f(e,t)}r.StatsigAutoCapturePlugin=class{constructor(e){this._options=e,this.__plugin="auto-capture"}bind(e){g(e,this._options)}},r.runStatsigAutoCapture=g;class f{constructor(e,t){var r,s,c,h;this._client=e,this._disabledEvents={},this._previousLoggedPageViewUrl=null,this._hasLoggedPageViewEnd=!1,this._pageViewLogged=!1;const{sdkKey:d,errorBoundary:p,values:g}=e.getContext();this._options=t,this._disabledEvents=null!=(s=null==(r=null==g?void 0:g.auto_capture_settings)?void 0:r.disabled_events)?s:{},this._errorBoundary=p,this._errorBoundary.wrap(this,"autoCapture:"),this._client.$on("values_updated",()=>{var e,t;let r=this._client.getContext().values;this._disabledEvents=null!=(t=null==(e=null==r?void 0:r.auto_capture_settings)?void 0:e.disabled_events)?t:this._disabledEvents}),this._engagementManager=new a.EngagementManager,this._rageClickManager=new l.default,this._webVitalsManager=new u.WebVitalsManager(this._enqueueAutoCapture.bind(this),p),this._deadClickManager=new o.default(this._enqueueAutoCapture.bind(this),p),this._consoleLogManager=new n.ConsoleLogManager(this._enqueueAutoCapture.bind(this),p,null!=(c=null==t?void 0:t.consoleLogAutoCaptureSettings)?c:{enabled:!1}),this._eventFilterFunc=null==t?void 0:t.eventFilterFunc;const f=(0,i._getDocumentSafe)();if(!(0,i._isServerEnv)()){const e=null!=(h=(__STATSIG__=(0,i._getStatsigGlobal)()).acInstances)?h:{};e[d]=this,__STATSIG__.acInstances=e}if((null==f?void 0:f.readyState)==="loading")return void f.addEventListener("DOMContentLoaded",()=>this._initialize());this._initialize()}_addEventHandlers(){let e=(0,i._getWindowSafe)(),t=(0,i._getDocumentSafe)();if(!e||!t)return;let r=(e,t=!0)=>{var r;let s=e||(null==(r=(0,i._getWindowSafe)())?void 0:r.event);this._autoLogEvent(s),t&&this._engagementManager.bumpInactiveTimer(),"click"===s.type&&s instanceof MouseEvent&&this._rageClickManager.isRageClick(s.clientX,s.clientY,Date.now())&&this._logRageClick(s)};(0,c._registerEventHandler)(t,"click",e=>r(e)),(0,c._registerEventHandler)(t,"submit",e=>r(e)),(0,c._registerEventHandler)(t,"copy",e=>r(e)),(0,c._registerEventHandler)(t,"cut",e=>r(e)),(0,c._registerEventHandler)(e,"error",e=>r(e,!1)),(0,c._registerEventHandler)(e,"pagehide",()=>this._tryLogPageViewEnd()),(0,c._registerEventHandler)(e,"beforeunload",()=>this._tryLogPageViewEnd())}_addPageViewTracking(){let e=(0,i._getWindowSafe)(),t=(0,i._getDocumentSafe)();e&&t&&((0,c._registerEventHandler)(e,"popstate",()=>this._tryLogPageView("popstate")),window.history.pushState=new Proxy(window.history.pushState,{apply:(e,t,[r,i,s])=>{e.apply(t,[r,i,s]),this._tryLogPageView("pushstate")}}),window.history.replaceState=new Proxy(window.history.replaceState,{apply:(e,t,[r,i,s])=>{e.apply(t,[r,i,s]),this._tryLogPageView("replacestate")}}),this._tryLogPageView())}_autoLogEvent(e){var t,r,n,o;let a=null==(t=e.type)?void 0:t.toLowerCase();if("error"===a&&e instanceof ErrorEvent)return void this._logError(e);let l=(0,c._getTargetNode)(e);if(!l)return;let u=p[a];if(!u)return;let g=u===s.AutoCaptureEventName.COPY;if(!(0,c._shouldLogEvent)(e,l,g))return;let f={};if(g){let t=null==(n=null==(r=(0,i._getWindowSafe)())?void 0:r.getSelection())?void 0:n.toString();if(!t)return;(null==(o=this._options)?void 0:o.captureCopyText)&&(f.selectedText=(0,c._sanitizeString)(t)),f.clipType=e.type||"clipboard"}let{value:m,metadata:y}=(0,h._gatherEventData)(l);y.isOutbound&&this._engagementManager.setMeaningfulEngagementOccurred(!0),Object.assign(f,y);let _=(0,d._gatherAllMetadata)((0,c._getSafeUrl)());this._enqueueAutoCapture(u,m,Object.assign(Object.assign({},_),f))}_initialize(){this._webVitalsManager.startTracking(),this._deadClickManager.startTracking(),this._consoleLogManager.startTracking(),this._engagementManager.startInactivityTracking(()=>this._tryLogPageViewEnd(!0)),this._addEventHandlers(),this._addPageViewTracking(),this._logSessionStart(),this._logPerformance()}_logError(e){let t=(null==e?void 0:e.error)||{},r=t;if("object"==typeof t)try{r=JSON.stringify(t)}catch(e){r="function"==typeof(null==t?void 0:t.toString)?t.toString():"Unknown Error"}this._enqueueAutoCapture(s.AutoCaptureEventName.ERROR,e.message,{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error_str:r})}_logSessionStart(){let e=this._getSessionFromClient();try{if(!this._isNewSession(e))return;this._enqueueAutoCapture(s.AutoCaptureEventName.SESSION_START,(0,c._getSanitizedPageUrl)(),Object.assign({sessionID:e.data.sessionID},(0,d._gatherAllMetadata)((0,c._getSafeUrl)())),{flushImmediately:!0})}catch(e){this._errorBoundary.logError("AC::logSession",e)}}_tryLogPageView(e){let t=(0,c._getSafeUrl)(),r=this._previousLoggedPageViewUrl;if(r&&t.pathname===r.pathname)return;this._engagementManager.setLastPageViewTime(Date.now()),this._hasLoggedPageViewEnd=!1;let i=(0,d._gatherAllMetadata)(t);e&&(i.navigation_type=e),this._previousLoggedPageViewUrl&&(i.last_page_view_url=this._previousLoggedPageViewUrl.href),this._pageViewLogged||(this._updateClientWithPossibleFirstTouchMetadata(),this._pageViewLogged=!0),this._enqueueAutoCapture(s.AutoCaptureEventName.PAGE_VIEW,(0,c._getSanitizedPageUrl)(),i,{flushImmediately:!0,addNewSessionMetadata:!0}),this._previousLoggedPageViewUrl=t,this._engagementManager.bumpInactiveTimer()}_tryLogPageViewEnd(e=!1){this._hasLoggedPageViewEnd||(this._hasLoggedPageViewEnd=!0,this._enqueueAutoCapture(s.AutoCaptureEventName.PAGE_VIEW_END,(0,c._getSanitizedPageUrl)(),Object.assign(Object.assign({},this._engagementManager.getPageViewEndMetadata()),{dueToInactivity:e}),{flushImmediately:!0}))}_logRageClick(e){if(!(0,c._shouldLogEvent)(e,e.target))return;let{value:t,metadata:r}=(0,h._gatherEventData)(e.target);this._enqueueAutoCapture(s.AutoCaptureEventName.RAGE_CLICK,t,Object.assign(Object.assign({x:e.clientX,y:e.clientY,timestamp:Date.now()},(0,d._gatherAllMetadata)((0,c._getSafeUrl)())),r))}_logPerformance(){let e=(0,i._getWindowSafe)();e&&e.performance&&void 0!==(null==e?void 0:e.performance)&&"function"==typeof e.performance.getEntriesByType&&"function"==typeof e.performance.getEntriesByName&&setTimeout(()=>{let t={},r=e.performance.getEntriesByType("navigation");if(r&&r.length>0&&r[0]instanceof PerformanceNavigationTiming){let e=r[0];t.load_time_ms=e.duration,t.dom_interactive_time_ms=e.domInteractive-e.startTime,t.redirect_count=e.redirectCount,t.transfer_bytes=e.transferSize}let i=e.performance.getEntriesByName("first-contentful-paint");i&&i.length>0&&i[0]instanceof PerformancePaintTiming&&(t.first_contentful_paint_time_ms=i[0].startTime),this._enqueueAutoCapture(s.AutoCaptureEventName.PERFORMANCE,(0,c._getSanitizedPageUrl)(),Object.assign(Object.assign({},t),(0,d._getNetworkInfo)()))},1)}_enqueueAutoCapture(e,t,r,s){var n,o,a;if(!t)return;let l=e.slice(14);if(this._disabledEvents[e]||this._disabledEvents[l])return;let u=this._getSessionFromClient();try{let l=Object.assign({sessionID:u.data.sessionID,page_url:null!=(a=null==(o=null==(n=(0,i._getWindowSafe)())?void 0:n.location)?void 0:o.href)?a:""},r);(null==s?void 0:s.addNewSessionMetadata)&&(l.isNewSession=String(this._isNewSession(u)));let c={eventName:e,value:t,metadata:l};if(this._eventFilterFunc&&!this._eventFilterFunc(c))return;this._client.logEvent(c),(null==s?void 0:s.flushImmediately)&&this._flushImmediately()}catch(e){this._errorBoundary.logError("AC::enqueue",e)}}_updateClientWithPossibleFirstTouchMetadata(){let e=this._client;e._possibleFirstTouchMetadata=(0,d._getPossibleFirstTouchMetadata)((0,c._getSafeUrl)()),Object.keys(e._possibleFirstTouchMetadata).length>0&&(e._user=Object.assign(Object.assign({},e._user),{analyticsOnlyMetadata:Object.assign(Object.assign({},e._possibleFirstTouchMetadata),e._user.analyticsOnlyMetadata)}))}_flushImmediately(){this._client.flush().catch(e=>{i.Log.error(e)})}_isNewSession(e){return 1e3>Math.abs(e.data.startTime-Date.now())}_getSessionFromClient(){return this._client.getContext().session}static getAllMetadata(){return(0,d._gatherAllMetadata)((0,c._getSafeUrl)())}}r.AutoCapture=f},416330,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StatsigAutoCapturePlugin=r.runStatsigAutoCapture=r.AutoCapture=r.AutoCaptureEventName=void 0;let i=e.r(276338),s=e.r(848542);Object.defineProperty(r,"AutoCapture",{enumerable:!0,get:function(){return s.AutoCapture}}),Object.defineProperty(r,"StatsigAutoCapturePlugin",{enumerable:!0,get:function(){return s.StatsigAutoCapturePlugin}}),Object.defineProperty(r,"runStatsigAutoCapture",{enumerable:!0,get:function(){return s.runStatsigAutoCapture}});var n=e.r(230416);Object.defineProperty(r,"AutoCaptureEventName",{enumerable:!0,get:function(){return n.AutoCaptureEventName}}),r.default=Object.assign((0,i._getStatsigGlobal)(),{AutoCapture:s.AutoCapture,runStatsigAutoCapture:s.runStatsigAutoCapture,StatsigAutoCapturePlugin:s.StatsigAutoCapturePlugin})},943565,e=>{"use strict";var t=e.i(276385),r=e.i(750854),i=e.i(389959),s=e.i(942898),n=e.i(309112),o=e.i(416330),a=e.i(131141),l=e.i(700005),u=e.i(596139),c=e.i(365669),h=e.i(17266),d=e.i(664152);function p(e){return e?e.user?.statsig_client_init_hash??e.anonymousStatsig?.clientInitData:window[h.STATSIG_KEY]??void 0}function g(e){if(e){var t,r;let i=e.cookies?.[h.STATSIG_STABLE_ID_COOKIE_NAME];return e.user?(t=e.user,r=i,{userID:t.id.toString(),email:t.email,...r&&{customIDs:{stableID:r}},custom:(0,h.computeTargetingAttributes)({username:t.username,timeCreated:t.time_created,roles:t.roles,planName:t.plan_name,replContinent:t.repl_continent})}):e.anonymousStatsig?.user?e.anonymousStatsig.user:i?{customIDs:{stableID:i}}:void 0}{let e=window[h.STATSIG_USER_KEY];if(e){if(null==e.customIDs){let t=l.default.get(h.STATSIG_STABLE_ID_COOKIE_NAME);t&&(e.customIDs={stableID:t})}return e}}}let f=(0,i.createContext)(null),m=new WeakMap;function y(){let e=(0,i.useContext)(f);return(0,i.useCallback)((t,r)=>{if(!e)return;let i=e.getContext().user;if(!i||(m.has(e)||m.set(e,i.custom?.planName),i.customIDs?.orgID===t))return;let s=m.get(e),n="enterprise"===r||"enterprise_trial"===r,o=(0,a.produce)(i,e=>{e.custom||(e.custom={}),e.customIDs||(e.customIDs={}),t?(e.custom.planName=n?u.enterprisePlanName:u.replitTeamsPlanName,e.customIDs.orgID=t):(e.custom.planName=s,delete e.customIDs.orgID)});e.updateUserSync(o)},[e])}function _(e){let t=(0,i.useContext)(f);return(0,i.useCallback)(r=>t?t.getExperiment(e,r):null,[t,e])}function v(e,t,r){let s=(0,i.useContext)(f);return(0,i.useCallback)(i=>s?s.getExperiment(e,i).get(t,r):r,[s,e,t,r])}function b(e,t,r){let s=v(e,t,r);return(0,i.useMemo)(()=>s(),[s])}function S({clientInitData:e,user:a,children:l}){let u=(0,r.useRouter)(),h="production",p=(0,i.useRef)(null);if(!p.current&&e&&a)try{let t=new s.StatsigClient(c.publicEnv.NEXT_PUBLIC_STATSIG_CLIENT_API_KEY??"",a,{plugins:[new o.StatsigAutoCapturePlugin,new n.StatsigSessionReplayPlugin],environment:{tier:h}});t.dataAdapter.setData(e);let r=t.initializeSync();if(p.current=t,"NoValues"===r.source)try{let r=JSON.parse(e).user,i="userID"in a?a.userID??"":"anonymous",s=a.customIDs?JSON.stringify(a.customIDs):"",n=r?.userID??"",o=r?.customIDs?JSON.stringify(r.customIDs):"",l={clientUserID:i,clientCustomIDs:s,bootstrapUserID:n,bootstrapCustomIDs:o,path:u.asPath,pathName:u.pathname,userIDMatch:i===n,customIDsMatch:s===o};d.logger.warn("Statsig bootstrap user differs from client user",{...l,tag:"statsig-novalues",fingerprint:`statsig-novalues:${u.pathname}`}),t.logEvent("debug_novalues",void 0,{...l,userIDMatch:i===n?"yes":"no",customIDsMatch:s===o?"yes":"no"})}catch{d.logger.warn("Statsig NoValues detected, could not parse details")}}catch(t){d.logger.error("Statsig client initialization failed",{extra:{errorMessage:t instanceof Error?t.message:String(t),clientInitData:e,tier:h,path:u.asPath,pathName:u.pathname}})}let g=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{p.current||e&&a||g.current||(d.logger.error("Statsig client initialization failed: missing clientInitData or user",{extra:{clientInitData:e,user:a,tier:h,path:u.asPath,pathName:u.pathname}}),g.current=!0)},[e,a,u.asPath,u.pathname,h]),(0,t.jsx)(f.Provider,{value:p.current,children:l})}e.s(["StatsigProvider",()=>S,"getStatsigInitData",()=>p,"getStatsigUser",()=>g,"useExperimentParam",()=>b,"useGetExperiment",()=>_,"useGetExperimentParam",()=>v,"useSyncStatsigOrgContext",()=>y])},968783,e=>{"use strict";var t=e.i(276385),r=e.i(750854),i=e.i(389959),s=e.i(805579),n=e.i(368964),o=e.i(222342),a=e.i(270082),l=e.i(943565);let u=["/import","/notifications","/templates","/extension","/theme","/@","/~/cli","/grab"],c=(0,i.createContext)(null);function h({children:e}){let h=(0,r.useRouter)(),d=h.asPath,{showError:p}=(0,o.default)(),g=function(){let e=(0,r.useRouter)().asPath;if(e.startsWith("/t")){let t=e.split("/");if(t[2])return t[2]}return null}(),f=(0,l.useSyncStatsigOrgContext)(),m=null===g&&u.some(e=>d.startsWith(e)),y="/replEnvironmentDesktop"===h.pathname||"/replEnvironmentMobile"===h.pathname,_=(0,s.useCurrentUserOrgContextQuery)({skip:y||!m}),v=_.data?.getUserOrgContext2?.__typename==="Org"?_.data.getUserOrgContext2:null,b=(0,s.useCurrentUserOrgContextGetOrgQuery)({skip:null==g,variables:{orgSlug:g??""}}),S=b.data?.currentUser?.org?.__typename==="Org"?b.data.currentUser.org:null,w=m?_.loading:b.loading,C=m?v:S;f(C?.id,C?.dealContext?.dealType);let[E,I]=(0,i.useState)({orgId:C?.id,orgSlug:C?.slug,orgRole:C?.currentUserRole??void 0,orgDealContext:C?.dealContext??void 0}),[k]=(0,s.useCurrentUserOrgContextUpdateOrgContextMutation)({refetchQueries:[{query:s.CurrentUserOrgContextDocument}],onCompleted(e){if(e.updateOrgContext&&"Org"!==e.updateOrgContext.__typename)return void p(`Something went wrong switching to ${E.orgSlug}. Please try again.`)},onError(){p(`Something went wrong switching to ${E.orgSlug}. Please try again.`)}});(0,i.useEffect)(()=>{C&&I({orgId:C.id,orgSlug:C.slug,orgRole:C.currentUserRole??void 0,orgDealContext:C.dealContext??void 0})},[C]);let O=(0,i.useMemo)(()=>C?(0,a.orgFlags)(C):{},[C]);return(0,t.jsx)(c.Provider,{value:{flags:O,orgId:E?.orgId,orgSlug:E?.orgSlug,orgRole:E?.orgRole,orgDealContext:E?.orgDealContext,loading:w,switchOrg:e=>{let t=e.type===n.OrgstypeEnumType.Personal?{orgId:void 0,orgSlug:void 0,orgRole:void 0,orgDealContext:void 0}:{orgId:e.id,orgSlug:e.slug,orgRole:e.orgRole,orgDealContext:e.orgDealContext};f(t.orgId,e.type===n.OrgstypeEnumType.Personal?void 0:e.orgDealContext.dealType),I(t),k({variables:{input:{orgId:t.orgId}}})}},children:e})}function d(){let e=(0,i.useContext)(c);if(null===e)throw Error("StoredOrgContextProvider missing!");return e}function p(){let e=d();return e.orgDealContext?.dealType==="enterprise"||e.orgDealContext?.dealType==="enterprise_trial"}e.s(["StoredOrgContextProvider",()=>h,"getOrgTrackingContext",0,e=>e?`Org:${e.id}`:"Personal","useCurrentUserStoredOrgContext",()=>d,"useIsCurrentOrgEnterprise",()=>p])}]);

//# debugId=00ca72cc-659a-c750-6d46-9f4b0664c492
//# sourceMappingURL=228c9cf92e757fbb.js.map