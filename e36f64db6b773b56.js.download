;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="fcd28dcc-d4be-ce5e-5bac-edfbb037ab29")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,659042,e=>{"use strict";var t=e.i(276385),i=e.i(116235);function a(e){return(0,t.jsxs)(i.default,{...e,children:[(0,t.jsx)("path",{fillRule:"evenodd",d:"M15 7.25c.966 0 1.75.784 1.75 1.75v6A1.75 1.75 0 0 1 15 16.75H9A1.75 1.75 0 0 1 7.25 15V9c0-.966.784-1.75 1.75-1.75h6Zm-6 1.5a.25.25 0 0 0-.25.25v6c0 .138.112.25.25.25h6a.25.25 0 0 0 .25-.25V9a.25.25 0 0 0-.25-.25H9Z",clipRule:"evenodd"}),(0,t.jsx)("path",{fillRule:"evenodd",d:"M17 1.25a.75.75 0 0 1 .75.75v1.25H18A2.75 2.75 0 0 1 20.75 6v.25H22a.75.75 0 0 1 0 1.5h-1.25v3.5H22a.75.75 0 0 1 0 1.5h-1.25v3.5H22a.75.75 0 0 1 0 1.5h-1.25V18A2.75 2.75 0 0 1 18 20.75h-.25V22a.75.75 0 0 1-1.5 0v-1.25h-3.5V22a.75.75 0 0 1-1.5 0v-1.25h-3.5V22a.75.75 0 0 1-1.5 0v-1.25H6A2.75 2.75 0 0 1 3.25 18v-.25H2a.75.75 0 0 1 0-1.5h1.25v-3.5H2a.75.75 0 0 1 0-1.5h1.25v-3.5H2a.75.75 0 0 1 0-1.5h1.25V6A2.75 2.75 0 0 1 6 3.25h.25V2a.75.75 0 0 1 1.5 0v1.25h3.5V2a.75.75 0 0 1 1.5 0v1.25h3.5V2a.75.75 0 0 1 .75-.75ZM6 4.75c-.69 0-1.25.56-1.25 1.25v12c0 .69.56 1.25 1.25 1.25h12c.69 0 1.25-.56 1.25-1.25V6c0-.69-.56-1.25-1.25-1.25H6Z",clipRule:"evenodd"})]})}e.s(["default",()=>a])},97133,e=>{"use strict";var t=e.i(276385),i=e.i(116235);function a(e){return(0,t.jsx)(i.default,{...e,children:(0,t.jsx)("path",{d:"M21.25 4.123a1.374 1.374 0 0 0-2.343-.97L12.06 9.999 14 11.94l6.848-6.845c.257-.257.402-.607.402-.97ZM8.37 13.688c.418.204.803.474 1.135.806.332.332.602.716.807 1.132L12.939 13l-1.94-1.94-2.629 2.629ZM3.75 17.5a3.37 3.37 0 0 1-.91 2.305l-.018.018a.252.252 0 0 0 .038.385.25.25 0 0 0 .138.042H6.5a2.75 2.75 0 1 0-2.75-2.75Zm19-13.377c0 .762-.303 1.493-.842 2.032l-11.163 11.16A4.248 4.248 0 0 1 6.5 21.75H3a1.75 1.75 0 0 1-1.256-2.97c.325-.347.506-.805.506-1.28a4.251 4.251 0 0 1 4.432-4.246L17.846 2.092a2.873 2.873 0 0 1 4.904 2.031Z"})})}e.s(["default",()=>a])},96250,e=>{"use strict";var t=e.i(276385),i=e.i(116235);function a(e){return(0,t.jsx)(i.default,{...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M20 2.25A2.75 2.75 0 0 1 22.75 5v12A2.75 2.75 0 0 1 20 19.75H6.828c-.29 0-.57.101-.792.283l-.092.083-2.202 2.202a1.46 1.46 0 0 1-2.488-.924l-.004-.108V5A2.75 2.75 0 0 1 4 2.25h16ZM4 3.75A1.25 1.25 0 0 0 2.75 5v16.19l2.134-2.134a2.75 2.75 0 0 1 1.944-.806H20A1.25 1.25 0 0 0 21.25 17V5A1.25 1.25 0 0 0 20 3.75H4Z",clipRule:"evenodd"})})}e.s(["default",()=>a])},196796,768175,e=>{"use strict";var t=e.i(276385),i=e.i(116235);function a(e){return(0,t.jsx)(i.default,{...e,children:(0,t.jsx)("path",{d:"M5 14.25a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75ZM12 2.25a.75.75 0 0 1 .75.75v18a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM19 8.25a.75.75 0 0 1 .75.75v12a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Z"})})}function s(e){return(0,t.jsx)(i.default,{...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M12.25 6a.75.75 0 0 1 .75-.75h3A2.75 2.75 0 0 1 18.75 8v6.325A3.751 3.751 0 0 1 18 21.75a3.75 3.75 0 0 1-.75-7.425V8A1.25 1.25 0 0 0 16 6.75h-3a.75.75 0 0 1-.75-.75ZM18 15.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM11 18.75a.75.75 0 0 0 0-1.5H8A1.25 1.25 0 0 1 6.75 16V9.675A3.751 3.751 0 0 0 6 2.25a3.75 3.75 0 0 0-.75 7.425V16A2.75 2.75 0 0 0 8 18.75h3ZM8.25 6a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z",clipRule:"evenodd"})})}e.s(["default",()=>a],196796),e.s(["default",()=>s],768175)},731145,e=>{"use strict";var t=e.i(276385),i=e.i(116235);function a(e){return(0,t.jsx)(i.default,{...e,children:(0,t.jsx)("path",{d:"M13.376 1.253c.21-.02.422.012.616.096l.095.046.091.053c.178.115.323.274.423.46l.045.096.038.099a1.25 1.25 0 0 1 .01.755l-1.92 6.02c-.003.011-.007.023-.012.034a.253.253 0 0 0 .03.23.25.25 0 0 0 .206.108H20l.123.004a1.752 1.752 0 0 1 1.24 2.849.73.73 0 0 1-.045.05l-9.9 10.199v-.001a1.25 1.25 0 0 1-2.122-1.18l.01-.03 1.92-6.019.012-.035a.251.251 0 0 0-.12-.309.255.255 0 0 0-.056-.02l-.06-.008H4a1.752 1.752 0 0 1-1.363-2.852l.045-.05 9.9-10.2a1.25 1.25 0 0 1 .689-.38l.104-.015Z"})})}e.s(["default",()=>a])},527321,399217,e=>{"use strict";var t=e.i(196796),i=e.i(768175),a=e.i(873169),s=e.i(399245),n=e.i(581554),r=e.i(819906),l=e.i(276385),c=e.i(116235);function o(e){return(0,l.jsxs)(c.default,{...e,children:[(0,l.jsx)("path",{fillRule:"evenodd",d:"M10.024 7.25c.31.004.613.091.878.251l4.996 2.996a1.752 1.752 0 0 1 .625 2.367 1.75 1.75 0 0 1-.625.639v-.001l-4.995 2.995.001.001a1.75 1.75 0 0 1-2.654-1.505v-5.99a1.75 1.75 0 0 1 1.774-1.753Zm-.02 1.5a.252.252 0 0 0-.22.124.253.253 0 0 0-.034.127v5.998a.252.252 0 0 0 .127.219.253.253 0 0 0 .252-.004l.002-.001 4.997-2.997.002-.001a.252.252 0 0 0 .122-.215.25.25 0 0 0-.122-.215h-.002L10.13 8.786h-.002a.25.25 0 0 0-.125-.037Z",clipRule:"evenodd"}),(0,l.jsx)("path",{fillRule:"evenodd",d:"M12 1.25c5.937 0 10.75 4.813 10.75 10.75S17.937 22.75 12 22.75 1.25 17.937 1.25 12 6.063 1.25 12 1.25Zm0 1.5a9.25 9.25 0 1 0 0 18.5 9.25 9.25 0 0 0 0-18.5Z",clipRule:"evenodd"})]})}e.s(["default",()=>o],399217);var d=e.i(256758),u=e.i(735362);function h(e){return e.toLowerCase().replace(/\s+/g,"_")}let p=new Set(["Auto","Modern web app"]),f=new Set(["Auto","Modern web app","Design"]),m=new Set(["Auto","Modern web app","Design","Mobile application"]);function x(){return m}function g(){return v}let v=[{key:"Auto",label:"Auto",description:"Let the planning phase determine the best stack for your project.",icon:u.default},{key:"Modern web app",label:"Web app",description:"Beautiful and powerful websites that handle users, databases, and more. Built with Javascript.",icon:s.default},{key:"Mobile application",label:"Mobile app",description:"Native apps for iPhones and Android phones. Built with React Native (Expo).",icon:d.default},{key:"Interactive data app",label:"Data app",description:"Interactive dashboards and visualizations for exploring data and creating charts. Built with Python (Streamlit)",icon:t.default,isPaid:!0},{key:"3D game",label:"3D Game",description:"3D games, simulations, and interactive experiences. Built using Javascript (Three.js)",icon:r.default,isPaid:!0},{key:"Expert Mode",label:"Start from scratch",description:"Flexible development environment, allowing developers to configure their own languages and technology stacks.",icon:a.default,isPaid:!0},{key:"Automation",label:"Automation",description:"Bots and automated workflows that can connect with external platforms like Slack and Telegram to perform tasks.",icon:i.default,isBeta:!0,isPaid:!0},{key:"Animated Video",label:"Animated Video",description:"Create animated videos programmatically with motion graphics and React. Export as MP4.",icon:o,isBeta:!0,isPaid:!0},{key:"Stack from existing App",label:"Stack from existing App",description:"Stack from existing App",icon:n.default,isStaffOnly:!0,isPaid:!0}],j=new Map(v.map(e=>[e.key,e]));e.s(["STACKS_THAT_SUPPORT_APP_THEMES",0,p,"STACKS_THAT_SUPPORT_FIGMA_LINKS",0,f,"STACK_OPTIONS_MAP",0,j,"stackOptionKeyToSlug",()=>h,"useFreeStacks",()=>x,"useStackOptions",()=>g],527321)},409570,e=>{"use strict";var t=e.i(276385),i=e.i(116235);function a(e){return(0,t.jsx)(i.default,{...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M12 1.252c.483 0 .957.127 1.375.368l-.001.001 6.998 3.998.003.001.153.096a2.752 2.752 0 0 1 1.222 2.283v8.002a2.75 2.75 0 0 1-1.375 2.379h-.003l-6.998 3.999h.001a2.75 2.75 0 0 1-1.294.366.75.75 0 0 1-.163 0 2.748 2.748 0 0 1-1.293-.365l-6.997-4h-.003A2.751 2.751 0 0 1 2.25 16V7.999l.006-.18A2.75 2.75 0 0 1 3.625 5.62h.003l6.997-3.999c.418-.241.892-.37 1.375-.37ZM3.75 15.999l.01.163a1.25 1.25 0 0 0 .615.918l6.875 3.929v-8.575l-7.5-4.31v7.875Zm9-3.565v8.575l6.875-3.929A1.25 1.25 0 0 0 20.25 16V8.123l-7.5 4.31ZM12 2.752c-.22 0-.435.057-.625.167l-.003.002L4.52 6.836l7.479 4.299 7.48-4.3-6.851-3.914-.003-.002A1.25 1.25 0 0 0 12 2.752Z",clipRule:"evenodd"})})}e.s(["default",()=>a])},226236,e=>{"use strict";var t=e.i(276385),i=e.i(913965);function a(e){return(0,t.jsxs)(i.default,{...e,children:[(0,t.jsx)("path",{fill:"gray",fillRule:"evenodd",d:"M2.587 6.058a.529.529 0 0 0-.53.529v10.365c0 .292.237.529.53.529h18.827a.529.529 0 0 0 .528-.53V6.588a.529.529 0 0 0-.529-.53H2.587ZM1 6.587C1 5.71 1.71 5 2.587 5h18.827C22.29 5 23 5.71 23 6.587v10.365c0 .876-.71 1.586-1.587 1.586H2.587c-.877 0-1.587-.71-1.587-1.586V6.587Z",clipRule:"evenodd"}),(0,t.jsx)("path",{fill:"gray",d:"M4.173 15.365V8.173h2.115l2.116 2.644 2.115-2.644h2.116v7.192h-2.116V11.24l-2.115 2.645-2.116-2.645v4.125H4.173Zm13.221 0-3.173-3.49h2.116V8.173h2.115v3.702h2.115l-3.173 3.49Z"})]})}e.s(["default",()=>a])},873169,e=>{"use strict";var t=e.i(276385),i=e.i(116235);function a(e){return(0,t.jsx)(i.default,{...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"m14 1.25.038.001a3.151 3.151 0 0 1 2.196.925l3.586 3.586A3.156 3.156 0 0 1 20.75 8v12A2.75 2.75 0 0 1 18 22.75H6A2.75 2.75 0 0 1 3.25 20V4A2.75 2.75 0 0 1 6 1.25h8Zm-8 1.5A1.25 1.25 0 0 0 4.75 4v16A1.25 1.25 0 0 0 6 21.25h12A1.25 1.25 0 0 0 19.25 20V8.75H15A1.75 1.75 0 0 1 13.25 7V2.75H6ZM14.75 7a.25.25 0 0 0 .25.25h4.07a1.65 1.65 0 0 0-.306-.424l-3.591-3.59a1.648 1.648 0 0 0-.423-.306V7Z",clipRule:"evenodd"})})}e.s(["default",()=>a])},95136,e=>{"use strict";var t=e.i(276385),i=e.i(116235),a=e.i(532764);function s(e){return(0,t.jsx)(i.default,{...e,children:(0,t.jsx)(a.default,{size:24,color:"currentColor"})})}e.s(["default",()=>s])},819906,e=>{"use strict";var t=e.i(276385),i=e.i(116235);function a(e){return(0,t.jsx)(i.default,{...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M7.01 2.249a2.75 2.75 0 0 1 1.376.375L20.38 9.621a2.754 2.754 0 0 1 1.37 2.376 2.752 2.752 0 0 1-1.365 2.379l-.001-.001-12 7a2.75 2.75 0 0 1-4.135-2.376V5a2.752 2.752 0 0 1 2.76-2.751Zm-.006 1.5a1.252 1.252 0 0 0-1.254 1.25V19a1.251 1.251 0 0 0 1.88 1.08l12-7a1.252 1.252 0 0 0-.001-2.162l-.002-.001L7.63 3.92c-.19-.11-.406-.17-.626-.171Z",clipRule:"evenodd"})})}e.s(["default",()=>a])},860060,e=>{"use strict";var t=e.i(276385),i=e.i(913965);function a(e){return(0,t.jsxs)(i.default,{...e,children:[(0,t.jsx)("path",{fill:"gray",d:"M11.94 17.029h.108c1.053.005 1.784-.532 1.806-1.327.021-.833-.742-1.413-1.827-1.397v.005h-.065v-.005c-1.085-.016-1.848.57-1.826 1.397.021.795.752 1.332 1.805 1.327Z"}),(0,t.jsx)("path",{fill:"gray",fillRule:"evenodd",d:"M8.879 3v1.086h2.552v1.215H8.879v1.117h2.552v1.214H8.879V8.75h2.552v1.209H8.879v1.117h2.552v.629h1.123v-1.71h2.466V8.879h-2.466V7.664h2.466V6.547h-2.466V5.332h2.466V4.215h-2.466V3H19a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.879ZM15.5 15.648c.178.982.355 1.964.485 2.95.135 1.01-.736 1.649-2.208 1.708-.33.015-.664.01-.997.004-.25-.004-.5-.009-.749-.004h-.064a11.568 11.568 0 0 0-.25-.004c-.194-.001-.388.002-.583.005-.305.005-.61.01-.913-.001-1.472-.06-2.343-.698-2.208-1.709.13-.985.307-1.967.485-2.949.077-.432.155-.863.23-1.295a.524.524 0 0 1 .047-.156c.355-.778 1.317-1.117 3.224-1.1 1.902-.012 2.864.322 3.223 1.1a1.023 1.023 0 0 1 .049.156c.073.43.151.86.229 1.29v.005Z",clipRule:"evenodd"})]})}e.s(["default",()=>a])},296223,e=>{"use strict";var t=e.i(276385),i=e.i(389959),a=e.i(36654),s=e.i(269848),n=e.i(416298),r=e.i(205104),l=e.i(613355),c=e.i(91720),o=e.i(136540),d=e.i(396776),u=e.i(960178),h=e.i(625484);function p(e,t){let i=t;return"audio/wave"===i&&(i="audio/wav"),`data:${i};base64,${e}`}function f({fs:e,filePath:n}){let[c,d]=(0,i.useState)(null),[h,p]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let t=e.watchFile(n,{onChange:e=>{d(e.toString("base64")),p(!1)},onError:()=>{d(null),p(!1)},onMoveOrDelete:()=>{d(null),p(!1)}});return()=>{t(),p(!0),d(null)}},[e,n]);let f=(0,r.getMediaMime)(n);"audio/wave"===f&&(f="audio/wav");let x=c?`data:${f};base64,${c}`:"";return h?(0,t.jsx)(s.default,{}):c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m,{src:x,fileName:(0,r.getFileName)(n),mime:(0,r.getMediaMime)(n)}),(0,t.jsx)(o.IconButton,{alt:"Download",css:[l.rcss.position.absolute,l.rcss.bottom(8),l.rcss.right(8),l.rcss.p(16)],children:(0,t.jsx)("a",{href:`data:text/plain;base64,${c}`,download:(0,r.getFileName)(n),css:[l.rcss.color.foregroundDimmer],children:(0,t.jsx)(a.default,{})})})]}):(0,t.jsx)(u.Text,{multiline:!1,children:"Failed to load media file"})}let m=({src:e,fileName:i,mime:a=""})=>a.startsWith("video/")?(0,t.jsx)("video",{src:e,css:{maxHeight:"100%",maxWidth:"100%"},controls:!0,title:i}):a.startsWith("image/")?(0,t.jsx)("img",{alt:"Preview",src:e,css:{width:"80%",height:"80%",objectFit:"contain",imageRendering:"pixelated"}}):a.startsWith("audio/")?(0,t.jsx)("audio",{src:e,css:{maxHeight:"100%",maxWidth:"100%"},controls:!0,title:i}):"application/pdf"===a?(0,t.jsx)("object",{data:e,type:"application/pdf",css:{width:"100%",height:"100%",flex:1},children:(0,t.jsxs)(h.View,{gap:16,align:"end",children:[(0,t.jsx)(d.StatusBanner,{colorway:"warning",icon:(0,t.jsx)(n.default,{}),text:"Your browser doesn't support displaying PDFs inside of Replit."}),(0,t.jsx)(c.ButtonLink,{href:e,referrerPolicy:"no-referrer",target:"_blank",text:"View PDF in new tab",size:"small",variant:"outlined",colorway:"primary",noNextLink:!0})]})}):(0,t.jsx)(u.Text,{multiline:!1,children:"File type not supported."});e.s(["Viewer",0,m,"default",()=>f,"getMediaSrc",()=>p])},674347,e=>{"use strict";var t=e.i(276385),i=e.i(116235);function a(e){return(0,t.jsx)(i.default,{...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M1.25 12c0-2.652 2.23-4.75 4.917-4.75 1.356 0 2.35.457 3.31 1.227.631.506 1.288 1.183 2.037 1.955l.486.5c.167-.17.329-.337.486-.5.75-.772 1.406-1.45 2.036-1.955.961-.77 1.955-1.227 3.311-1.227 2.687 0 4.917 2.098 4.917 4.75s-2.23 4.75-4.917 4.75c-1.356 0-2.35-.457-3.31-1.227-.631-.505-1.288-1.183-2.037-1.955l-.486-.5c-.167.17-.328.337-.486.5-.75.772-1.405 1.45-2.036 1.955-.961.77-1.955 1.227-3.311 1.227-2.687 0-4.917-2.098-4.917-4.75Zm9.695 0c-.21-.214-.405-.416-.591-.608-.706-.729-1.26-1.3-1.814-1.744-.756-.605-1.429-.898-2.373-.898C4.25 8.75 2.75 10.234 2.75 12s1.5 3.25 3.417 3.25c.944 0 1.617-.293 2.373-.898.554-.444 1.108-1.015 1.814-1.744l.591-.608Zm2.11 0c.21.214.406.416.591.608.706.729 1.26 1.3 1.814 1.744.756.605 1.429.898 2.373.898 1.917 0 3.417-1.484 3.417-3.25s-1.5-3.25-3.417-3.25c-.944 0-1.617.293-2.373.898-.554.444-1.108 1.015-1.814 1.744l-.591.608Z",clipRule:"evenodd"})})}e.s(["default",()=>a])},815900,e=>{"use strict";let t=/\{\{[^}]*"replit-type"\s*:\s*"connector"[^}]*\}\}/g,i=/"name"\s*:\s*"([^"]*)"/,a=/\{\{[^}]*"replit-type"\s*:\s*"blueprint"[^}]*\}\}/g,s=/"name"\s*:\s*"([^"]*)"/,n=/\{\{[^}]*"replit-type"\s*:\s*"inbox_topic"[^}]*\}\}/g,r=/"topic"\s*:\s*"([^"]*)"/,l={bug_report:"Bug report",feature_request:"Feature",design:"Design",content:"Content",other:"Other"};function c(e){let c=e;return(c=(c=c.replace(t,e=>{try{let t=e.match(i),a=t?.[1];if(a)return`**${a}**`;return"**@Connector**"}catch(e){return"**@Connector**"}})).replace(a,e=>{try{let t=e.match(s),i=t?.[1];if(i)return`**${i}**`;return"**@Blueprint**"}catch(e){return"**@Blueprint**"}})).replace(n,e=>{try{let t=e.match(r),i=t?.[1],a=i?l[i]:null;if(a)return`**[${a}]**`;return"**[Feedback]**"}catch(e){return"**[Feedback]**"}})}e.s(["INBOX_TOPIC_LABELS",0,l,"blueprintNameJsonRegex",0,s,"blueprintRegex",0,a,"connectorIdJsonRegex",0,/"id"\s*:\s*"([^"]*)"/,"connectorRegex",0,t,"replaceJsonMarkers",()=>c])},266645,500002,e=>{"use strict";var t=e.i(276385),i=e.i(480028),a=e.i(446530),s=e.i(613355),n=e.i(764848),r=e.i(625484);let l=(0,a.cssRecord)({container:[s.rcss.overflowX("auto"),s.rcss.flex.row,s.rcss.gap(8)],divider:{backgroundColor:i.tokens.outlineDimmest}});function c({detectedUrls:e=[],fileAttachments:i=[],className:a}){if(0===e.length&&0===i.length)return null;let s=e.length>0&&i.length>0;return(0,t.jsxs)(r.View,{css:l.container,className:a,children:[e,s?(0,t.jsx)(n.DividerV,{css:l.divider}):null,i]})}e.s(["default",()=>c],266645);var o=e.i(602686),d=e.i(269848),u=e.i(907371),h=e.i(173703),p=e.i(136540);let f=(0,a.cssRecord)({button:[s.rcss.position.absolute,s.rcss.top(-4),s.rcss.right(-4)]}),m=(0,a.cssRecord)({button:[f.button,{borderRadius:"50%",[s.media.canHover]:{opacity:0}}],uploadingButton:[f.button,{borderRadius:"50%"}]});function x({onRemoveClick:e,isLoading:i,alt:a="Remove attachment"}){let s=(0,u.useCreateInteractive)({colorway:i?"grey":"negative"});return e?(0,t.jsx)(h.ShadesSurface,{children:(0,t.jsx)(p.IconButton,{alt:i?"Uploading...":a,size:18,onClick:e,css:i?m.uploadingButton:m.button,disabled:i,"data-attachment-status":i?"uploading":"remove",...s,children:i?(0,t.jsx)(d.default,{}):(0,t.jsx)(o.default,{})})}):null}e.s(["default",()=>x],500002)},329602,e=>{"use strict";let t=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];function a(e,a){let s,{signed:n=!1,digitsNumber:r=2,isKib:l=!0,isKibNotation:c=!1}=a||{};if(s=n?e<0?"-":"+":"",0===e)return`${s}0B`;let o=l?1024:1e3,d=Math.floor(Math.log(Math.abs(e))/Math.log(o));return`${s}${parseFloat(Math.abs(e/Math.pow(o,d)).toFixed(r))}${(c?t:i)[d]}`}e.s(["formatBytes",()=>a])},200260,64256,e=>{"use strict";var t=e.i(276385),i=e.i(389959),a=e.i(873169),s=e.i(493166),n=e.i(416746),r=e.i(226236),l=e.i(860060),c=e.i(269848),o=e.i(416298),d=e.i(205104),u=e.i(296223),h=e.i(500002),p=e.i(329602),f=e.i(480028),m=e.i(960178),x=e.i(625484);function g({attachment:e}){return(0,t.jsxs)(x.View,{gap:16,p:64,align:"center",justify:"center",grow:!0,children:[(0,t.jsx)(l.default,{size:48,color:f.tokens.foregroundDimmer}),(0,t.jsxs)(x.View,{gap:4,align:"center",children:[(0,t.jsx)(m.Text,{variant:"subheadDefault",children:"Zip file"}),e.file?(0,t.jsx)(m.Text,{color:"dimmer",variant:"small",children:(0,p.formatBytes)(e.file.size)}):null]})]})}var v=e.i(446530),j=e.i(754873),w=e.i(613355),b=e.i(140487),y=e.i(630818),M=e.i(739521),A=e.i(396776),V=e.i(751273),R=e.i(211397),S=e.i(916271);let T=(0,v.cssRecord)({defaultButton:[w.rcss.reset.button,j.interactive.outlined,w.rcss.height(77),w.rcss.width(130),w.rcss.position.relative,w.rcss.hover({'[data-attachment-status="remove"]':{opacity:1}}),{':focus-within [data-attachment-status="remove"]':{opacity:1}}],smallButton:[w.rcss.reset.button,j.interactive.outlined,w.rcss.height(52),w.rcss.width(104),w.rcss.position.relative,w.rcss.hover({'[data-attachment-status="remove"]':{opacity:1}}),{':focus-within [data-attachment-status="remove"]':{opacity:1}}],tooltipContents:[w.rcss.maxWidth("100%"),w.rcss.textAlign.center],viewerModal:[w.rcss.maxHeight("80vh"),w.rcss.height("100%")],viewerModalContents:[w.rcss.overflow("auto")]});function B({attachment:e,removeAttachment:c,readFile:u,getAttachmentTypeDisclaimer:p,imagesDisabledMessage:f,size:v="default"}){let j,y,R,S,B=p(e.mimeType),[C,P]=(0,i.useState)(!1);if(j=e.mimeType?.startsWith("image/")?(0,t.jsx)(F,{attachment:e,readFile:u,imagesDisabledMessage:f}):"text/markdown"===e.mimeType?(0,t.jsx)(N,{attachment:e,readFile:u,size:v}):(0,t.jsx)(k,{attachment:e,getAttachmentTypeDisclaimer:p}),(0,d.isMedia)(e.path))y=(0,t.jsx)(L,{attachment:e,readFile:u}),R="Attached image",S=(0,t.jsx)(s.default,{size:16});else if("text/markdown"===e.mimeType)R="Markdown file",S=(0,t.jsx)(r.default,{size:16}),y=(0,t.jsx)(E,{attachment:e,readFile:u});else{let i;(i=e.path.toLowerCase(),["application/zip","application/x-zip-compressed","application/x-tar","application/gzip","application/x-gzip","application/x-7z-compressed","application/x-rar-compressed","application/x-bzip2"].includes(e.mimeType)||[".zip",".tar",".gz",".tgz",".bz2",".tbz2",".xz",".7z",".rar"].some(e=>i.endsWith(e)))?(y=(0,t.jsx)(g,{attachment:e}),R="Zip file",S=(0,t.jsx)(l.default,{size:16})):(y=(0,t.jsx)(z,{attachment:e,readFile:u}),R="Attached file",S=(0,t.jsx)(a.default,{size:16}))}let D=B?.text??f;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.BaseButton,{onPress:()=>{P(!0)},css:"default"===v?T.defaultButton:T.smallButton,children:(0,t.jsxs)(V.Tooltip,{tooltip:(0,t.jsxs)(x.View,{css:T.tooltipContents,children:[(0,t.jsx)(m.Text,{children:(0,d.getFileName)(e.path)}),D?(0,t.jsx)(m.Text,{css:B?.type==="warning"?w.rcss.color.orangeStrongest:w.rcss.color.foregroundDimmer,children:D}):null]}),maxWidth:300,placement:"bottom",css:Z.tooltip,children:[j,c?(0,t.jsx)(h.default,{onRemoveClick:()=>c(e.path),isLoading:e.isLoading}):null]})}),(0,t.jsx)(M.Modal,{isOpen:C,maxWidth:800,onRequestClose:()=>P(!1),centered:!0,noPadding:!0,children:(0,t.jsxs)(x.View,{css:T.viewerModal,children:[(0,t.jsx)(H,{viewerIcon:S,viewerTitle:R,fileName:(0,d.getFileName)(e.path)}),(0,t.jsx)(x.View,{css:T.viewerModalContents,grow:1,shrink:1,children:y}),B?(0,t.jsx)(x.View,{p:16,children:(0,t.jsx)(A.StatusBanner,{text:B.text,colorway:"warning"===B.type?"orange":"primary",icon:"warning"===B.type?(0,t.jsx)(o.default,{size:16}):(0,t.jsx)(n.default,{size:16})})}):null]})})]})}function H({viewerIcon:e,viewerTitle:i,fileName:a}){return(0,t.jsxs)(x.View,{p:16,gap:8,children:[(0,t.jsxs)(x.View,{row:!0,align:"center",gap:8,children:[e,(0,t.jsx)(m.Text,{variant:"subheadDefault",children:i})]}),(0,t.jsx)(m.Text,{variant:"small",color:"dimmer",children:a})]})}let Z=(0,v.cssRecord)({tooltip:[w.rcss.flex.grow(1)],container:[w.rcss.center,w.rcss.flex.grow(1)],image:[w.rcss.borderRadius(4)],disabledImage:[w.rcss.borderRadius(4),{opacity:.3}],fileName:[w.rcss.align.center,w.rcss.rowWithGap(2)]});function k({attachment:e,getAttachmentTypeDisclaimer:i}){let a=i(e.mimeType);return(0,t.jsxs)(x.View,{css:Z.container,px:8,gap:4,children:[(0,t.jsx)(y.default,{path:e.path,size:20}),(0,t.jsxs)(m.Text,{color:"dimmer",multiline:!1,css:Z.fileName,children:[a?(0,t.jsxs)(t.Fragment,{children:["warning"===a.type?(0,t.jsx)(o.default,{size:16,color:f.tokens.orangeStrongest}):(0,t.jsx)(n.default,{size:16,color:f.tokens.foregroundDimmer})," "]}):null,(0,d.getFileName)(e.path)]})]})}function C({file:e,setSrc:t}){if(["image/jpeg","image/png","image/gif","image/webp"].includes(e.type))t(URL.createObjectURL(e));else{let i=new FileReader;i.onload=e=>{e.target?.result&&t(e.target.result)},i.readAsDataURL(e)}}function F({attachment:e,readFile:a,imagesDisabledMessage:s}){let[n,r]=(0,i.useState)(e.path);return(0,i.useEffect)(()=>{e.dataUrl?r(e.dataUrl):e.file?C({file:e.file,setSrc:r}):a&&a(e.path).then(t=>{if("content"in t){let i=t.content.toString("base64");r(`data:${e.mimeType};base64,${i}`)}})},[e,a]),(0,t.jsxs)(x.View,{grow:!0,align:"center",justify:"center",children:[(0,t.jsx)(R.default,{src:n,layout:"fill",alt:"Attached Image","aria-label":"Image",objectFit:"cover",css:s?Z.disabledImage:Z.image}),s?(0,t.jsx)(o.default,{size:24,color:f.tokens.orangeStrongest}):null]})}function z({attachment:e,readFile:a}){let[s,n]=(0,i.useState)(null);return(0,i.useEffect)(()=>{e.dataUrl?fetch(e.dataUrl).then(e=>e.text()).then(e=>n(e)):e.file?e.file.text().then(n):a&&a(e.path).then(e=>{"content"in e&&n(e.content.toString("utf8").slice(0,5e3)+(e.content.length>5e3?"...":""))})},[e.file,a,e]),(0,t.jsx)(t.Fragment,{children:s?(0,t.jsx)(m.Text,{css:{whiteSpace:"pre-wrap"},children:s}):(0,t.jsx)(c.default,{})})}let P=(0,v.cssRecord)({container:[w.rcss.center,w.rcss.px(8),w.rcss.flex.grow(1),w.rcss.flex.column],imageWrapper:[w.rcss.center,w.rcss.width("auto"),w.rcss.height("auto"),w.rcss.minWidth(200),w.rcss.minHeight(200),w.rcss.p(16)]});function L({attachment:e,readFile:a}){let[s,n]=(0,i.useState)(e.path);return(0,i.useEffect)(()=>{e.dataUrl?n(e.dataUrl):e.file?C({file:e.file,setSrc:n}):a&&a(e.path).then(t=>{if("content"in t){let i=t.content.toString("base64");n((0,u.getMediaSrc)(i,e.mimeType))}})},[e,a]),(0,t.jsx)(x.View,{css:P.container,gap:4,children:(0,t.jsx)(x.View,{css:P.imageWrapper,children:(0,t.jsx)(u.Viewer,{src:s,fileName:(0,d.getFileName)(e.path),mime:e.mimeType})})})}let D=(0,v.cssRecord)({container:[w.rcss.textAlign.left,w.rcss.justify.center,w.rcss.align.start,w.rcss.flex.grow(1),w.rcss.flex.column,w.rcss.gap(4),w.rcss.backgroundColor.backgroundHigher,w.rcss.borderRadius(2)],previewContainer:[w.rcss.flex.column,w.rcss.flex.grow(1),w.rcss.borderRadius(4),w.rcss.maxHeight(61),{position:"relative",overflow:"hidden"}],previewContainerSmall:[w.rcss.flex.column,w.rcss.flex.grow(1),w.rcss.borderRadius(4),w.rcss.maxHeight(36),{position:"relative",overflow:"hidden"}],previewContent:[{pointerEvents:"none",width:"100%",height:"100%",overflow:"hidden","& *":{fontSize:"5px !important",lineHeight:"1.2 !important"},"& p, & h1, & h2, & h3, & h4, & h5, & h6":{margin:"2px 0 !important"},"& code":{padding:"0 2px !important"}}]}),_={a:e=>(0,t.jsxs)(m.Text,{children:["[",e.children,"](",e.href,")"]}),img:e=>(0,t.jsxs)(m.Text,{children:["![",e.alt,"](",e.src,")"]})};function N({attachment:e,readFile:a,size:s="default"}){let[n,r]=(0,i.useState)(null),l=e=>e.trim().split("\n").slice(0,50).join(" ").replace(/\s+/g," ").trim();return(0,i.useEffect)(()=>{e.file?e.file.text().then(e=>{r(l(e))}):a&&a(e.path).then(e=>{"content"in e&&r(l(e.content.toString("utf8")))})},[e,a]),(0,t.jsx)(x.View,{css:D.container,px:8,children:(0,t.jsx)(x.View,{css:"default"===s?D.previewContainer:D.previewContainerSmall,children:n?(0,t.jsx)(x.View,{css:D.previewContent,children:(0,t.jsx)(S.default,{components:_,children:n})}):(0,t.jsx)(c.default,{})})})}function E({attachment:e,readFile:a}){let[s,n]=(0,i.useState)(null);return(0,i.useEffect)(()=>{e.file?e.file.text().then(n):a&&a(e.path).then(e=>{"content"in e&&n(e.content.toString("utf8"))})},[e,a]),(0,t.jsx)(t.Fragment,{children:s?(0,t.jsx)(x.View,{p:8,children:(0,t.jsx)(S.default,{components:_,children:s})}):(0,t.jsx)(c.default,{})})}function I({aiName:e}){return t=>t.startsWith("video/")||t.startsWith("audio/")?{text:`${e} can't read this file type, but it can use the file in your project.`,type:"warning"}:t.startsWith("application/pdf")?{text:`${e} will convert this file to text automatically. If this file contains images, upload them separately.`,type:"info"}:null}e.s(["FileAttachment",()=>B,"FileAttachmentModalHeader",()=>H,"SMALL_ATTACHMENT_HEIGHT",0,52,"SMALL_FILE_ATTACHMENT_WIDTH",0,104],200260),e.s(["getAttachmentTypeDisclaimer",()=>I],64256)}]);

//# debugId=fcd28dcc-d4be-ce5e-5bac-edfbb037ab29
//# sourceMappingURL=778f62c38a448409.js.map