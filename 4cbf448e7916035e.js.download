;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="55c81e1d-4209-7d79-9e99-ccf1f19b2c6c")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,696263,e=>{"use strict";var t=e.i(276385),r=e.i(389959),n=e.i(507491),a=e.i(183035),i=e.i(416298),s=e.i(140487),l=e.i(607278),o=e.i(818503),c=e.i(739521),u=e.i(396776),d=e.i(960178),p=e.i(625484);function h({isOpen:e,onRequestClose:h}){let[m,x]=(0,r.useState)(""),[v,g]=(0,r.useState)(""),[C,y]=(0,r.useState)(!1),[j,f]=(0,r.useState)(null),[w]=(0,n.useRequestNewConnectorMutation)(),b=(0,r.useRef)(null),S=()=>{x(""),g(""),f(null)},k=async()=>{if(m.trim()&&v.trim()){y(!0),f(null);try{await w({variables:{input:{connectorName:m.trim(),description:v.trim()}}}),f({type:"success",text:"Your integration request has been submitted successfully! We'll review it and consider it for future development."})}catch(e){f({type:"error",text:e instanceof Error?e.message:"Failed to submit your integration request. Please try again."})}finally{b.current=setTimeout(()=>{y(!1),h(),S()},3e3)}}};(0,r.useEffect)(()=>()=>{b.current&&(clearTimeout(b.current),b.current=null)},[]);let T=()=>{C||(S(),h())},M=!m.trim()||!v.trim()||C;return(0,t.jsx)(c.Modal,{isOpen:e,onRequestClose:T,centered:!0,maxWidth:500,preventClose:C,children:(0,t.jsxs)(p.View,{gap:24,p:16,children:[(0,t.jsxs)(p.View,{gap:8,children:[(0,t.jsx)(d.Header,{level:2,variant:"headerDefault",children:"Request a new integration"}),(0,t.jsx)(d.Text,{color:"dimmer",children:"Tell us about an integration you'd like to see added to Replit. We'll review your request and consider it for future development."})]}),(0,t.jsxs)(p.View,{gap:16,children:[(0,t.jsxs)(p.View,{gap:4,children:[(0,t.jsx)(o.Label,{variant:"text",htmlFor:"integration-name",children:"Integration Name"}),(0,t.jsx)(l.Input,{placeholder:"e.g., Notion, Google Docs, Slack, etc.",id:"integration-name",value:m,onChange:e=>x(e.target.value),disabled:C,maxLength:100})]}),(0,t.jsxs)(p.View,{gap:4,children:[(0,t.jsx)(o.Label,{variant:"text",htmlFor:"use-case-description",children:"Use Case Description"}),(0,t.jsx)(l.MultiLineInput,{placeholder:"Describe how you would use this integration and what specific functionality you need...",id:"use-case-description",value:v,onChange:e=>g(e.target.value),disabled:C,rows:4,maxLength:1e3}),(0,t.jsxs)(d.Text,{color:"dimmer",variant:"small",children:[v.length,"/1000 characters"]})]})]}),(0,t.jsxs)(p.View,{gap:12,children:[j?(0,t.jsx)(u.StatusBanner,{text:j.text,colorway:"success"===j.type?"positive":"negative",icon:"success"===j.type?(0,t.jsx)(a.default,{}):(0,t.jsx)(i.default,{})}):null,(0,t.jsxs)(p.View,{row:!0,gap:12,justify:"end",children:[(0,t.jsx)(s.Button,{variant:"outlined",text:"Cancel",onClick:T,disabled:C}),(0,t.jsx)(s.Button,{text:"Submit request",colorway:"primary",onClick:k,disabled:M,loading:C})]})]})]})})}e.s(["RequestNewConnectorModal",()=>h])},254498,e=>{"use strict";var t=e.i(276385),r=e.i(913965);function n(e){return(0,t.jsxs)(r.default,{...e,children:[(0,t.jsxs)("g",{fillRule:"evenodd",clipPath:"url(#clip0_7378_479)",clipRule:"evenodd",children:[(0,t.jsx)("path",{fill:"#635BFF",d:"M0 2a2 2 0 0 1 2-2h20a2 2 0 0 1 2 2v20a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2Z"}),(0,t.jsx)("path",{fill:"#fff",d:"M11.064 9.33c0-.564.462-.786 1.23-.786 1.104 0 2.496.336 3.6.93V6.066C14.688 5.586 13.5 5.4 12.3 5.4c-2.946 0-4.902 1.536-4.902 4.104 0 4.002 5.514 3.366 5.514 5.094 0 .666-.582.882-1.392.882-1.206 0-2.742-.492-3.96-1.158v3.45c1.35.582 2.712.828 3.96.828 3.018 0 5.094-1.494 5.094-4.092-.024-4.32-5.55-3.552-5.55-5.178Z"})]}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_7378_479",children:(0,t.jsx)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]})}e.s(["default",()=>n])},438844,e=>{"use strict";var t=e.i(276385),r=e.i(116235);function n(e){return(0,t.jsxs)(r.default,{...e,children:[(0,t.jsx)("path",{d:"M13.571 2c.936 0 1.835.366 2.506 1.019a3.43 3.43 0 0 1 1.004 2.95 3.584 3.584 0 0 1 3.007.983l.042.041a3.43 3.43 0 0 1 0 4.917l-7.255 7.114a.23.23 0 0 0 0 .328l1.49 1.462a.686.686 0 0 1 0 .983.72.72 0 0 1-1.003 0l-1.489-1.461a1.603 1.603 0 0 1-.36-1.77c.084-.198.207-.376.36-.525l7.255-7.115a2.06 2.06 0 0 0 0-2.95l-.042-.041a2.157 2.157 0 0 0-3.006-.002l-5.976 5.86-.083.084a.72.72 0 0 1-1.158-.226.687.687 0 0 1 .154-.757l6.06-5.945a2.06 2.06 0 0 0 .62-1.474 2.058 2.058 0 0 0-.622-1.473 2.157 2.157 0 0 0-3.009 0l-8.021 7.866a.719.719 0 0 1-1.156-.224.686.686 0 0 1 .154-.76l8.022-7.865A3.595 3.595 0 0 1 13.57 2Z"}),(0,t.jsx)("path",{d:"M13.571 4.781a.72.72 0 0 1 .502.204.686.686 0 0 1 0 .984L8.14 11.786a2.061 2.061 0 0 0-.461 2.277c.107.253.264.482.46.673a2.157 2.157 0 0 0 3.009 0l5.932-5.818a.72.72 0 0 1 1.157.226.686.686 0 0 1-.153.757L12.15 15.72a3.596 3.596 0 0 1-5.013 0 3.43 3.43 0 0 1 0-4.916l5.932-5.819a.72.72 0 0 1 .502-.204Z"})]})}e.s(["default",()=>n])},109900,e=>{"use strict";var t=e.i(276385),r=e.i(973245),n=e.i(520112),a=e.i(304277);e.i(566901);let i={},s=r.gql`
    query GitProvidersSection {
  currentUser {
    ... on CurrentUser {
      id
      connectorContext {
        __typename
        ...ConnectorContext
        ... on Error {
          message
        }
      }
    }
  }
}
    ${n.ConnectorContextFragmentDoc}`;var l=e.i(116235);function o(e){return(0,t.jsx)(l.default,{...e,children:(0,t.jsx)("path",{d:"M22.495 11.02 12.93 1.415a1.41 1.41 0 0 0-1.538-.307 1.41 1.41 0 0 0-.457.307L8.948 3.409l2.52 2.531a1.667 1.667 0 0 1 1.724.403 1.687 1.687 0 0 1 .398 1.741l2.428 2.44a1.667 1.667 0 0 1 1.734.4 1.686 1.686 0 0 1 0 2.383 1.676 1.676 0 0 1-1.83.366 1.677 1.677 0 0 1-1.003-1.227 1.694 1.694 0 0 1 .093-.972L12.747 9.2v5.985a1.677 1.677 0 0 1 .936 1.51c0 .448-.176.877-.491 1.193a1.674 1.674 0 0 1-2.738-.547 1.69 1.69 0 0 1 .913-2.205v-6.04a1.69 1.69 0 0 1-.912-2.211L7.973 4.388l-6.559 6.586a1.417 1.417 0 0 0-.306 1.545c.071.172.175.328.306.46l9.566 9.605a1.41 1.41 0 0 0 1.995 0l9.52-9.56a1.42 1.42 0 0 0 0-2.005Z"})})}var c=e.i(917063),u=e.i(163355),d=e.i(993796),p=e.i(882793),h=e.i(960178),m=e.i(625484);let x=[];e.s(["GitProvidersSection",0,({query:e,onOpenGitPane:r})=>{var n;let l,v=(0,d.useFlag)({controlName:"flag-github-connection-migration"}),{data:g,refetch:C}=(n={ssr:!1},l={...i,...n},a.useQuery(s,l)),{handleDelete:y,handleEvent:j}=(0,u.usePersonalConnectorMutations)({refetch:C});if(!v)return null;let f=[...p.VERSION_CONTROL_CONNECTORS],w=g?.currentUser?.__typename==="CurrentUser"?g.currentUser.connectorContext:null,b=w?.__typename==="CurrentUserConnectorContext"?w.openIntClientToken:null,S=w?.__typename==="CurrentUserConnectorContext"?w.connections??x:x,k=w?.__typename==="CurrentUserConnectorContext"?w.connectorConfigs??x:x;return b?(0,t.jsxs)(m.View,{gap:8,children:[(0,t.jsxs)(m.View,{gap:4,children:[(0,t.jsxs)(m.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(o,{size:24}),(0,t.jsx)(h.Header,{level:2,variant:"subheadBig",children:"Git Providers"})]}),(0,t.jsxs)(h.Text,{color:"dimmer",children:["Connect your git provider to push, pull, and sync code via the"," ",r?(0,t.jsx)("a",{href:"",onClick:e=>{e.preventDefault(),r()},children:"Git pane"}):"Git pane",". Not accessible to Replit Agent."]})]}),(0,t.jsx)(c.ConnectorsShared,{token:b,connectorConfigs:k,connections:S,onDelete:y,onEvent:j,query:e,shouldShowConnectButton:!1,whitelist:f})]}):null}],109900)},24290,e=>{"use strict";var t=e.i(276385),r=e.i(389959),n=e.i(415756),a=e.i(252204),i=e.i(858248),s=e.i(709485),l=e.i(882793),o=e.i(140487),c=e.i(91720),u=e.i(734582),d=e.i(272119),p=e.i(423828),h=e.i(960178),m=e.i(625484);e.s(["ReplitManagedTable",0,({query:e,openPane:x})=>{let v=(0,r.useMemo)(()=>new n.Fzf(l.REPLIT_MANAGED_SERVICES,{fuzzy:!1,selector:e=>`${e.name} ${e.type}`}),[]),g=(0,r.useMemo)(()=>e?v.find(e).map(e=>e.item):l.REPLIT_MANAGED_SERVICES,[v,e]);return(0,t.jsx)(u.IndexTable,{autoLayout:!1,title:"",columns:[{key:"name",label:"Name",allowSorting:!1,width:200,isRowHeader:!0},{key:"type",label:"Type",allowSorting:!1,minWidth:118},{key:"actions",label:"",allowSorting:!1,width:118}],items:g,children:e=>(0,t.jsxs)(p.TableRow,{id:e.id,children:[(0,t.jsx)(d.TableCell,{children:(0,t.jsxs)(m.View,{gap:8,row:!0,align:"center",children:[e.icon,(0,t.jsx)(h.Text,{translate:"no",children:e.name})]})},"name"),(0,t.jsx)(d.TableCell,{children:(0,t.jsx)(h.Text,{color:"dimmer",children:e.type})},"type"),(0,t.jsx)(d.TableCell,{children:(0,t.jsx)(m.View,{row:!0,justify:"end",children:x?(0,t.jsx)(o.Button,{iconLeft:(0,t.jsx)(a.default,{size:12}),text:"Open",onClick:()=>{(0,i.track)(s.events.REPLIT_MANAGED_SERVICE_CLICKED,{serviceName:e.name,serviceType:e.type,actionType:"open",source:"workspace"}),x(e.pane)},size:"small"}):(0,t.jsx)(c.ButtonLink,{href:e.link,iconLeft:(0,t.jsx)(a.default,{size:12}),text:"Learn more",size:"small",target:"_blank",onClick:()=>{(0,i.track)(s.events.REPLIT_MANAGED_SERVICE_CLICKED,{serviceName:e.name,serviceType:e.type,actionType:"learn_more",source:"external"})}})})},"actions")]},e.id)})}])},388079,e=>{"use strict";var t=e.i(973245),r=e.i(520112),n=e.i(304277);e.i(566901);let a={},i=t.gql`
    query McpServersSection {
  currentUser {
    ... on CurrentUser {
      id
      connectorContext {
        __typename
        ...ConnectorContext
        ... on Error {
          message
        }
      }
    }
  }
}
    ${r.ConnectorContextFragmentDoc}`;function s(e){let t={...a,...e};return n.useQuery(i,t)}e.s(["useMcpServersSectionQuery",()=>s])},344782,e=>{"use strict";var t=e.i(276385),r=e.i(612866),n=e.i(389959),a=e.i(388079),i=e.i(252204),s=e.i(438844),l=e.i(40916),o=e.i(917063),c=e.i(882793),u=e.i(973245),d=e.i(304277);e.i(566901);var p=e.i(951262);let h={},m=u.gql`
    query CustomMcpConnectorInfo {
  getUserConnectorByName(connectorName: "custom-mcp") {
    ... on UserConnector {
      type
      name
      connectionSettings
    }
  }
}
    `,x=u.gql`
    mutation CreateCustomMcpConnection($input: CreateApiKeyConnectionInput!) {
  createApiKeyConnection(input: $input) {
    ... on CreateApiKeyConnectionResult {
      connectionId
    }
    ... on UserError {
      message
    }
    ... on ServiceUnavailable {
      message
    }
  }
}
    `;var v=e.i(491194),g=e.i(416298),C=e.i(993796),y=e.i(322823),j=e.i(222342),f=e.i(858248),w=e.i(709485),b=e.i(613355),S=e.i(140487),k=e.i(136540),T=e.i(607278),M=e.i(818503),V=e.i(739521),P=e.i(624782),L=e.i(396776),_=e.i(960178),R=e.i(625484);let N=[b.rcss.color.accentNegativeDefault],E=[b.rcss.color.orangeDefault],U=e=>e.trim()?null:{message:"Please enter a display name for this MCP server",severity:"error"},O=e=>{if(!e.trim())return{message:"Please enter an MCP server URL",severity:"error"};try{let t=new URL(e);if("https:"!==t.protocol)return{message:"MCP server URL must use HTTPS for security",severity:"error"}}catch{return{message:"Please enter a valid URL",severity:"error"}}return null},A=e=>{if(e.filter(e=>""!==e.key.trim()&&""===e.value.trim()||""===e.key.trim()&&""!==e.value.trim()).length>0)return{message:"Please provide both name and value for all headers or remove them",severity:"error"};let t=new Set,r=new Set;return(e.forEach(e=>{let n=e.key.trim().toLowerCase();n&&r.has(n)&&t.add(e.key.trim()),n&&r.add(n)}),t.size>0)?{message:`Duplicate header keys found: ${Array.from(t).join(", ")}`,severity:"warning"}:null};function I({token:e,onConnectionCreated:r,isOpen:n,onRequestClose:a,onSuccess:i,initialParams:s}){return(0,C.useFlag)({controlName:"flag-use-openint-custommcp-modal"})&&e?(0,t.jsx)(B,{isOpen:n,onRequestClose:a,onSuccess:i,token:e,onConnectionCreated:r,initialParams:s}):(0,t.jsx)(F,{isOpen:n,onRequestClose:a,onSuccess:i,initialParams:s})}function B({isOpen:e,onRequestClose:r,onSuccess:a,token:i,onConnectionCreated:s,initialParams:l}){let c=(0,n.useCallback)((e,t)=>{e||(r(),"authenticated"===t&&a?.())},[r,a]),u=(0,n.useCallback)(async e=>{"connect.connection-connected"===e.name&&(0,f.track)(w.events.CUSTOM_MCP_CONNECTION_CREATED,{displayName:l?.displayName??"",hasCustomHeaders:(l?.headers??[]).length>0}),s&&await s(e)},[s,l]),d=l?{custom_mcp:{display_name:l.displayName,base_url:l.baseUrl,headers:l.headers?.map(e=>({key:e.key,value:e.value}))}}:null;return(0,t.jsx)(o.AddIntegrationModal,{isOpen:e,setIsOpen:c,token:i,selectedConnector:"CUSTOM_MCP",onEvent:u,prefill:d})}function F({isOpen:e,onRequestClose:r,onSuccess:a,initialParams:i}){var s,o;let c,u,C=(0,y.useFormField)(i?.displayName??"",U),f=(0,y.useFormField)(i?.baseUrl??"",O),w=(0,y.useFormField)(i?.headers??[],A),[b,I]=(0,n.useState)(null),{showConfirm:B}=(0,j.default)(),{loading:F}=(s={skip:!e},c={...h,...s},d.useQuery(m,c)),[q,{loading:D}]=(o={onCompleted:e=>{"CreateApiKeyConnectionResult"===e.createApiKeyConnection.__typename?(B("Custom MCP server added successfully!"),G(),a?.()):I(e.createApiKeyConnection.message)},onError:e=>{I(e.message)}},u={...h,...o},p.useMutation(x,u)),H=(e,t,r)=>{let n=[...w.value];n[e][t]=r,w.setValue(n)},z=async()=>{I(null);let e=await C.validate(),t=await f.validate(),r=await w.validate();if(e||t||r)return;let n={base_url:f.value,headers:w.value.filter(e=>""!==e.key.trim()&&""!==e.value.trim()).map(e=>({key:e.key.trim(),value:e.value.trim()}))};await q({variables:{input:{connectorName:"CUSTOM_MCP",config:n,displayName:C.value.trim()}}})},G=()=>{C.setValue("",{preventTouch:!0,preventValidation:!0}),f.setValue("",{preventTouch:!0,preventValidation:!0}),w.setValue([],{preventTouch:!0,preventValidation:!0}),C.setTouched(!1),f.setTouched(!1),w.setTouched(!1),I(null),r()},K=D||F||!!C.error||!!f.error||!!w.error;return(0,t.jsx)(V.Modal,{isOpen:e,onRequestClose:G,centered:!0,maxWidth:600,preventClose:D,children:(0,t.jsxs)(R.View,{gap:24,p:16,children:[(0,t.jsxs)(R.View,{gap:8,children:[(0,t.jsxs)(R.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(_.Header,{level:2,variant:"headerDefault",children:"Add Custom MCP Server"}),(0,t.jsx)(P.Pill,{text:"Beta",colorway:"primary"})]}),(0,t.jsx)(_.Text,{color:"dimmer",children:"Connect to any MCP server by providing the URL and authentication headers."})]}),(0,t.jsxs)(R.View,{gap:20,children:[(0,t.jsxs)(R.View,{gap:4,children:[(0,t.jsx)(M.Label,{variant:"text",htmlFor:"mcp-display-name",children:"Display Name *"}),(0,t.jsx)(T.Input,{id:"mcp-display-name",placeholder:"My MCP Server",value:C.value,onChange:e=>C.setValue(e.target.value,{preventValidation:!0}),onBlur:C.handleBlur,disabled:D}),C.error?(0,t.jsx)(_.Text,{css:N,variant:"small",children:C.error.message}):(0,t.jsx)(_.Text,{color:"dimmer",variant:"small",children:"A name to identify this MCP server"})]}),(0,t.jsxs)(R.View,{gap:4,children:[(0,t.jsx)(M.Label,{variant:"text",htmlFor:"mcp-base-url",children:"MCP Server URL *"}),(0,t.jsx)(T.Input,{id:"mcp-base-url",placeholder:"https://mcp.example.com",value:f.value,onChange:e=>f.setValue(e.target.value,{preventValidation:!0}),onBlur:f.handleBlur,disabled:D}),f.error?(0,t.jsx)(_.Text,{css:N,variant:"small",children:f.error.message}):(0,t.jsx)(_.Text,{color:"dimmer",variant:"small",children:"The base URL of your MCP server"})]}),(0,t.jsxs)(R.View,{gap:8,children:[(0,t.jsxs)(R.View,{row:!0,align:"center",justify:"space-between",children:[(0,t.jsx)(M.Label,{variant:"text",children:"Custom Headers"}),(0,t.jsx)(S.Button,{text:"Add Header",variant:"outlined",size:"small",iconLeft:(0,t.jsx)(l.default,{}),onClick:()=>{w.setValue([...w.value,{key:"",value:""}])},disabled:D})]}),w.value.map((e,r)=>(0,t.jsx)(R.View,{gap:8,children:(0,t.jsxs)(R.View,{row:!0,gap:8,align:"end",children:[(0,t.jsxs)(R.View,{gap:4,style:{flex:1},children:[(0,t.jsx)(M.Label,{variant:"text",htmlFor:`header-key-${r}`,children:"Name"}),(0,t.jsx)(T.Input,{id:`header-key-${r}`,placeholder:"X-Custom-Header",value:e.key,onChange:e=>H(r,"key",e.target.value),disabled:D})]}),(0,t.jsxs)(R.View,{gap:4,style:{flex:2},children:[(0,t.jsx)(M.Label,{variant:"text",htmlFor:`header-value-${r}`,children:"Value"}),(0,t.jsx)(T.Input,{id:`header-value-${r}`,type:"authorization"===e.key.toLowerCase()?"password":"text",placeholder:"authorization"===e.key.toLowerCase()?"Bearer your-token-here":"Header Value",value:e.value,onChange:e=>H(r,"value",e.target.value),disabled:D})]}),(0,t.jsx)(k.IconButton,{alt:"Remove header",onClick:()=>{w.setValue(w.value.filter((e,t)=>t!==r))},disabled:D,children:(0,t.jsx)(v.default,{})})]})},r)),w.error?(0,t.jsx)(_.Text,{css:N,variant:"small",children:w.error.message}):null,!w.error&&w.warning?(0,t.jsx)(_.Text,{css:E,variant:"small",children:w.warning.message}):null,w.error||w.warning?null:(0,t.jsx)(_.Text,{color:"dimmer",variant:"small",children:"Add headers for authentication (e.g., Authorization, X-API-Key)"})]}),b?(0,t.jsx)(L.StatusBanner,{text:b,colorway:"negative",icon:(0,t.jsx)(g.default,{})}):null]}),(0,t.jsxs)(R.View,{row:!0,gap:12,justify:"end",children:[(0,t.jsx)(S.Button,{variant:"outlined",text:"Cancel",onClick:G,disabled:D}),(0,t.jsx)(S.Button,{text:D?"Saving...":"Save",colorway:"primary",onClick:z,disabled:K,loading:D})]})]})})}var q=e.i(750854),D=e.i(960933),H=e.i(862927);let z=D.Type.Object({key:D.Type.String({minLength:1}),value:D.Type.String()}),G=D.Type.Object({displayName:D.Type.String({minLength:1,maxLength:1e3}),baseUrl:D.Type.String({minLength:1}),headers:D.Type.Optional(D.Type.Array(z,{maxItems:20}))});function K(e){let t="string"==typeof e.mcp?e.mcp:null;if(!t)return null;try{let e=atob(t),r=JSON.parse(e);if(!H.Value.Check(G,r))return null;let n=new URL(r.baseUrl);if("https:"!==n.protocol)return null;return{displayName:r.displayName,baseUrl:r.baseUrl,headers:r.headers||[]}}catch{return null}}var $=e.i(163355),W=e.i(183035),Q=e.i(734882);function Z({isOpen:e,onRequestClose:r}){let[a,i]=(0,n.useState)(""),[s,l]=(0,n.useState)(""),[o,c]=(0,n.useState)(""),[u,d]=(0,n.useState)(""),[p,h]=(0,n.useState)(!1),[m,x]=(0,n.useState)(null),v=()=>{i(""),l(""),c(""),d(""),x(null)},C=async()=>{if(!a||!o)return void x({type:"error",text:"Please answer all required questions."});h(!0),x(null);try{(0,f.track)(w.events.MCP_INTEREST_SUBMITTED,{setupPreference:a,comfortLevel:o,...s.trim()&&{specificServers:s.trim()},...u.trim()&&{additionalFeedback:u.trim()}}),x({type:"success",text:"Thank you for your feedback! We'll use this to improve our MCP support."}),await new Promise(e=>setTimeout(e,2e3)),r(),v()}catch(e){x({type:"error",text:e instanceof Error?e.message:"Failed to submit your feedback. Please try again."})}finally{h(!1)}},y=()=>{p||(v(),r())},j=!a||!o||p;return(0,t.jsx)(V.Modal,{isOpen:e,onRequestClose:y,centered:!0,maxWidth:600,preventClose:p,children:(0,t.jsxs)(R.View,{gap:24,p:16,children:[(0,t.jsxs)(R.View,{gap:8,children:[(0,t.jsx)(_.Header,{level:2,variant:"headerDefault",children:"MCP server interest"}),(0,t.jsx)(_.Text,{color:"dimmer",children:"Help us understand what you'd like to do with MCP servers in Replit. Your feedback will guide our MCP integration roadmap."})]}),(0,t.jsxs)(R.View,{gap:20,children:[(0,t.jsxs)(R.View,{gap:4,children:[(0,t.jsx)(M.Label,{variant:"text",children:"How do you prefer to set up MCP servers? *"}),(0,t.jsx)(Q.RadioGroup,{name:"setup-preference",value:a,onChange:e=>i(e.target.value),disabled:p,children:(0,t.jsxs)(R.View,{gap:8,children:[(0,t.jsxs)(R.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(Q.Radio,{id:"setup-preconfigured",value:"preconfigured",disabled:p}),(0,t.jsx)(M.Label,{htmlFor:"setup-preconfigured",children:"Pre-configured servers (just click to enable)"})]}),(0,t.jsxs)(R.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(Q.Radio,{id:"setup-remote",value:"remote",disabled:p}),(0,t.jsx)(M.Label,{htmlFor:"setup-remote",children:"Custom remote servers (provide URL/endpoint)"})]}),(0,t.jsxs)(R.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(Q.Radio,{id:"setup-local",value:"local",disabled:p}),(0,t.jsx)(M.Label,{htmlFor:"setup-local",children:"Local servers (run in my App)"})]}),(0,t.jsxs)(R.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(Q.Radio,{id:"setup-unsure",value:"unsure",disabled:p}),(0,t.jsx)(M.Label,{htmlFor:"setup-unsure",children:"Not sure yet"})]})]})})]}),(0,t.jsxs)(R.View,{gap:4,children:[(0,t.jsx)(M.Label,{variant:"text",htmlFor:"specific-servers",children:"What specific MCP servers would you like to use?"}),(0,t.jsx)(T.Input,{placeholder:"e.g. Miro, Notion, Obsidian, etc.",id:"specific-servers",value:s,onChange:e=>l(e.target.value),disabled:p,maxLength:200}),(0,t.jsxs)(_.Text,{color:"dimmer",variant:"small",children:[s.length,"/200 characters"]})]}),(0,t.jsxs)(R.View,{gap:4,children:[(0,t.jsx)(M.Label,{variant:"text",children:"What's your comfort level with MCP configuration? *"}),(0,t.jsx)(Q.RadioGroup,{name:"comfort-level",value:o,onChange:e=>c(e.target.value),disabled:p,children:(0,t.jsxs)(R.View,{gap:8,children:[(0,t.jsxs)(R.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(Q.Radio,{id:"comfort-very",value:"very-comfortable",disabled:p}),(0,t.jsx)(M.Label,{htmlFor:"comfort-very",children:"I can write custom configuration files"})]}),(0,t.jsxs)(R.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(Q.Radio,{id:"comfort-not-very",value:"not-very-comfortable",disabled:p}),(0,t.jsx)(M.Label,{htmlFor:"comfort-not-very",children:"I need guided setup"})]}),(0,t.jsxs)(R.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(Q.Radio,{id:"comfort-no-experience",value:"no-experience",disabled:p}),(0,t.jsx)(M.Label,{htmlFor:"comfort-no-experience",children:"No experience with MCP yet"})]})]})})]}),(0,t.jsxs)(R.View,{gap:4,children:[(0,t.jsx)(M.Label,{variant:"text",htmlFor:"additional-feedback",children:"Any other feedback or feature requests?"}),(0,t.jsx)(T.MultiLineInput,{id:"additional-feedback",value:u,onChange:e=>d(e.target.value),disabled:p,rows:3,maxLength:500}),(0,t.jsxs)(_.Text,{color:"dimmer",variant:"small",children:[u.length,"/500 characters"]})]})]}),(0,t.jsxs)(R.View,{gap:12,children:[m?(0,t.jsx)(L.StatusBanner,{text:m.text,colorway:"success"===m.type?"positive":"negative",icon:"success"===m.type?(0,t.jsx)(W.default,{}):(0,t.jsx)(g.default,{})}):null,(0,t.jsxs)(R.View,{row:!0,gap:12,justify:"end",children:[(0,t.jsx)(S.Button,{variant:"outlined",text:"Cancel",onClick:y,disabled:p}),(0,t.jsx)(S.Button,{text:"Submit feedback",colorway:"primary",onClick:C,disabled:j,loading:p})]})]})]})})}var Y=e.i(968783),X=e.i(325990),J=e.i(91720);let ee=[];e.s(["McpServersSection",0,({query:e})=>{let[u,d]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),{data:m,refetch:x}=(0,a.useMcpServersSectionQuery)({ssr:!1}),{handleDelete:v,handleEvent:g}=(0,$.usePersonalConnectorMutations)({refetch:x}),{orgId:y}=(0,Y.useCurrentUserStoredOrgContext)(),j=(0,C.useFlag)({controlName:"flag-custom-mcp-servers"}),b=(0,X.useOrgFlag)({controlName:"flag-org-custom-mcp-servers"}),k=y?b:j,T=(0,n.useMemo)(()=>Array.from(c.MCP_CONNECTORS).filter(e=>"CUSTOM_MCP"!==e||k),[k]),{shouldAutoOpen:M,getDeeplinkParams:V,clearDeeplinkParams:N}=function(e){let t=(0,q.useRouter)(),[r,a]=(0,n.useState)(!1),[i,s]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{i||e||K(t.query)&&(a(!0),s(!0))},[e,i,t.query]),{shouldAutoOpen:r,getDeeplinkParams:()=>K(t.query),clearDeeplinkParams:()=>{let{mcp:e,...r}=t.query;t.replace({pathname:t.pathname,query:r},void 0,{shallow:!0}),a(!1)}}}(p);(0,n.useEffect)(()=>{M&&k&&!p&&(h(!0),(0,f.track)(w.events.CUSTOM_MCP_MODAL_OPENED,{source:"deeplink"}))},[M,p,k]);let E=V(),U=m?.currentUser?.__typename==="CurrentUser"?m.currentUser.connectorContext:null,O=U?.__typename==="CurrentUserConnectorContext"?U.openIntClientToken:null,A=U?.__typename==="CurrentUserConnectorContext"?(U.connections??ee).filter(e=>c.MCP_CONNECTORS.has(e.connectorName)):ee,B=U?.__typename==="CurrentUserConnectorContext"?(U.connectorConfigs??ee).filter(e=>e.connectorName&&c.MCP_CONNECTORS.has(e.connectorName)):ee;return O?(0,t.jsxs)(R.View,{gap:8,children:[(0,t.jsxs)(R.View,{gap:4,children:[(0,t.jsxs)(R.View,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,t.jsxs)(R.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(s.default,{size:24}),(0,t.jsx)(_.Header,{level:2,variant:"subheadBig",children:"MCP Servers for Replit Agent"}),(0,t.jsx)(P.Pill,{text:"Beta",colorway:"primary"})]}),k?(0,t.jsxs)(R.View,{row:!0,gap:8,children:[(0,t.jsx)(J.ButtonLink,{text:"Learn more",iconRight:(0,t.jsx)(i.default,{}),href:"https://docs.replit.com/replitai/mcp/custom-servers",target:"_blank"}),(0,t.jsx)(S.Button,{text:"Add MCP server",variant:"outlined",iconLeft:(0,t.jsx)(l.default,{}),onClick:()=>{h(!0),(0,f.track)(w.events.CUSTOM_MCP_MODAL_OPENED,{source:"button"})}})]}):null]}),(0,t.jsxs)(_.Text,{color:"dimmer",children:["Provide external context and tools to Replit Agent by connecting to"," ",(0,t.jsx)(r.default,{href:"https://modelcontextprotocol.io/",target:"_blank",children:"MCP servers"}),"."]})]}),(0,t.jsx)(o.ConnectorsShared,{token:O,connectorConfigs:B,connections:A,onDelete:v,onEvent:g,query:e,shouldShowConnectButton:!1,whitelist:T}),(0,t.jsx)(R.View,{pt:12,children:(0,t.jsx)(L.StatusBanner,{title:"Help us expand MCP support",text:"Tell us which MCP servers would be most useful for your workflows. Your feedback will help shape what we build next.",action:(0,t.jsx)(S.Button,{text:"Share feedback",variant:"outlined",size:"small",onClick:()=>d(!0)})})}),(0,t.jsx)(Z,{isOpen:u,onRequestClose:()=>d(!1)}),k?(0,t.jsx)(I,{isOpen:p,onRequestClose:()=>{h(!1),N()},onSuccess:x,initialParams:E,token:O,onConnectionCreated:g}):null]}):null}],344782)}]);

//# debugId=55c81e1d-4209-7d79-9e99-ccf1f19b2c6c
//# sourceMappingURL=a676023438558ba3.js.map